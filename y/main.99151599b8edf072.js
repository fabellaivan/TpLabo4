"use strict";(self.webpackChunkappUTN=self.webpackChunkappUTN||[]).push([[179],{6304:(ht,Te,O)=>{O.d(Te,{Dh:()=>Re,GT:()=>ce,cc:()=>Pe,hO:()=>$e,on:()=>X,pX:()=>oe,xv:()=>ve});var _=O(5879),Z=O(120),z=O(8397);ht=O.hmd(ht);const ue=["ngOnDestroy"],oe=(Ze,Ct,pt,he={})=>new Proxy(Ze,{get:(Oe,me)=>pt.runOutsideAngular(()=>{var Ue;if(Ze[me])return!(null===(Ue=he?.spy)||void 0===Ue)&&Ue.get&&he.spy.get(me,Ze[me]),Ze[me];if(ue.indexOf(me)>-1)return()=>{};const Ke=Ct.toPromise().then(Je=>{const Ee=Je&&Je[me];return"function"==typeof Ee?Ee.bind(Je):Ee&&Ee.then?Ee.then(vt=>pt.run(()=>vt)):pt.run(()=>Ee)});return new Proxy(()=>{},{get:(Je,Ee)=>Ke[Ee],apply:(Je,Ee,vt)=>Ke.then($t=>{var Wn;const An=$t&&$t(...vt);return!(null===(Wn=he?.spy)||void 0===Wn)&&Wn.apply&&he.spy.apply(me,vt,An),An})})})}),ce=(Ze,Ct)=>{Ct.forEach(pt=>{Object.getOwnPropertyNames(pt.prototype||pt).forEach(he=>{Object.defineProperty(Ze.prototype,he,Object.getOwnPropertyDescriptor(pt.prototype||pt,he))})})};class pe{constructor(Ct){return Ct}}const Re=new _.OlP("angularfire2.app.options"),ve=new _.OlP("angularfire2.app.name");function X(Ze,Ct,pt){const Oe="object"==typeof pt&&pt||{};Oe.name=Oe.name||"string"==typeof pt&&pt||"[DEFAULT]";const Ue=Z.Z.apps.filter(Ke=>Ke&&Ke.name===Oe.name)[0]||Ct.runOutsideAngular(()=>Z.Z.initializeApp(Ze,Oe));try{JSON.stringify(Ze)!==JSON.stringify(Ue.options)&&ne("error",`${Ue.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new pe(Ue)}const ne=(Ze,...Ct)=>{(0,_.X6Q)()&&typeof console<"u"&&console[Ze](...Ct)},se={provide:pe,useFactory:X,deps:[Re,_.R0b,[new _.FiY,ve]]};let $e=(()=>{class Ze{constructor(pt){Z.Z.registerVersion("angularfire",z.q4.full,"core"),Z.Z.registerVersion("angularfire",z.q4.full,"app-compat"),Z.Z.registerVersion("angular",_.q4F.full,pt.toString())}static initializeApp(pt,he){return{ngModule:Ze,providers:[{provide:Re,useValue:pt},{provide:ve,useValue:he}]}}}return Ze.\u0275fac=function(pt){return new(pt||Ze)(_.LFG(_.Lbi))},Ze.\u0275mod=_.oAB({type:Ze}),Ze.\u0275inj=_.cJS({providers:[se]}),Ze})();function Pe(Ze,Ct,pt,he,Oe){const[,me,Ue]=globalThis.\u0275AngularfireInstanceCache.find(Ke=>Ke[0]===Ze)||[];if(me)return function Xe(Ze,Ct){try{return Ze.toString()===Ct.toString()}catch{return Ze===Ct}}(Oe,Ue)||(tt("error",`${Ct} was already initialized on the ${pt} Firebase App with different settings.${He?" You may need to reload as Firebase is not HMR aware.":""}`),tt("warn",{is:Oe,was:Ue})),me;{const Ke=he();return globalThis.\u0275AngularfireInstanceCache.push([Ze,Ke,Oe]),Ke}}const He=!!ht.hot,tt=(Ze,...Ct)=>{(0,_.X6Q)()&&typeof console<"u"&&console[Ze](...Ct)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8397:(ht,Te,O)=>{O.d(Te,{q4:()=>wc,iC:()=>Ao,HU:()=>_a,vb:()=>ma,JM:()=>bc});var _=O(5879),Z=O(4097),z=O(5861),ue=O(6122),oe=O(9058),ce=O(4537),pe=O(7879);const Re=(D,T)=>T.some(x=>D instanceof x);let ve,X;const $e=new WeakMap,Pe=new WeakMap,Xe=new WeakMap,He=new WeakMap,tt=new WeakMap;let pt={get(D,T,x){if(D instanceof IDBTransaction){if("done"===T)return Pe.get(D);if("objectStoreNames"===T)return D.objectStoreNames||Xe.get(D);if("store"===T)return x.objectStoreNames[1]?void 0:x.objectStore(x.objectStoreNames[0])}return Ue(D[T])},set:(D,T,x)=>(D[T]=x,!0),has:(D,T)=>D instanceof IDBTransaction&&("done"===T||"store"===T)||T in D};function me(D){return"function"==typeof D?function Oe(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function se(){return X||(X=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...T){return D.apply(Ke(this),T),Ue($e.get(this))}:function(...T){return Ue(D.apply(Ke(this),T))}:function(T,...x){const Q=D.call(Ke(this),T,...x);return Xe.set(Q,T.sort?T.sort():[T]),Ue(Q)}}(D):(D instanceof IDBTransaction&&function Ct(D){if(Pe.has(D))return;const T=new Promise((x,Q)=>{const le=()=>{D.removeEventListener("complete",ge),D.removeEventListener("error",Be),D.removeEventListener("abort",Be)},ge=()=>{x(),le()},Be=()=>{Q(D.error||new DOMException("AbortError","AbortError")),le()};D.addEventListener("complete",ge),D.addEventListener("error",Be),D.addEventListener("abort",Be)});Pe.set(D,T)}(D),Re(D,function ne(){return ve||(ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,pt):D)}function Ue(D){if(D instanceof IDBRequest)return function Ze(D){const T=new Promise((x,Q)=>{const le=()=>{D.removeEventListener("success",ge),D.removeEventListener("error",Be)},ge=()=>{x(Ue(D.result)),le()},Be=()=>{Q(D.error),le()};D.addEventListener("success",ge),D.addEventListener("error",Be)});return T.then(x=>{x instanceof IDBCursor&&$e.set(x,D)}).catch(()=>{}),tt.set(T,D),T}(D);if(He.has(D))return He.get(D);const T=me(D);return T!==D&&(He.set(D,T),tt.set(T,D)),T}const Ke=D=>tt.get(D);function Je(D,T,{blocked:x,upgrade:Q,blocking:le,terminated:ge}={}){const Be=indexedDB.open(D,T),ft=Ue(Be);return Q&&Be.addEventListener("upgradeneeded",ut=>{Q(Ue(Be.result),ut.oldVersion,ut.newVersion,Ue(Be.transaction))}),x&&Be.addEventListener("blocked",()=>x()),ft.then(ut=>{ge&&ut.addEventListener("close",()=>ge()),le&&ut.addEventListener("versionchange",()=>le())}).catch(()=>{}),ft}function Ee(D,{blocked:T}={}){const x=indexedDB.deleteDatabase(D);return T&&x.addEventListener("blocked",()=>T()),Ue(x).then(()=>{})}const vt=["get","getKey","getAll","getAllKeys","count"],$t=["put","add","delete","clear"],Wn=new Map;function An(D,T){if(!(D instanceof IDBDatabase)||T in D||"string"!=typeof T)return;if(Wn.get(T))return Wn.get(T);const x=T.replace(/FromIndex$/,""),Q=T!==x,le=$t.includes(x);if(!(x in(Q?IDBIndex:IDBObjectStore).prototype)||!le&&!vt.includes(x))return;const ge=function(){var Be=(0,z.Z)(function*(ft,...ut){const It=this.transaction(ft,le?"readwrite":"readonly");let Zt=It.store;return Q&&(Zt=Zt.index(ut.shift())),(yield Promise.all([Zt[x](...ut),le&&It.done]))[0]});return function(ut){return Be.apply(this,arguments)}}();return Wn.set(T,ge),ge}!function he(D){pt=D(pt)}(D=>({...D,get:(T,x,Q)=>An(T,x)||D.get(T,x,Q),has:(T,x)=>!!An(T,x)||D.has(T,x)}));const On="@firebase/installations",At="0.6.4",hr=1e4,Ar=`w:${At}`,be="FIS_v2",we="https://firebaseinstallations.googleapis.com/v1",Ae=36e5,st=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function V(D){return D instanceof oe.ZR&&D.code.includes("request-failed")}function pn({projectId:D}){return`${we}/projects/${D}/installations`}function Et(D){return{token:D.token,requestStatus:2,expiresIn:ar(D.expiresIn),creationTime:Date.now()}}function tn(D,T){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,z.Z)(function*(D,T){const Q=(yield T.json()).error;return st.create("request-failed",{requestName:D,serverCode:Q.code,serverMessage:Q.message,serverStatus:Q.status})})).apply(this,arguments)}function xt({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Mn(D){return sn.apply(this,arguments)}function sn(){return(sn=(0,z.Z)(function*(D){const T=yield D();return T.status>=500&&T.status<600?D():T})).apply(this,arguments)}function ar(D){return Number(D.replace("s","000"))}function pr(){return(pr=(0,z.Z)(function*({appConfig:D,heartbeatServiceProvider:T},{fid:x}){const Q=pn(D),le=xt(D),ge=T.getImmediate({optional:!0});if(ge){const It=yield ge.getHeartbeatsHeader();It&&le.append("x-firebase-client",It)}const ft={method:"POST",headers:le,body:JSON.stringify({fid:x,authVersion:be,appId:D.appId,sdkVersion:Ar})},ut=yield Mn(()=>fetch(Q,ft));if(ut.ok){const It=yield ut.json();return{fid:It.fid||x,registrationStatus:2,refreshToken:It.refreshToken,authToken:Et(It.authToken)}}throw yield tn("Create Installation",ut)})).apply(this,arguments)}function Un(D){return new Promise(T=>{setTimeout(T,D)})}const Mr=/^[cdef][\w-]{21}$/,lt="";function Tt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const x=function wt(D){return function ei(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Mr.test(x)?x:lt}catch{return lt}}function Ht(D){return`${D.appName}!${D.appId}`}const En=new Map;function Qn(D,T){const x=Ht(D);ji(x,T),function on(D,T){const x=function Rt(){return!cr&&"BroadcastChannel"in self&&(cr=new BroadcastChannel("[Firebase] FID Change"),cr.onmessage=D=>{ji(D.data.key,D.data.fid)}),cr}();x&&x.postMessage({key:D,fid:T}),function Rr(){0===En.size&&cr&&(cr.close(),cr=null)}()}(x,T)}function ji(D,T){const x=En.get(D);if(x)for(const Q of x)Q(T)}let cr=null;const Xn="firebase-installations-database",Jt=1,Yn="firebase-installations-store";let ci=null;function qn(){return ci||(ci=Je(Xn,Jt,{upgrade:(D,T)=>{0===T&&D.createObjectStore(Yn)}})),ci}function Bn(D,T){return In.apply(this,arguments)}function In(){return(In=(0,z.Z)(function*(D,T){const x=Ht(D),le=(yield qn()).transaction(Yn,"readwrite"),ge=le.objectStore(Yn),Be=yield ge.get(x);return yield ge.put(T,x),yield le.done,(!Be||Be.fid!==T.fid)&&Qn(D,T.fid),T})).apply(this,arguments)}function gr(D){return jn.apply(this,arguments)}function jn(){return(jn=(0,z.Z)(function*(D){const T=Ht(D),Q=(yield qn()).transaction(Yn,"readwrite");yield Q.objectStore(Yn).delete(T),yield Q.done})).apply(this,arguments)}function Jn(D,T){return er.apply(this,arguments)}function er(){return(er=(0,z.Z)(function*(D,T){const x=Ht(D),le=(yield qn()).transaction(Yn,"readwrite"),ge=le.objectStore(Yn),Be=yield ge.get(x),ft=T(Be);return void 0===ft?yield ge.delete(x):yield ge.put(ft,x),yield le.done,ft&&(!Be||Be.fid!==ft.fid)&&Qn(D,ft.fid),ft})).apply(this,arguments)}function re(D){return j.apply(this,arguments)}function j(){return j=(0,z.Z)(function*(D){let T;const x=yield Jn(D.appConfig,Q=>{const le=function $(D){return ct(D||{fid:Tt(),registrationStatus:0})}(Q),ge=function H(D,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(st.create("app-offline"))};const x={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},Q=function W(D,T){return fe.apply(this,arguments)}(D,x);return{installationEntry:x,registrationPromise:Q}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:We(D)}:{installationEntry:T}}(D,le);return T=ge.registrationPromise,ge.installationEntry});return x.fid===lt?{installationEntry:yield T}:{installationEntry:x,registrationPromise:T}}),j.apply(this,arguments)}function fe(){return fe=(0,z.Z)(function*(D,T){try{const x=yield function Lr(D,T){return pr.apply(this,arguments)}(D,T);return Bn(D.appConfig,x)}catch(x){throw V(x)&&409===x.customData.serverCode?yield gr(D.appConfig):yield Bn(D.appConfig,{fid:T.fid,registrationStatus:0}),x}}),fe.apply(this,arguments)}function We(D){return qe.apply(this,arguments)}function qe(){return(qe=(0,z.Z)(function*(D){let T=yield Ft(D.appConfig);for(;1===T.registrationStatus;)yield Un(100),T=yield Ft(D.appConfig);if(0===T.registrationStatus){const{installationEntry:x,registrationPromise:Q}=yield re(D);return Q||x}return T})).apply(this,arguments)}function Ft(D){return Jn(D,T=>{if(!T)throw st.create("installation-not-found");return ct(T)})}function ct(D){return function Wt(D){return 1===D.registrationStatus&&D.registrationTime+hr<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function yn(){return(yn=(0,z.Z)(function*({appConfig:D,heartbeatServiceProvider:T},x){const Q=function ui(D,{fid:T}){return`${pn(D)}/${T}/authTokens:generate`}(D,x),le=function gn(D,{refreshToken:T}){const x=xt(D);return x.append("Authorization",function St(D){return`${be} ${D}`}(T)),x}(D,x),ge=T.getImmediate({optional:!0});if(ge){const It=yield ge.getHeartbeatsHeader();It&&le.append("x-firebase-client",It)}const ft={method:"POST",headers:le,body:JSON.stringify({installation:{sdkVersion:Ar,appId:D.appId}})},ut=yield Mn(()=>fetch(Q,ft));if(ut.ok)return Et(yield ut.json());throw yield tn("Generate Auth Token",ut)})).apply(this,arguments)}function Fr(D){return Vi.apply(this,arguments)}function Vi(){return Vi=(0,z.Z)(function*(D,T=!1){let x;const Q=yield Jn(D.appConfig,ge=>{if(!it(ge))throw st.create("not-registered");const Be=ge.authToken;if(!T&&function bt(D){return 2===D.requestStatus&&!function Yt(D){const T=Date.now();return T<D.creationTime||D.creationTime+D.expiresIn<T+Ae}(D)}(Be))return ge;if(1===Be.requestStatus)return x=function Y(D,T){return K.apply(this,arguments)}(D,T),ge;{if(!navigator.onLine)throw st.create("app-offline");const ft=function en(D){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:T})}(ge);return x=function ke(D,T){return Fe.apply(this,arguments)}(D,ft),ft}});return x?yield x:Q.authToken}),Vi.apply(this,arguments)}function K(){return(K=(0,z.Z)(function*(D,T){let x=yield ae(D.appConfig);for(;1===x.authToken.requestStatus;)yield Un(100),x=yield ae(D.appConfig);const Q=x.authToken;return 0===Q.requestStatus?Fr(D,T):Q})).apply(this,arguments)}function ae(D){return Jn(D,T=>{if(!it(T))throw st.create("not-registered");return function Dn(D){return 1===D.requestStatus&&D.requestTime+hr<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Fe(){return Fe=(0,z.Z)(function*(D,T){try{const x=yield function Ut(D,T){return yn.apply(this,arguments)}(D,T),Q=Object.assign(Object.assign({},T),{authToken:x});return yield Bn(D.appConfig,Q),x}catch(x){if(!V(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const Q=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Bn(D.appConfig,Q)}else yield gr(D.appConfig);throw x}}),Fe.apply(this,arguments)}function it(D){return void 0!==D&&2===D.registrationStatus}function ts(){return(ts=(0,z.Z)(function*(D){const T=D,{installationEntry:x,registrationPromise:Q}=yield re(T);return Q?Q.catch(console.error):Fr(T).catch(console.error),x.fid})).apply(this,arguments)}function Us(){return Us=(0,z.Z)(function*(D,T=!1){const x=D;return yield function ra(D){return Ur.apply(this,arguments)}(x),(yield Fr(x,T)).token}),Us.apply(this,arguments)}function Ur(){return(Ur=(0,z.Z)(function*(D){const{registrationPromise:T}=yield re(D);T&&(yield T)})).apply(this,arguments)}function ws(D){return st.create("missing-app-config-values",{valueName:D})}const co="installations",Mi=D=>{const T=D.getProvider("app").getImmediate(),x=function zr(D){if(!D||!D.options)throw ws("App Configuration");if(!D.name)throw ws("App Name");const T=["projectId","apiKey","appId"];for(const x of T)if(!D.options[x])throw ws(x);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(T);return{app:T,appConfig:x,heartbeatServiceProvider:(0,ue.qX)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Ii=D=>{const T=D.getProvider("app").getImmediate(),x=(0,ue.qX)(T,co).getImmediate();return{getId:()=>function mr(D){return ts.apply(this,arguments)}(x),getToken:le=>function Lo(D){return Us.apply(this,arguments)}(x,le)}};(function Hi(){(0,ue.Xd)(new ce.wA(co,Mi,"PUBLIC")),(0,ue.Xd)(new ce.wA("installations-internal",Ii,"PRIVATE"))})(),(0,ue.KN)(On,At),(0,ue.KN)(On,At,"esm2017");const ns="@firebase/remote-config",Br=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Pt{constructor(T,x,Q,le){this.client=T,this.storage=x,this.storageCache=Q,this.logger=le}isCachedDataFresh(T,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Q=Date.now()-x,le=Q<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Q}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${le}.`),le}fetch(T){var x=this;return(0,z.Z)(function*(){const[Q,le]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(le&&x.isCachedDataFresh(T.cacheMaxAgeMillis,Q))return le;T.eTag=le&&le.eTag;const ge=yield x.client.fetch(T),Be=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ge.status&&Be.push(x.storage.setLastSuccessfulFetchResponse(ge)),yield Promise.all(Be),ge})()}}function Ln(D=navigator){return D.languages&&D.languages[0]||D.language}class Kr{constructor(T,x,Q,le,ge,Be){this.firebaseInstallations=T,this.sdkVersion=x,this.namespace=Q,this.projectId=le,this.apiKey=ge,this.appId=Be}fetch(T){var x=this;return(0,z.Z)(function*(){const[Q,le]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Be=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,ft={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},ut={sdk_version:x.sdkVersion,app_instance_id:Q,app_instance_id_token:le,app_id:x.appId,language_code:Ln()},It={method:"POST",headers:ft,body:JSON.stringify(ut)},Zt=fetch(Be,It),Ot=new Promise((Es,Js)=>{T.signal.addEventListener(()=>{const sc=new Error("The operation was aborted.");sc.name="AbortError",Js(sc)})});let Jr;try{yield Promise.race([Zt,Ot]),Jr=yield Zt}catch(Es){let Js="fetch-client-network";throw"AbortError"===Es?.name&&(Js="fetch-timeout"),Br.create(Js,{originalErrorMessage:Es?.message})}let Fn=Jr.status;const ic=Jr.headers.get("ETag")||void 0;let si,ys;if(200===Jr.status){let Es;try{Es=yield Jr.json()}catch(Js){throw Br.create("fetch-client-parse",{originalErrorMessage:Js?.message})}si=Es.entries,ys=Es.state}if("INSTANCE_STATE_UNSPECIFIED"===ys?Fn=500:"NO_CHANGE"===ys?Fn=304:("NO_TEMPLATE"===ys||"EMPTY_CONFIG"===ys)&&(si={}),304!==Fn&&200!==Fn)throw Br.create("fetch-status",{httpStatus:Fn});return{status:Fn,eTag:ic,config:si}})()}}class Hs{constructor(T,x){this.client=T,this.storage=x}fetch(T){var x=this;return(0,z.Z)(function*(){const Q=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(T,Q)})()}attemptFetch(T,{throttleEndTimeMillis:x,backoffCount:Q}){var le=this;return(0,z.Z)(function*(){yield function Ci(D,T){return new Promise((x,Q)=>{const le=Math.max(T-Date.now(),0),ge=setTimeout(x,le);D.addEventListener(()=>{clearTimeout(ge),Q(Br.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,x);try{const ge=yield le.client.fetch(T);return yield le.storage.deleteThrottleMetadata(),ge}catch(ge){if(!function _r(D){if(!(D instanceof oe.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ge))throw ge;const Be={throttleEndTimeMillis:Date.now()+(0,oe.$s)(Q),backoffCount:Q+1};return yield le.storage.setThrottleMetadata(Be),le.attemptFetch(T,Be)}})()}}class $i{constructor(T,x,Q,le,ge){this.app=T,this._client=x,this._storageCache=Q,this._storage=le,this._logger=ge,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Nt(D,T){const x=D.target.error||void 0;return Br.create(T,{originalErrorMessage:x&&x?.message})}const tr="app_namespace_store";class $s{constructor(T,x,Q,le=function Vn(){return new Promise((D,T)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=Q=>{T(Nt(Q,"storage-open"))},x.onsuccess=Q=>{D(Q.target.result)},x.onupgradeneeded=Q=>{0===Q.oldVersion&&Q.target.result.createObjectStore(tr,{keyPath:"compositeKey"})}}catch(x){T(Br.create("storage-open",{originalErrorMessage:x?.message}))}})}()){this.appId=T,this.appName=x,this.namespace=Q,this.openDbPromise=le}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var x=this;return(0,z.Z)(function*(){const Q=yield x.openDbPromise;return new Promise((le,ge)=>{const ft=Q.transaction([tr],"readonly").objectStore(tr),ut=x.createCompositeKey(T);try{const It=ft.get(ut);It.onerror=Zt=>{ge(Nt(Zt,"storage-get"))},It.onsuccess=Zt=>{const Ot=Zt.target.result;le(Ot?Ot.value:void 0)}}catch(It){ge(Br.create("storage-get",{originalErrorMessage:It?.message}))}})})()}set(T,x){var Q=this;return(0,z.Z)(function*(){const le=yield Q.openDbPromise;return new Promise((ge,Be)=>{const ut=le.transaction([tr],"readwrite").objectStore(tr),It=Q.createCompositeKey(T);try{const Zt=ut.put({compositeKey:It,value:x});Zt.onerror=Ot=>{Be(Nt(Ot,"storage-set"))},Zt.onsuccess=()=>{ge()}}catch(Zt){Be(Br.create("storage-set",{originalErrorMessage:Zt?.message}))}})})()}delete(T){var x=this;return(0,z.Z)(function*(){const Q=yield x.openDbPromise;return new Promise((le,ge)=>{const ft=Q.transaction([tr],"readwrite").objectStore(tr),ut=x.createCompositeKey(T);try{const It=ft.delete(ut);It.onerror=Zt=>{ge(Nt(Zt,"storage-delete"))},It.onsuccess=()=>{le()}}catch(It){ge(Br.create("storage-delete",{originalErrorMessage:It?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Wi{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,z.Z)(function*(){const x=T.storage.getLastFetchStatus(),Q=T.storage.getLastSuccessfulFetchTimestampMillis(),le=T.storage.getActiveConfig(),ge=yield x;ge&&(T.lastFetchStatus=ge);const Be=yield Q;Be&&(T.lastSuccessfulFetchTimestampMillis=Be);const ft=yield le;ft&&(T.activeConfig=ft)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function is(){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,z.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function vr(){(0,ue.Xd)(new ce.wA("remote-config",function D(T,{instanceIdentifier:x}){const Q=T.getProvider("app").getImmediate(),le=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Br.create("registration-window");if(!(0,oe.hl)())throw Br.create("indexed-db-unavailable");const{projectId:ge,apiKey:Be,appId:ft}=Q.options;if(!ge)throw Br.create("registration-project-id");if(!Be)throw Br.create("registration-api-key");if(!ft)throw Br.create("registration-app-id");const ut=new $s(ft,Q.name,x=x||"firebase"),It=new Wi(ut),Zt=new pe.Yd(ns);Zt.logLevel=pe.in.ERROR;const Ot=new Kr(le,ue.Jn,x,ge,Be,ft),Jr=new Hs(Ot,ut),Fn=new Pt(Jr,ut,It,Zt),ic=new $i(Q,Fn,It,ut,Zt);return function Pr(D){const T=(0,oe.m9)(D);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(ic),ic},"PUBLIC").setMultipleInstances(!0)),(0,ue.KN)(ns,"0.4.4"),(0,ue.KN)(ns,"0.4.4","esm2017")}();const Ws="/firebase-messaging-sw.js",ss="/firebase-cloud-messaging-push-scope",Gt="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ya="https://fcmregistrations.googleapis.com/v1",Ss="google.c.a.c_id",oa="google.c.a.c_l",yr="google.c.a.ts";var Ni=function(D){return D.PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",D}(Ni||{});function Rn(D){const T=new Uint8Array(D);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gc(D){const x=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Q=atob(x),le=new Uint8Array(Q.length);for(let ge=0;ge<Q.length;++ge)le[ge]=Q.charCodeAt(ge);return le}const Er="fcm_token_details_db",br=5,ni="fcm_token_object_Store";function di(){return di=(0,z.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ge=>ge.name).includes(Er))return null;let T=null;return(yield Je(Er,br,{upgrade:(Q=(0,z.Z)(function*(le,ge,Be,ft){var ut;if(ge<2||!le.objectStoreNames.contains(ni))return;const It=ft.objectStore(ni),Zt=yield It.index("fcmSenderId").get(D);if(yield It.clear(),Zt)if(2===ge){const Ot=Zt;if(!Ot.auth||!Ot.p256dh||!Ot.endpoint)return;T={token:Ot.fcmToken,createTime:null!==(ut=Ot.createTime)&&void 0!==ut?ut:Date.now(),subscriptionOptions:{auth:Ot.auth,p256dh:Ot.p256dh,endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:"string"==typeof Ot.vapidKey?Ot.vapidKey:Rn(Ot.vapidKey)}}}else if(3===ge){const Ot=Zt;T={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:Rn(Ot.auth),p256dh:Rn(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:Rn(Ot.vapidKey)}}}else if(4===ge){const Ot=Zt;T={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:Rn(Ot.auth),p256dh:Rn(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:Rn(Ot.vapidKey)}}}}),function(ge,Be,ft,ut){return Q.apply(this,arguments)})})).close(),yield Ee(Er),yield Ee("fcm_vapid_details_db"),yield Ee("undefined"),function Tr(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:T}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}(T)?T:null;var Q}),di.apply(this,arguments)}const go="firebase-messaging-database",os=1,jr="firebase-messaging-store";let Vo=null;function as(){return Vo||(Vo=Je(go,os,{upgrade:(D,T)=>{0===T&&D.createObjectStore(jr)}})),Vo}function nr(D){return cs.apply(this,arguments)}function cs(){return cs=(0,z.Z)(function*(D){const T=zi(D),Q=yield(yield as()).transaction(jr).objectStore(jr).get(T);if(Q)return Q;{const le=yield function ur(D){return di.apply(this,arguments)}(D.appConfig.senderId);if(le)return yield fi(D,le),le}}),cs.apply(this,arguments)}function fi(D,T){return Or.apply(this,arguments)}function Or(){return(Or=(0,z.Z)(function*(D,T){const x=zi(D),le=(yield as()).transaction(jr,"readwrite");return yield le.objectStore(jr).put(T,x),yield le.done,T})).apply(this,arguments)}function Pn(){return(Pn=(0,z.Z)(function*(D){const T=zi(D),Q=(yield as()).transaction(jr,"readwrite");yield Q.objectStore(jr).delete(T),yield Q.done})).apply(this,arguments)}function zi({appConfig:D}){return D.appId}const Gn=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Gi(D,T){return As.apply(this,arguments)}function As(){return(As=(0,z.Z)(function*(D,T){const x=yield aa(D),Q=ri(T),le={method:"POST",headers:x,body:JSON.stringify(Q)};let ge;try{ge=yield(yield fetch(Hn(D.appConfig),le)).json()}catch(Be){throw Gn.create("token-subscribe-failed",{errorInfo:Be?.toString()})}if(ge.error)throw Gn.create("token-subscribe-failed",{errorInfo:ge.error.message});if(!ge.token)throw Gn.create("token-subscribe-no-token");return ge.token})).apply(this,arguments)}function Ki(){return(Ki=(0,z.Z)(function*(D,T){const x=yield aa(D),Q=ri(T.subscriptionOptions),le={method:"PATCH",headers:x,body:JSON.stringify(Q)};let ge;try{ge=yield(yield fetch(`${Hn(D.appConfig)}/${T.token}`,le)).json()}catch(Be){throw Gn.create("token-update-failed",{errorInfo:Be?.toString()})}if(ge.error)throw Gn.create("token-update-failed",{errorInfo:ge.error.message});if(!ge.token)throw Gn.create("token-update-no-token");return ge.token})).apply(this,arguments)}function Ms(D,T){return _o.apply(this,arguments)}function _o(){return(_o=(0,z.Z)(function*(D,T){const Q={method:"DELETE",headers:yield aa(D)};try{const ge=yield(yield fetch(`${Hn(D.appConfig)}/${T}`,Q)).json();if(ge.error)throw Gn.create("token-unsubscribe-failed",{errorInfo:ge.error.message})}catch(le){throw Gn.create("token-unsubscribe-failed",{errorInfo:le?.toString()})}})).apply(this,arguments)}function Hn({projectId:D}){return`${Ya}/projects/${D}/registrations`}function aa(D){return us.apply(this,arguments)}function us(){return(us=(0,z.Z)(function*({appConfig:D,installations:T}){const x=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function ri({p256dh:D,auth:T,endpoint:x,vapidKey:Q}){const le={web:{endpoint:x,auth:T,p256dh:D}};return Q!==Gt&&(le.web.applicationPubKey=Q),le}const Oi=6048e5;function ls(){return ls=(0,z.Z)(function*(D){const T=yield function ca(D,T){return xi.apply(this,arguments)}(D.swRegistration,D.vapidKey),x={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:T.endpoint,auth:Rn(T.getKey("auth")),p256dh:Rn(T.getKey("p256dh"))},Q=yield nr(D.firebaseDependencies);if(Q){if(function Zi(D,T){return T.vapidKey===D.vapidKey&&T.endpoint===D.endpoint&&T.auth===D.auth&&T.p256dh===D.p256dh}(Q.subscriptionOptions,x))return Date.now()>=Q.createTime+Oi?function Cr(D,T){return Rs.apply(this,arguments)}(D,{token:Q.token,createTime:Date.now(),subscriptionOptions:x}):Q.token;try{yield Ms(D.firebaseDependencies,Q.token)}catch(le){console.warn(le)}return Gs(D.firebaseDependencies,x)}return Gs(D.firebaseDependencies,x)}),ls.apply(this,arguments)}function ds(){return ds=(0,z.Z)(function*(D){const T=yield nr(D.firebaseDependencies);T&&(yield Ms(D.firebaseDependencies,T.token),yield function Vr(D){return Pn.apply(this,arguments)}(D.firebaseDependencies));const x=yield D.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()}),ds.apply(this,arguments)}function Rs(){return Rs=(0,z.Z)(function*(D,T){try{const x=yield function qa(D,T){return Ki.apply(this,arguments)}(D.firebaseDependencies,T),Q=Object.assign(Object.assign({},T),{token:x,createTime:Date.now()});return yield fi(D.firebaseDependencies,Q),x}catch(x){throw yield function Ir(D){return ds.apply(this,arguments)}(D),x}}),Rs.apply(this,arguments)}function Gs(D,T){return vo.apply(this,arguments)}function vo(){return(vo=(0,z.Z)(function*(D,T){const Q={token:yield Gi(D,T),createTime:Date.now(),subscriptionOptions:T};return yield fi(D,Q),Q.token})).apply(this,arguments)}function xi(){return(xi=(0,z.Z)(function*(D,T){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gc(T)})})).apply(this,arguments)}function yo(D){const T={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function fs(D,T){if(!T.notification)return;D.notification={};const x=T.notification.title;x&&(D.notification.title=x);const Q=T.notification.body;Q&&(D.notification.body=Q);const le=T.notification.image;le&&(D.notification.image=le);const ge=T.notification.icon;ge&&(D.notification.icon=ge)}(T,D),function Eo(D,T){T.data&&(D.data=T.data)}(T,D),function Pa(D,T){var x,Q,le,ge,Be;if(!(T.fcmOptions||null!==(x=T.notification)&&void 0!==x&&x.click_action))return;D.fcmOptions={};const ft=null!==(le=null===(Q=T.fcmOptions)||void 0===Q?void 0:Q.link)&&void 0!==le?le:null===(ge=T.notification)||void 0===ge?void 0:ge.click_action;ft&&(D.fcmOptions.link=ft);const ut=null===(Be=T.fcmOptions)||void 0===Be?void 0:Be.analytics_label;ut&&(D.fcmOptions.analyticsLabel=ut)}(T,D),T}function Io(D,T){const x=[];for(let Q=0;Q<D.length;Q++)x.push(D.charAt(Q)),Q<T.length&&x.push(T.charAt(Q));return x.join("")}function ki(D){return Gn.create("missing-app-config-values",{valueName:D})}Io("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Io("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ks{constructor(T,x,Q){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const le=function Yi(D){if(!D||!D.options)throw ki("App Configuration Object");if(!D.name)throw ki("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:x}=D;for(const Q of T)if(!x[Q])throw ki(Q);return{appName:D.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:le,installations:x,analyticsProvider:Q}}_delete(){return Promise.resolve()}}function Zs(){return(Zs=(0,z.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Ws,{scope:ss}),D.swRegistration.update().catch(()=>{})}catch(T){throw Gn.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function Co(){return(Co=(0,z.Z)(function*(D,T){if(!T&&!D.swRegistration&&(yield function ua(D){return Zs.apply(this,arguments)}(D)),T||!D.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Gn.create("invalid-sw-registration");D.swRegistration=T}})).apply(this,arguments)}function hs(){return(hs=(0,z.Z)(function*(D,T){T?D.vapidKey=T:D.vapidKey||(D.vapidKey=Gt)})).apply(this,arguments)}function Ys(){return Ys=(0,z.Z)(function*(D,T){if(!navigator)throw Gn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Gn.create("permission-blocked");return yield function mc(D,T){return hs.apply(this,arguments)}(D,T?.vapidKey),yield function zc(D,T){return Co.apply(this,arguments)}(D,T?.serviceWorkerRegistration),function Ra(D){return ls.apply(this,arguments)}(D)}),Ys.apply(this,arguments)}function qs(){return(qs=(0,z.Z)(function*(D,T,x){const Q=function _c(D){switch(D){case Ni.NOTIFICATION_CLICKED:return"notification_open";case Ni.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(T);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(Q,{message_id:x[Ss],message_name:x[oa],message_time:x[yr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ps(){return ps=(0,z.Z)(function*(D,T){const x=T.data;if(!x.isFirebaseMessaging)return;D.onMessageHandler&&x.messageType===Ni.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(yo(x)):D.onMessageHandler.next(yo(x)));const Q=x.data;(function Ho(D){return"object"==typeof D&&!!D&&Ss in D})(Q)&&"1"===Q["google.c.a.e"]&&(yield function Qa(D,T,x){return qs.apply(this,arguments)}(D,x.messageType,Q))}),ps.apply(this,arguments)}const Xa="@firebase/messaging",E="0.12.4",L=D=>{const T=new Ks(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function Wo(D,T){return ps.apply(this,arguments)}(T,x)),T},A=D=>{const T=D.getProvider("messaging").getImmediate();return{getToken:Q=>function $o(D,T){return Ys.apply(this,arguments)}(T,Q)}};function ee(){return De.apply(this,arguments)}function De(){return(De=(0,z.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function N(){(0,ue.Xd)(new ce.wA("messaging",L,"PUBLIC")),(0,ue.Xd)(new ce.wA("messaging-internal",A,"PRIVATE")),(0,ue.KN)(Xa,E),(0,ue.KN)(Xa,E,"esm2017")}();const _n="analytics",qr="firebase_id",Li="origin",hi=6e4,xr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Dr="https://www.googletagmanager.com/gtag/js",Nn=new pe.Yd("@firebase/analytics"),zt=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function la(D){if(!D.startsWith(Dr)){const T=zt.create("invalid-gtag-resource",{gtagURL:D});return Nn.warn(T.message),""}return D}function Do(D){return Promise.all(D.map(T=>T.catch(x=>x)))}function Qr(){return(Qr=(0,z.Z)(function*(D,T,x,Q,le,ge){const Be=Q[le];try{if(Be)yield T[Be];else{const ut=(yield Do(x)).find(It=>It.measurementId===le);ut&&(yield T[ut.appId])}}catch(ft){Nn.error(ft)}D("config",le,ge)})).apply(this,arguments)}function Sr(){return(Sr=(0,z.Z)(function*(D,T,x,Q,le){try{let ge=[];if(le&&le.send_to){let Be=le.send_to;Array.isArray(Be)||(Be=[Be]);const ft=yield Do(x);for(const ut of Be){const It=ft.find(Ot=>Ot.measurementId===ut),Zt=It&&T[It.appId];if(!Zt){ge=[];break}ge.push(Zt)}}0===ge.length&&(ge=Object.values(T)),yield Promise.all(ge),D("event",Q,le||{})}catch(ge){Nn.error(ge)}})).apply(this,arguments)}const vc=30,ir=new class Ko{constructor(T={},x=1e3){this.throttleMetadata=T,this.intervalMillis=x}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,x){this.throttleMetadata[T]=x}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Zc(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function un(){return(un=(0,z.Z)(function*(D){var T;const{appId:x,apiKey:Q}=D,le={method:"GET",headers:Zc(Q)},ge=xr.replace("{app-id}",x),Be=yield fetch(ge,le);if(200!==Be.status&&304!==Be.status){let ft="";try{const ut=yield Be.json();null!==(T=ut.error)&&void 0!==T&&T.message&&(ft=ut.error.message)}catch{}throw zt.create("config-fetch-failed",{httpStatus:Be.status,responseMessage:ft})}return Be.json()})).apply(this,arguments)}function Ns(){return(Ns=(0,z.Z)(function*(D,T=ir,x){const{appId:Q,apiKey:le,measurementId:ge}=D.options;if(!Q)throw zt.create("no-app-id");if(!le){if(ge)return{measurementId:ge,appId:Q};throw zt.create("no-api-key")}const Be=T.getThrottleMetadata(Q)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ft=new Ec;return setTimeout((0,z.Z)(function*(){ft.abort()}),void 0!==x?x:hi),Tn({appId:Q,apiKey:le,measurementId:ge},Be,ft,T)})).apply(this,arguments)}function Tn(D,T,x){return pi.apply(this,arguments)}function pi(){return pi=(0,z.Z)(function*(D,{throttleEndTimeMillis:T,backoffCount:x},Q,le=ir){var ge;const{appId:Be,measurementId:ft}=D;try{yield function yc(D,T){return new Promise((x,Q)=>{const le=Math.max(T-Date.now(),0),ge=setTimeout(x,le);D.addEventListener(()=>{clearTimeout(ge),Q(zt.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(Q,T)}catch(ut){if(ft)return Nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ft} provided in the "measurementId" field in the local Firebase config. [${ut?.message}]`),{appId:Be,measurementId:ft};throw ut}try{const ut=yield function at(D){return un.apply(this,arguments)}(D);return le.deleteThrottleMetadata(Be),ut}catch(ut){const It=ut;if(!function Fi(D){if(!(D instanceof oe.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}(It)){if(le.deleteThrottleMetadata(Be),ft)return Nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ft} provided in the "measurementId" field in the local Firebase config. [${It?.message}]`),{appId:Be,measurementId:ft};throw ut}const Zt=503===Number(null===(ge=It?.customData)||void 0===ge?void 0:ge.httpStatus)?(0,oe.$s)(x,le.intervalMillis,vc):(0,oe.$s)(x,le.intervalMillis),Ot={throttleEndTimeMillis:Date.now()+Zt,backoffCount:x+1};return le.setThrottleMetadata(Be,Ot),Nn.debug(`Calling attemptFetch again in ${Zt} millis`),Tn(D,Ot,Q,le)}}),pi.apply(this,arguments)}class Ec{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let Sn,Na;function kr(){return(kr=(0,z.Z)(function*(D,T,x,Q,le){if(le&&le.global)D("event",x,Q);else{const ge=yield T;D("event",x,Object.assign(Object.assign({},Q),{send_to:ge}))}})).apply(this,arguments)}function Hr(){return(Hr=(0,z.Z)(function*(){if(!(0,oe.hl)())return Nn.warn(zt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(D){return Nn.warn(zt.create("indexeddb-unavailable",{errorInfo:D?.toString()}).message),!1}return!0})).apply(this,arguments)}function ms(){return ms=(0,z.Z)(function*(D,T,x,Q,le,ge,Be){var ft;const ut=function nn(D){return Ns.apply(this,arguments)}(D);ut.then(Fn=>{x[Fn.measurementId]=Fn.appId,D.options.measurementId&&Fn.measurementId!==D.options.measurementId&&Nn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Fn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Fn=>Nn.error(Fn)),T.push(ut);const It=function Cc(){return Hr.apply(this,arguments)}().then(Fn=>{if(Fn)return Q.getId()}),[Zt,Ot]=yield Promise.all([ut,It]);(function Go(D){const T=window.document.getElementsByTagName("script");for(const x of Object.values(T))if(x.src&&x.src.includes(Dr)&&x.src.includes(D))return x;return null})(ge)||function Ja(D,T){const x=function rr(D,T){let x;return window.trustedTypes&&(x=window.trustedTypes.createPolicy(D,T)),x}("firebase-js-sdk-policy",{createScriptURL:la}),Q=document.createElement("script"),le=`${Dr}?l=${D}&id=${T}`;Q.src=x?x?.createScriptURL(le):le,Q.async=!0,document.head.appendChild(Q)}(ge,Zt.measurementId),Na&&(le("consent","default",Na),function Oa(D){Na=D}(void 0)),le("js",new Date);const Jr=null!==(ft=Be?.config)&&void 0!==ft?ft:{};return Jr[Li]="firebase",Jr.update=!0,null!=Ot&&(Jr[qr]=Ot),le("config",Zt.measurementId,Jr),Sn&&(le("set",Sn),function Yc(D){Sn=D}(void 0)),Zt.measurementId}),ms.apply(this,arguments)}class Qt{constructor(T){this.app=T}_delete(){return delete dr[this.app.options.appId],Promise.resolve()}}let dr={},bo=[];const ha={};let Si,qi,Ti="dataLayer",$r=!1;function v(D,T,x){!function Dc(){const D=[];if((0,oe.ru)()&&D.push("This is a browser extension environment."),(0,oe.zI)()||D.push("Cookies are not available."),D.length>0){const T=D.map((Q,le)=>`(${le+1}) ${Q}`).join(" "),x=zt.create("invalid-analytics-context",{errorInfo:T});Nn.warn(x.message)}}();const Q=D.options.appId;if(!Q)throw zt.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw zt.create("no-api-key");Nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=dr[Q])throw zt.create("already-exists",{id:Q});if(!$r){!function ec(D){let T=[];Array.isArray(window[D])?T=window[D]:window[D]=T}(Ti);const{wrappedGtag:ge,gtagCore:Be}=function Xr(D,T,x,Q,le){let ge=function(...Be){window[Q].push(arguments)};return window[le]&&"function"==typeof window[le]&&(ge=window[le]),window[le]=function Kc(D,T,x,Q){function ge(){return ge=(0,z.Z)(function*(Be,...ft){try{if("event"===Be){const[ut,It]=ft;yield function Gc(D,T,x,Q,le){return Sr.apply(this,arguments)}(D,T,x,ut,It)}else if("config"===Be){const[ut,It]=ft;yield function zo(D,T,x,Q,le,ge){return Qr.apply(this,arguments)}(D,T,x,Q,ut,It)}else if("consent"===Be){const[ut]=ft;D("consent","update",ut)}else if("get"===Be){const[ut,It,Zt]=ft;D("get",ut,It,Zt)}else if("set"===Be){const[ut]=ft;D("set",ut)}else D(Be,...ft)}catch(ut){Nn.error(ut)}}),ge.apply(this,arguments)}return function le(Be){return ge.apply(this,arguments)}}(ge,D,T,x),{gtagCore:ge,wrappedGtag:window[le]}}(dr,bo,ha,Ti,"gtag");qi=ge,Si=Be,$r=!0}return dr[Q]=function bi(D,T,x,Q,le,ge,Be){return ms.apply(this,arguments)}(D,bo,ha,T,Si,Ti,x),new Qt(D)}function b(){return M.apply(this,arguments)}function M(){return(M=(0,z.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const Qi="@firebase/analytics";!function Os(){(0,ue.Xd)(new ce.wA(_n,(T,{options:x})=>v(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ue.Xd)(new ce.wA("analytics-internal",function D(T){try{const x=T.getProvider(_n).getImmediate();return{logEvent:(Q,le,ge)=>function ln(D,T,x,Q){D=(0,oe.m9)(D),function qt(D,T,x,Q,le){return kr.apply(this,arguments)}(qi,dr[D.app.options.appId],T,x,Q).catch(le=>Nn.error(le))}(x,Q,le,ge)}}catch(x){throw zt.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ue.KN)(Qi,"0.10.0"),(0,ue.KN)(Qi,"0.10.0","esm2017")}();var ii=O(1954),Bt=O(2631);const Zo=new class sl extends Bt.v{}(class _s extends ii.o{constructor(T,x){super(T,x),this.scheduler=T,this.work=x}schedule(T,x=0){return x>0?super.schedule(T,x):(this.delay=x,this.state=T,this.scheduler.flush(this),this)}execute(T,x){return x>0||this.closed?super.execute(T,x):this._execute(T,x)}requestAsyncId(T,x,Q=0){return null!=Q&&Q>0||null==Q&&this.delay>0?super.requestAsyncId(T,x,Q):(T.flush(this),0)}});var Kn=O(6321),pa=O(9397),Ru=O(5137),ka=O(3093);const wc=new _.GfV("7.6.1"),Xi="__angularfire_symbol__analyticsIsSupportedValue",Ai="__angularfire_symbol__analyticsIsSupported",ga="__angularfire_symbol__remoteConfigIsSupportedValue",Pu="__angularfire_symbol__remoteConfigIsSupported",To="__angularfire_symbol__messagingIsSupportedValue",Yo="__angularfire_symbol__messagingIsSupported";function bc(D,T,x){if(T){if(1===T.length)return T[0];const ge=T.filter(Be=>Be.app===x);if(1===ge.length)return ge[0]}return x.container.getProvider(D).getImmediate({optional:!0})}globalThis[Ai]||(globalThis[Ai]=b().then(D=>globalThis[Xi]=D).catch(()=>globalThis[Xi]=!1)),globalThis[Yo]||(globalThis[Yo]=ee().then(D=>globalThis[To]=D).catch(()=>globalThis[To]=!1)),globalThis[Pu]||(globalThis[Pu]=is().then(D=>globalThis[ga]=D).catch(()=>globalThis[ga]=!1));const ma=(D,T)=>{const x=T?[T]:(0,Z.C6)(),Q=[];return x.forEach(le=>{le.container.getProvider(D).instances.forEach(Be=>{Q.includes(Be)||Q.push(Be)})}),Q};function La(){}class Xs{constructor(T,x=Zo){this.zone=T,this.delegate=x}now(){return this.delegate.now()}schedule(T,x,Q){const le=this.zone;return this.delegate.schedule(function(Be){le.runGuarded(()=>{T.apply(this,[Be])})},x,Q)}}class Xc{constructor(T){this.zone=T,this.task=null}call(T,x){const Q=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",La,{},La,La)),x.pipe((0,pa.b)({next:Q,complete:Q,error:Q})).subscribe(T).add(Q)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _a=(()=>{class D{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Xs(Zone.current)),this.insideAngular=x.run(()=>new Xs(Zone.current,Kn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(x){return new(x||D)(_.LFG(_.R0b))},D.\u0275prov=_.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function So(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Ao(D){return So(),function Mo(D){return function(x){return(x=x.lift(new Xc(D.ngZone))).pipe((0,Ru.R)(D.outsideAngular),(0,ka.Q)(D.insideAngular))}}(So())(D)}},9058:(ht,Te,O)=>{O.d(Te,{$s:()=>gr,BH:()=>me,DV:()=>ar,Dv:()=>ji,GJ:()=>Mn,L:()=>ve,LL:()=>Ne,Pz:()=>Oe,Sg:()=>Ue,UG:()=>Ee,UI:()=>Lr,US:()=>ce,Wj:()=>Rt,Wl:()=>Et,Yr:()=>hr,ZB:()=>se,ZR:()=>Le,aH:()=>he,b$:()=>Wn,cI:()=>pn,dS:()=>Xn,eu:()=>we,g5:()=>z,gK:()=>on,gQ:()=>wt,h$:()=>Re,hl:()=>be,hu:()=>Z,jU:()=>vt,lb:()=>Rr,m9:()=>er,ne:()=>Ht,p$:()=>ne,pd:()=>Tt,r3:()=>sn,ru:()=>$t,tV:()=>X,uI:()=>Je,ug:()=>Jt,vZ:()=>pr,w1:()=>On,w9:()=>gn,xO:()=>Mr,xb:()=>St,z$:()=>Ke,zI:()=>Ae,zd:()=>lt});const _={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Z=function(re,j){if(!re)throw z(j)},z=function(re){return new Error("Firebase Database ("+_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+re)},ue=function(re){const j=[];let $=0;for(let H=0;H<re.length;H++){let W=re.charCodeAt(H);W<128?j[$++]=W:W<2048?(j[$++]=W>>6|192,j[$++]=63&W|128):55296==(64512&W)&&H+1<re.length&&56320==(64512&re.charCodeAt(H+1))?(W=65536+((1023&W)<<10)+(1023&re.charCodeAt(++H)),j[$++]=W>>18|240,j[$++]=W>>12&63|128,j[$++]=W>>6&63|128,j[$++]=63&W|128):(j[$++]=W>>12|224,j[$++]=W>>6&63|128,j[$++]=63&W|128)}return j},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(re,j){if(!Array.isArray(re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,H=[];for(let W=0;W<re.length;W+=3){const fe=re[W],We=W+1<re.length,qe=We?re[W+1]:0,Ft=W+2<re.length,ct=Ft?re[W+2]:0;let yn=(15&qe)<<2|ct>>6,ui=63&ct;Ft||(ui=64,We||(yn=64)),H.push($[fe>>2],$[(3&fe)<<4|qe>>4],$[yn],$[ui])}return H.join("")},encodeString(re,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(re):this.encodeByteArray(ue(re),j)},decodeString(re,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(re):function(re){const j=[];let $=0,H=0;for(;$<re.length;){const W=re[$++];if(W<128)j[H++]=String.fromCharCode(W);else if(W>191&&W<224){const fe=re[$++];j[H++]=String.fromCharCode((31&W)<<6|63&fe)}else if(W>239&&W<365){const Ft=((7&W)<<18|(63&re[$++])<<12|(63&re[$++])<<6|63&re[$++])-65536;j[H++]=String.fromCharCode(55296+(Ft>>10)),j[H++]=String.fromCharCode(56320+(1023&Ft))}else{const fe=re[$++],We=re[$++];j[H++]=String.fromCharCode((15&W)<<12|(63&fe)<<6|63&We)}}return j.join("")}(this.decodeStringToByteArray(re,j))},decodeStringToByteArray(re,j){this.init_();const $=j?this.charToByteMapWebSafe_:this.charToByteMap_,H=[];for(let W=0;W<re.length;){const fe=$[re.charAt(W++)],qe=W<re.length?$[re.charAt(W)]:0;++W;const ct=W<re.length?$[re.charAt(W)]:64;++W;const Ut=W<re.length?$[re.charAt(W)]:64;if(++W,null==fe||null==qe||null==ct||null==Ut)throw new pe;H.push(fe<<2|qe>>4),64!==ct&&(H.push(qe<<4&240|ct>>2),64!==Ut&&H.push(ct<<6&192|Ut))}return H},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let re=0;re<this.ENCODED_VALS.length;re++)this.byteToCharMap_[re]=this.ENCODED_VALS.charAt(re),this.charToByteMap_[this.byteToCharMap_[re]]=re,this.byteToCharMapWebSafe_[re]=this.ENCODED_VALS_WEBSAFE.charAt(re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[re]]=re,re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(re)]=re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(re)]=re)}}};class pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Re=function(re){const j=ue(re);return ce.encodeByteArray(j,!0)},ve=function(re){return Re(re).replace(/\./g,"")},X=function(re){try{return ce.decodeString(re,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function ne(re){return se(void 0,re)}function se(re,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===re&&(re={});break;case Array:re=[];break;default:return j}for(const $ in j)!j.hasOwnProperty($)||!$e($)||(re[$]=se(re[$],j[$]));return re}function $e(re){return"__proto__"!==re}const Ze=()=>{try{return function Pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const re=process.env.__FIREBASE_DEFAULTS__;return re?JSON.parse(re):void 0})()||(()=>{if(typeof document>"u")return;let re;try{re=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const j=re&&X(re[1]);return j&&JSON.parse(j)})()}catch(re){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${re}`)}},he=()=>{var re;return null===(re=Ze())||void 0===re?void 0:re.config},Oe=re=>{var j;return null===(j=Ze())||void 0===j?void 0:j[`_${re}`]};class me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,$)=>{this.resolve=j,this.reject=$})}wrapCallback(j){return($,H)=>{$?this.reject($):this.resolve(H),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j($):j($,H))}}}function Ue(re,j){if(re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const H=j||"demo-project",W=re.iat||0,fe=re.sub||re.user_id;if(!fe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const We=Object.assign({iss:`https://securetoken.google.com/${H}`,aud:H,iat:W,exp:W+3600,auth_time:W,sub:fe,user_id:fe,firebase:{sign_in_provider:"custom",identities:{}}},re);return[ve(JSON.stringify({alg:"none",type:"JWT"})),ve(JSON.stringify(We)),""].join(".")}function Ke(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Je(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function Ee(){var re;const j=null===(re=Ze())||void 0===re?void 0:re.forceEnvironment;if("node"===j)return!0;if("browser"===j)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function vt(){return"object"==typeof self&&self.self===self}function $t(){const re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof re&&void 0!==re.id}function Wn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function On(){const re=Ke();return re.indexOf("MSIE ")>=0||re.indexOf("Trident/")>=0}function hr(){return!0===_.NODE_CLIENT||!0===_.NODE_ADMIN}function be(){try{return"object"==typeof indexedDB}catch{return!1}}function we(){return new Promise((re,j)=>{try{let $=!0;const H="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open(H);W.onsuccess=()=>{W.result.close(),$||self.indexedDB.deleteDatabase(H),re(!0)},W.onupgradeneeded=()=>{$=!1},W.onerror=()=>{var fe;j((null===(fe=W.error)||void 0===fe?void 0:fe.message)||"")}}catch($){j($)}})}function Ae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Le extends Error{constructor(j,$,H){super($),this.code=j,this.customData=H,this.name="FirebaseError",Object.setPrototypeOf(this,Le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ne.prototype.create)}}class Ne{constructor(j,$,H){this.service=j,this.serviceName=$,this.errors=H}create(j,...$){const H=$[0]||{},W=`${this.service}/${j}`,fe=this.errors[j],We=fe?function st(re,j){return re.replace(V,($,H)=>{const W=j[H];return null!=W?String(W):`<${H}?>`})}(fe,H):"Error";return new Le(W,`${this.serviceName}: ${We} (${W}).`,H)}}const V=/\{\$([^}]+)}/g;function pn(re){return JSON.parse(re)}function Et(re){return JSON.stringify(re)}const tn=function(re){let j={},$={},H={},W="";try{const fe=re.split(".");j=pn(X(fe[0])||""),$=pn(X(fe[1])||""),W=fe[2],H=$.d||{},delete $.d}catch{}return{header:j,claims:$,data:H,signature:W}},gn=function(re){const $=tn(re).claims;return!!$&&"object"==typeof $&&$.hasOwnProperty("iat")},Mn=function(re){const j=tn(re).claims;return"object"==typeof j&&!0===j.admin};function sn(re,j){return Object.prototype.hasOwnProperty.call(re,j)}function ar(re,j){if(Object.prototype.hasOwnProperty.call(re,j))return re[j]}function St(re){for(const j in re)if(Object.prototype.hasOwnProperty.call(re,j))return!1;return!0}function Lr(re,j,$){const H={};for(const W in re)Object.prototype.hasOwnProperty.call(re,W)&&(H[W]=j.call($,re[W],W,re));return H}function pr(re,j){if(re===j)return!0;const $=Object.keys(re),H=Object.keys(j);for(const W of $){if(!H.includes(W))return!1;const fe=re[W],We=j[W];if(Un(fe)&&Un(We)){if(!pr(fe,We))return!1}else if(fe!==We)return!1}for(const W of H)if(!$.includes(W))return!1;return!0}function Un(re){return null!==re&&"object"==typeof re}function Mr(re){const j=[];for(const[$,H]of Object.entries(re))Array.isArray(H)?H.forEach(W=>{j.push(encodeURIComponent($)+"="+encodeURIComponent(W))}):j.push(encodeURIComponent($)+"="+encodeURIComponent(H));return j.length?"&"+j.join("&"):""}function lt(re){const j={};return re.replace(/^\?/,"").split("&").forEach(H=>{if(H){const[W,fe]=H.split("=");j[decodeURIComponent(W)]=decodeURIComponent(fe)}}),j}function Tt(re){const j=re.indexOf("?");if(!j)return"";const $=re.indexOf("#",j);return re.substring(j,$>0?$:void 0)}class wt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let j=1;j<this.blockSize;++j)this.pad_[j]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(j,$){$||($=0);const H=this.W_;if("string"==typeof j)for(let Ut=0;Ut<16;Ut++)H[Ut]=j.charCodeAt($)<<24|j.charCodeAt($+1)<<16|j.charCodeAt($+2)<<8|j.charCodeAt($+3),$+=4;else for(let Ut=0;Ut<16;Ut++)H[Ut]=j[$]<<24|j[$+1]<<16|j[$+2]<<8|j[$+3],$+=4;for(let Ut=16;Ut<80;Ut++){const yn=H[Ut-3]^H[Ut-8]^H[Ut-14]^H[Ut-16];H[Ut]=4294967295&(yn<<1|yn>>>31)}let ct,Wt,W=this.chain_[0],fe=this.chain_[1],We=this.chain_[2],qe=this.chain_[3],Ft=this.chain_[4];for(let Ut=0;Ut<80;Ut++){Ut<40?Ut<20?(ct=qe^fe&(We^qe),Wt=1518500249):(ct=fe^We^qe,Wt=1859775393):Ut<60?(ct=fe&We|qe&(fe|We),Wt=2400959708):(ct=fe^We^qe,Wt=3395469782);const yn=(W<<5|W>>>27)+ct+Ft+Wt+H[Ut]&4294967295;Ft=qe,qe=We,We=4294967295&(fe<<30|fe>>>2),fe=W,W=yn}this.chain_[0]=this.chain_[0]+W&4294967295,this.chain_[1]=this.chain_[1]+fe&4294967295,this.chain_[2]=this.chain_[2]+We&4294967295,this.chain_[3]=this.chain_[3]+qe&4294967295,this.chain_[4]=this.chain_[4]+Ft&4294967295}update(j,$){if(null==j)return;void 0===$&&($=j.length);const H=$-this.blockSize;let W=0;const fe=this.buf_;let We=this.inbuf_;for(;W<$;){if(0===We)for(;W<=H;)this.compress_(j,W),W+=this.blockSize;if("string"==typeof j){for(;W<$;)if(fe[We]=j.charCodeAt(W),++We,++W,We===this.blockSize){this.compress_(fe),We=0;break}}else for(;W<$;)if(fe[We]=j[W],++We,++W,We===this.blockSize){this.compress_(fe),We=0;break}}this.inbuf_=We,this.total_+=$}digest(){const j=[];let $=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let W=this.blockSize-1;W>=56;W--)this.buf_[W]=255&$,$/=256;this.compress_(this.buf_);let H=0;for(let W=0;W<5;W++)for(let fe=24;fe>=0;fe-=8)j[H]=this.chain_[W]>>fe&255,++H;return j}}function Ht(re,j){const $=new En(re,j);return $.subscribe.bind($)}class En{constructor(j,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{j(this)}).catch(H=>{this.error(H)})}next(j){this.forEachObserver($=>{$.next(j)})}error(j){this.forEachObserver($=>{$.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,$,H){let W;if(void 0===j&&void 0===$&&void 0===H)throw new Error("Missing Observer.");W=function Xt(re,j){if("object"!=typeof re||null===re)return!1;for(const $ of j)if($ in re&&"function"==typeof re[$])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:$,complete:H},void 0===W.next&&(W.next=xn),void 0===W.error&&(W.error=xn),void 0===W.complete&&(W.complete=xn);const fe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch{}}),this.observers.push(W),fe}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,j)}sendOne(j,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{$(this.observers[j])}catch(H){typeof console<"u"&&console.error&&console.error(H)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xn(){}const ji=function(re,j,$,H){let W;if(H<j?W="at least "+j:H>$&&(W=0===$?"none":"no more than "+$),W)throw new Error(re+" failed: Was called with "+H+(1===H?" argument.":" arguments.")+" Expects "+W+".")};function on(re,j){return`${re} failed: ${j} argument `}function Rt(re,j,$,H){if((!H||$)&&"function"!=typeof $)throw new Error(on(re,j)+"must be a valid function.")}function Rr(re,j,$,H){if((!H||$)&&("object"!=typeof $||null===$))throw new Error(on(re,j)+"must be a valid context object.")}const Xn=function(re){const j=[];let $=0;for(let H=0;H<re.length;H++){let W=re.charCodeAt(H);if(W>=55296&&W<=56319){const fe=W-55296;H++,Z(H<re.length,"Surrogate pair missing trail surrogate."),W=65536+(fe<<10)+(re.charCodeAt(H)-56320)}W<128?j[$++]=W:W<2048?(j[$++]=W>>6|192,j[$++]=63&W|128):W<65536?(j[$++]=W>>12|224,j[$++]=W>>6&63|128,j[$++]=63&W|128):(j[$++]=W>>18|240,j[$++]=W>>12&63|128,j[$++]=W>>6&63|128,j[$++]=63&W|128)}return j},Jt=function(re){let j=0;for(let $=0;$<re.length;$++){const H=re.charCodeAt($);H<128?j++:H<2048?j+=2:H>=55296&&H<=56319?(j+=4,$++):j+=3}return j},ci=1e3,qn=2,Bn=144e5,In=.5;function gr(re,j=ci,$=qn){const H=j*Math.pow($,re),W=Math.round(In*H*(Math.random()-.5)*2);return Math.min(Bn,H+W)}function er(re){return re&&re._delegate?re._delegate:re}},1344:(ht,Te,O)=>{O.d(Te,{I:()=>Kh});var _=O(5861),Z=O(5879),z=O(8645),ue=O(2096),oe=O(5592),ce=O(2459),pe=O(3019),Re=O(3093),ve=O(4664),X=O(7398),ne=O(4552);class se extends z.x{constructor(i=1/0,s=1/0,u=ne.l){super(),this._bufferSize=i,this._windowTime=s,this._timestampProvider=u,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=s===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,s)}next(i){const{isStopped:s,_buffer:u,_infiniteTimeWindow:h,_timestampProvider:I,_windowTime:S}=this;s||(u.push(i),!h&&u.push(I.now()+S)),this._trimBuffer(),super.next(i)}_subscribe(i){this._throwIfClosed(),this._trimBuffer();const s=this._innerSubscribe(i),{_infiniteTimeWindow:u,_buffer:h}=this,I=h.slice();for(let S=0;S<I.length&&!i.closed;S+=u?1:2)i.next(I[S]);return this._checkFinalizedStatuses(i),s}_trimBuffer(){const{_bufferSize:i,_timestampProvider:s,_buffer:u,_infiniteTimeWindow:h}=this,I=(h?1:2)*i;if(i<1/0&&I<u.length&&u.splice(0,u.length-I),!h){const S=s.now();let k=0;for(let G=1;G<u.length&&u[G]<=S;G+=2)k=G;k&&u.splice(0,k+1)}}}var $e=O(3020);function Pe(o,i,s){let u,h=!1;return o&&"object"==typeof o?({bufferSize:u=1/0,windowTime:i=1/0,refCount:h=!1,scheduler:s}=o):u=o??1/0,(0,$e.B)({connector:()=>new se(u,i,s),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:h})}var Xe=O(1374),He=O(4674);function tt(o,i){return(0,He.m)(i)?(0,ve.w)(()=>o,i):(0,ve.w)(()=>o)}var Ze=O(5137),Ct=O(2181),pt=O(8397),he=O(6304),Oe=O(6814);O(4097);var Ne=O(6122),st=O(4537),V=O(9058),pn=O(7879);const Et=new Map,tn={activated:!1,tokenObservers:[]},Lt={initialized:!1,enabled:!1};function xt(o){return Et.get(o)||Object.assign({},tn)}function Mn(){return Lt}const sn="https://content-firebaseappcheck.googleapis.com/v1",Lr="exchangeDebugToken",pr={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ei{constructor(i,s,u,h,I){if(this.operation=i,this.retryPolicy=s,this.getWaitDuration=u,this.lowerBound=h,this.upperBound=I,this.pending=null,this.nextErrorWaitInterval=h,h>I)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(i){var s=this;return(0,_.Z)(function*(){s.stop();try{s.pending=new V.BH,yield function Mr(o){return new Promise(i=>{setTimeout(i,o)})}(s.getNextRun(i)),s.pending.resolve(),yield s.pending.promise,s.pending=new V.BH,yield s.operation(),s.pending.resolve(),yield s.pending.promise,s.process(!0).catch(()=>{})}catch(u){s.retryPolicy(u)?s.process(!1).catch(()=>{}):s.stop()}})()}getNextRun(i){if(i)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const s=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),s}}}const Tt=new V.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ht(o){if(!xt(o).activated)throw Tt.create("use-before-activation",{appName:o.name})}function Xt(o,i){return xn.apply(this,arguments)}function xn(){return(xn=(0,_.Z)(function*({url:o,body:i},s){const u={"Content-Type":"application/json"},h=s.getImmediate({optional:!0});if(h){const Me=yield h.getHeartbeatsHeader();Me&&(u["X-Firebase-Client"]=Me)}const I={method:"POST",body:JSON.stringify(i),headers:u};let S,k;try{S=yield fetch(o,I)}catch(Me){throw Tt.create("fetch-network-error",{originalErrorMessage:Me?.message})}if(200!==S.status)throw Tt.create("fetch-status-error",{httpStatus:S.status});try{k=yield S.json()}catch(Me){throw Tt.create("fetch-parse-error",{originalErrorMessage:Me?.message})}const G=k.ttl.match(/^([\d.]+)(s)$/);if(!G||!G[2]||isNaN(Number(G[1])))throw Tt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${k.ttl}`});const te=1e3*Number(G[1]),Se=Date.now();return{token:k.token,expireTimeMillis:Se+te,issuedAtTimeMillis:Se}})).apply(this,arguments)}function cr(o,i){const{projectId:s,appId:u,apiKey:h}=o.options;return{url:`${sn}/projects/${s}/apps/${u}:${Lr}?key=${h}`,body:{debug_token:i}}}const Rt="firebase-app-check-database",Rr=1,Xn="firebase-app-check-store";let Yn=null;function Jn(){return(Jn=(0,_.Z)(function*(o,i){const u=(yield function ci(){return Yn||(Yn=new Promise((o,i)=>{try{const s=indexedDB.open(Rt,Rr);s.onsuccess=u=>{o(u.target.result)},s.onerror=u=>{var h;i(Tt.create("storage-open",{originalErrorMessage:null===(h=u.target.error)||void 0===h?void 0:h.message}))},s.onupgradeneeded=u=>{0===u.oldVersion&&u.target.result.createObjectStore(Xn,{keyPath:"compositeKey"})}}catch(s){i(Tt.create("storage-open",{originalErrorMessage:s?.message}))}}),Yn)}()).transaction(Xn,"readwrite"),I=u.objectStore(Xn).put({compositeKey:o,value:i});return new Promise((S,k)=>{I.onsuccess=G=>{S()},u.onerror=G=>{var te;k(Tt.create("storage-set",{originalErrorMessage:null===(te=G.target.error)||void 0===te?void 0:te.message}))}})})).apply(this,arguments)}const $=new pn.Yd("@firebase/app-check");function fe(o,i){return(0,V.hl)()?function Bn(o,i){return function jn(o,i){return Jn.apply(this,arguments)}(function j(o){return`${o.options.appId}-${o.name}`}(o),i)}(o,i).catch(s=>{$.warn(`Failed to write token to IndexedDB. Error: ${s}`)}):Promise.resolve()}function Ft(){return Mn().enabled}function ct(){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,_.Z)(function*(){const o=Mn();if(o.enabled&&o.token)return o.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const yn={error:"UNKNOWN_ERROR"};function ui(o){return V.US.encodeString(JSON.stringify(o),!1)}function Fr(o){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,_.Z)(function*(o,i=!1){const s=o.app;Ht(s);const u=xt(s);let I,h=u.token;if(h&&!Yt(h)&&(u.token=void 0,h=void 0),!h){const G=yield u.cachedTokenPromise;G&&(Yt(G)?h=G:yield fe(s,void 0))}if(!i&&h&&Yt(h))return{token:h.token};let k,S=!1;if(Ft()){u.exchangeTokenPromise||(u.exchangeTokenPromise=Xt(cr(s,yield ct()),o.heartbeatServiceProvider).finally(()=>{u.exchangeTokenPromise=void 0}),S=!0);const G=yield u.exchangeTokenPromise;return yield fe(s,G),u.token=G,{token:G.token}}try{u.exchangeTokenPromise||(u.exchangeTokenPromise=u.provider.getToken().finally(()=>{u.exchangeTokenPromise=void 0}),S=!0),h=yield xt(s).exchangeTokenPromise}catch(G){"appCheck/throttled"===G.code?$.warn(G.message):$.error(G),I=G}return h?I?k=Yt(h)?{token:h.token,internalError:I}:en(I):(k={token:h.token},u.token=h,yield fe(s,h)):k=en(I),S&&function bt(o,i){const s=xt(o).tokenObservers;for(const u of s)try{"EXTERNAL"===u.type&&null!=i.error?u.error(i.error):u.next(i)}catch{}}(s,k),k})).apply(this,arguments)}function Y(o){return K.apply(this,arguments)}function K(){return(K=(0,_.Z)(function*(o){const i=o.app;Ht(i);const{provider:s}=xt(i);if(Ft()){const u=yield ct(),{token:h}=yield Xt(cr(i,u),o.heartbeatServiceProvider);return{token:h}}{const{token:u}=yield s.getToken();return{token:u}}})).apply(this,arguments)}function ke(o,i){const s=xt(o),u=s.tokenObservers.filter(h=>h.next!==i);0===u.length&&s.tokenRefresher&&s.tokenRefresher.isRunning()&&s.tokenRefresher.stop(),s.tokenObservers=u}function Fe(o){const{app:i}=o,s=xt(i);let u=s.tokenRefresher;u||(u=function it(o){const{app:i}=o;return new ei((0,_.Z)(function*(){let u;if(u=xt(i).token?yield Fr(o,!0):yield Fr(o),u.error)throw u.error;if(u.internalError)throw u.internalError}),()=>!0,()=>{const s=xt(i);if(s.token){let u=s.token.issuedAtTimeMillis+.5*(s.token.expireTimeMillis-s.token.issuedAtTimeMillis)+3e5;return u=Math.min(u,s.token.expireTimeMillis-3e5),Math.max(0,u-Date.now())}return 0},pr.RETRIAL_MIN_WAIT,pr.RETRIAL_MAX_WAIT)}(o),s.tokenRefresher=u),!u.isRunning()&&s.isTokenAutoRefreshEnabled&&u.start()}function Yt(o){return o.expireTimeMillis-Date.now()>0}function en(o){return{token:ui(yn),error:o}}class Dn{constructor(i,s){this.app=i,this.heartbeatServiceProvider=s}_delete(){const{tokenObservers:i}=xt(this.app);for(const s of i)ke(this.app,s.next);return Promise.resolve()}}const Vs="app-check-internal";!function Ma(){(0,Ne.Xd)(new st.wA("app-check",o=>function mr(o,i){return new Dn(o,i)}(o.getProvider("app").getImmediate(),o.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((o,i,s)=>{o.getProvider(Vs).initialize()})),(0,Ne.Xd)(new st.wA(Vs,o=>function ts(o){return{getToken:i=>Fr(o,i),getLimitedUseToken:()=>Y(o),addTokenListener:i=>function ae(o,i,s,u){const{app:h}=o,I=xt(h);if(I.tokenObservers=[...I.tokenObservers,{next:s,error:u,type:i}],I.token&&Yt(I.token)){const k=I.token;Promise.resolve().then(()=>{s({token:k.token}),Fe(o)}).catch(()=>{})}I.cachedTokenPromise.then(()=>Fe(o))}(o,"INTERNAL",i),removeTokenListener:i=>ke(o.app,i)}}(o.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ne.KN)("@firebase/app-check","0.8.0")}();class lo{constructor(){return(0,pt.vb)("app-check")}}typeof window<"u"&&window,O(120);const Hs=new Z.OlP("angularfire2.auth.use-emulator"),wn=new Z.OlP("angularfire2.auth.settings"),Di=new Z.OlP("angularfire2.auth.tenant-id"),$i=new Z.OlP("angularfire2.auth.langugage-code"),Nt=new Z.OlP("angularfire2.auth.use-device-language"),tr=new Z.OlP("angularfire.auth.persistence"),jo=(o,i,s,u,h,I,S,k)=>(0,he.cc)(`${o.name}.auth`,"AngularFireAuth",o.name,()=>{const G=i.runOutsideAngular(()=>o.auth());if(s&&G.useEmulator(...s),u&&(G.tenantId=u),G.languageCode=h,I&&G.useDeviceLanguage(),S)for(const[te,Se]of Object.entries(S))G.settings[te]=Se;return k&&G.setPersistence(k),G},[s,u,h,I,S,k]);let Pi=(()=>{class o{constructor(s,u,h,I,S,k,G,te,Se,Me,Ge,yt){const Mt=new z.x,hn=(0,ue.of)(void 0).pipe((0,Re.Q)(S.outsideAngular),(0,ve.w)(()=>I.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,8977)))),(0,X.U)(()=>(0,he.on)(s,I,u)),(0,X.U)(Wr=>jo(Wr,I,k,te,Se,Me,G,Ge)),Pe({bufferSize:1,refCount:!1}));if((0,Oe.PM)(h))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ue.of)(null);else{hn.pipe((0,Xe.P)()).subscribe();const Ji=hn.pipe((0,ve.w)(yi=>yi.getRedirectResult().then(Ka=>Ka,()=>null)),pt.iC,Pe({bufferSize:1,refCount:!1})),oo=hn.pipe((0,ve.w)(yi=>new oe.y(Ka=>({unsubscribe:I.runOutsideAngular(()=>yi.onAuthStateChanged(Tu=>Ka.next(Tu),Tu=>Ka.error(Tu),()=>Ka.complete()))})))),Ga=hn.pipe((0,ve.w)(yi=>new oe.y(Ka=>({unsubscribe:I.runOutsideAngular(()=>yi.onIdTokenChanged(Tu=>Ka.next(Tu),Tu=>Ka.error(Tu),()=>Ka.complete()))}))));this.authState=Ji.pipe(tt(oo),(0,Ze.R)(S.outsideAngular),(0,Re.Q)(S.insideAngular)),this.user=Ji.pipe(tt(Ga),(0,Ze.R)(S.outsideAngular),(0,Re.Q)(S.insideAngular)),this.idToken=this.user.pipe((0,ve.w)(yi=>yi?(0,ce.D)(yi.getIdToken()):(0,ue.of)(null))),this.idTokenResult=this.user.pipe((0,ve.w)(yi=>yi?(0,ce.D)(yi.getIdTokenResult()):(0,ue.of)(null))),this.credential=(0,pe.T)(Ji,Mt,this.authState.pipe((0,Ct.h)(yi=>!yi))).pipe((0,X.U)(yi=>yi?.user?yi:null),(0,Ze.R)(S.outsideAngular),(0,Re.Q)(S.insideAngular))}return(0,he.pX)(this,hn,I,{spy:{apply:(Wr,Ji,oo)=>{(Wr.startsWith("signIn")||Wr.startsWith("createUser"))&&oo.then(Ga=>Mt.next(Ga))}}})}}return o.\u0275fac=function(s){return new(s||o)(Z.LFG(he.Dh),Z.LFG(he.xv,8),Z.LFG(Z.Lbi),Z.LFG(Z.R0b),Z.LFG(pt.HU),Z.LFG(Hs,8),Z.LFG(wn,8),Z.LFG(Di,8),Z.LFG($i,8),Z.LFG(Nt,8),Z.LFG(tr,8),Z.LFG(lo,8))},o.\u0275prov=Z.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"}),o})();var $s=O(6321),Wi=O(6699),vr=O(3997),Zr=O(9360),wi=O(8251),is=O(4829),Yr=O(2737),Ws=O(2420),ss=O(4564);O(8977);var oa=O(3399),yr=O(4268);const zs="@firebase/database";let Ni="";function Rn(o){Ni=o}class gc{constructor(i){this.domStorage_=i,this.prefix_="firebase:"}set(i,s){null==s?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),(0,V.Wl)(s))}get(i){const s=this.domStorage_.getItem(this.prefixedName_(i));return null==s?null:(0,V.cI)(s)}remove(i){this.domStorage_.removeItem(this.prefixedName_(i))}prefixedName_(i){return this.prefix_+i}toString(){return this.domStorage_.toString()}}class Er{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(i,s){null==s?delete this.cache_[i]:this.cache_[i]=s}get(i){return(0,V.r3)(this.cache_,i)?this.cache_[i]:null}remove(i){delete this.cache_[i]}}const br=function(o){try{if(typeof window<"u"&&typeof window[o]<"u"){const i=window[o];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new gc(i)}}catch{}return new Er},ni=br("localStorage"),ur=br("sessionStorage"),di=new pn.Yd("@firebase/database"),Tr=function(){let o=1;return function(){return o++}}(),go=function(o){const i=(0,V.dS)(o),s=new V.gQ;s.update(i);const u=s.digest();return V.US.encodeByteArray(u)},os=function(...o){let i="";for(let s=0;s<o.length;s++){const u=o[s];Array.isArray(u)||u&&"object"==typeof u&&"number"==typeof u.length?i+=os.apply(null,u):i+="object"==typeof u?(0,V.Wl)(u):u,i+=" "}return i};let jr=null,Vo=!0;const as=function(o,i){(0,V.hu)(!i||!0===o||!1===o,"Can't turn on custom loggers persistently."),!0===o?(di.logLevel=pn.in.VERBOSE,jr=di.log.bind(di),i&&ur.set("logging_enabled",!0)):"function"==typeof o?jr=o:(jr=null,ur.remove("logging_enabled"))},nr=function(...o){if(!0===Vo&&(Vo=!1,null===jr&&!0===ur.get("logging_enabled")&&as(!0)),jr){const i=os.apply(null,o);jr(i)}},cs=function(o){return function(...i){nr(o,...i)}},fi=function(...o){const i="FIREBASE INTERNAL ERROR: "+os(...o);di.error(i)},Or=function(...o){const i=`FIREBASE FATAL ERROR: ${os(...o)}`;throw di.error(i),new Error(i)},Vr=function(...o){const i="FIREBASE WARNING: "+os(...o);di.warn(i)},zi=function(o){return"number"==typeof o&&(o!=o||o===Number.POSITIVE_INFINITY||o===Number.NEGATIVE_INFINITY)},Gn="[MIN_NAME]",Gi="[MAX_NAME]",As=function(o,i){if(o===i)return 0;if(o===Gn||i===Gi)return-1;if(i===Gn||o===Gi)return 1;{const s=ds(o),u=ds(i);return null!==s?null!==u?s-u==0?o.length-i.length:s-u:-1:null!==u?1:o<i?-1:1}},qa=function(o,i){return o===i?0:o<i?-1:1},Ki=function(o,i){if(i&&o in i)return i[o];throw new Error("Missing required key ("+o+") in object: "+(0,V.Wl)(i))},Ms=function(o){if("object"!=typeof o||null===o)return(0,V.Wl)(o);const i=[];for(const u in o)i.push(u);i.sort();let s="{";for(let u=0;u<i.length;u++)0!==u&&(s+=","),s+=(0,V.Wl)(i[u]),s+=":",s+=Ms(o[i[u]]);return s+="}",s},_o=function(o,i){const s=o.length;if(s<=i)return[o];const u=[];for(let h=0;h<s;h+=i)u.push(o.substring(h,h+i>s?s:h+i));return u};function Hn(o,i){for(const s in o)o.hasOwnProperty(s)&&i(s,o[s])}const aa=function(o){(0,V.hu)(!zi(o),"Invalid JSON number");const u=1023;let h,I,S,k,G;0===o?(I=0,S=0,h=1/o==-1/0?1:0):(h=o<0,(o=Math.abs(o))>=Math.pow(2,1-u)?(k=Math.min(Math.floor(Math.log(o)/Math.LN2),u),I=k+u,S=Math.round(o*Math.pow(2,52-k)-Math.pow(2,52))):(I=0,S=Math.round(o/Math.pow(2,-1074))));const te=[];for(G=52;G;G-=1)te.push(S%2?1:0),S=Math.floor(S/2);for(G=11;G;G-=1)te.push(I%2?1:0),I=Math.floor(I/2);te.push(h?1:0),te.reverse();const Se=te.join("");let Me="";for(G=0;G<64;G+=8){let Ge=parseInt(Se.substr(G,8),2).toString(16);1===Ge.length&&(Ge="0"+Ge),Me+=Ge}return Me.toLowerCase()},Ra=new RegExp("^-?(0*)\\d{1,10}$"),ds=function(o){if(Ra.test(o)){const i=Number(o);if(i>=-2147483648&&i<=2147483647)return i}return null},Cr=function(o){try{o()}catch(i){setTimeout(()=>{throw Vr("Exception was thrown by user callback.",i.stack||""),i},Math.floor(0))}},Gs=function(o,i){const s=setTimeout(o,i);return"number"==typeof s&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(s):"object"==typeof s&&s.unref&&s.unref(),s};class vo{constructor(i,s){this.appName_=i,this.appCheckProvider=s,this.appCheck=s?.getImmediate({optional:!0}),this.appCheck||s?.get().then(u=>this.appCheck=u)}getToken(i){return this.appCheck?this.appCheck.getToken(i):new Promise((s,u)=>{setTimeout(()=>{this.appCheck?this.getToken(i).then(s,u):s(null)},0)})}addTokenChangeListener(i){var s;null===(s=this.appCheckProvider)||void 0===s||s.get().then(u=>u.addTokenListener(i))}notifyForInvalidToken(){Vr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ca{constructor(i,s,u){this.appName_=i,this.firebaseOptions_=s,this.authProvider_=u,this.auth_=null,this.auth_=u.getImmediate({optional:!0}),this.auth_||u.onInit(h=>this.auth_=h)}getToken(i){return this.auth_?this.auth_.getToken(i).catch(s=>s&&"auth/token-not-initialized"===s.code?(nr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,u)=>{setTimeout(()=>{this.auth_?this.getToken(i).then(s,u):s(null)},0)})}addTokenChangeListener(i){this.auth_?this.auth_.addAuthTokenListener(i):this.authProvider_.get().then(s=>s.addAuthTokenListener(i))}removeTokenChangeListener(i){this.authProvider_.get().then(s=>s.removeAuthTokenListener(i))}notifyForInvalidToken(){let i='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';i+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Vr(i)}}let xi=(()=>{class o{constructor(s){this.accessToken=s}getToken(s){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(s){s(this.accessToken)}removeTokenChangeListener(s){}notifyForInvalidToken(){}}return o.OWNER="owner",o})();const Ho=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ks="websocket",ua="long_polling";class Zs{constructor(i,s,u,h,I=!1,S="",k=!1,G=!1){this.secure=s,this.namespace=u,this.webSocketOnly=h,this.nodeAdmin=I,this.persistenceKey=S,this.includeNamespaceInQueryParams=k,this.isUsingEmulator=G,this._host=i.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ni.get("host:"+i)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(i){i!==this.internalHost&&(this.internalHost=i,this.isCacheableHost()&&ni.set("host:"+this._host,this.internalHost))}toString(){let i=this.toURLString();return this.persistenceKey&&(i+="<"+this.persistenceKey+">"),i}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Co(o,i,s){let u;if((0,V.hu)("string"==typeof i,"typeof type must == string"),(0,V.hu)("object"==typeof s,"typeof params must == object"),i===Ks)u=(o.secure?"wss://":"ws://")+o.internalHost+"/.ws?";else{if(i!==ua)throw new Error("Unknown connection type: "+i);u=(o.secure?"https://":"http://")+o.internalHost+"/.lp?"}(function zc(o){return o.host!==o.internalHost||o.isCustomHost()||o.includeNamespaceInQueryParams})(o)&&(s.ns=o.namespace);const h=[];return Hn(s,(I,S)=>{h.push(I+"="+S)}),u+h.join("&")}class mc{constructor(){this.counters_={}}incrementCounter(i,s=1){(0,V.r3)(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=s}get(){return(0,V.p$)(this.counters_)}}const hs={},$o={};function Ys(o){const i=o.toString();return hs[i]||(hs[i]=new mc),hs[i]}class qs{constructor(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(i,s){this.closeAfterResponse=i,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(i,s){for(this.pendingResponses[i]=s;this.pendingResponses[this.currentResponseNum];){const u=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let h=0;h<u.length;++h)u[h]&&Cr(()=>{this.onMessage_(u[h])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class dn{constructor(i,s,u,h,I,S,k){this.connId=i,this.repoInfo=s,this.applicationId=u,this.appCheckToken=h,this.authToken=I,this.transportSessionId=S,this.lastSessionId=k,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=cs(i),this.stats_=Ys(s),this.urlFn=G=>(this.appCheckToken&&(G.ac=this.appCheckToken),Co(s,ua,G))}open(i,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new qs(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(o){if((0,V.Yr)()||"complete"===document.readyState)o();else{let i=!1;const s=function(){document.body?i||(i=!0,o()):setTimeout(s,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&s()}),window.attachEvent("onload",s))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new _n((...I)=>{const[S,k,G,te,Se]=I;if(this.incrementIncomingBytes_(I),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===S)this.id=k,this.password=G;else{if("close"!==S)throw new Error("Unrecognized command received: "+S);k?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(k,()=>{this.onClosed_()})):this.onClosed_()}},(...I)=>{const[S,k]=I;this.incrementIncomingBytes_(I),this.myPacketOrderer.handleResponse(S,k)},()=>{this.onClosed_()},this.urlFn);const u={start:"t"};u.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(u.cb=this.scriptTagHolder.uniqueCallbackIdentifier),u.v="5",this.transportSessionId&&(u.s=this.transportSessionId),this.lastSessionId&&(u.ls=this.lastSessionId),this.applicationId&&(u.p=this.applicationId),this.appCheckToken&&(u.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Ho.test(location.hostname)&&(u.r="f");const h=this.urlFn(u);this.log_("Connecting via long-poll to "+h),this.scriptTagHolder.addTag(h,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){dn.forceAllow_=!0}static forceDisallow(){dn.forceDisallow_=!0}static isAvailable(){return!((0,V.Yr)()||!dn.forceAllow_&&(dn.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(i){const s=(0,V.Wl)(i);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const u=(0,V.h$)(s),h=_o(u,1840);for(let I=0;I<h.length;I++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,h.length,h[I]),this.curSegmentNum++}addDisconnectPingFrame(i,s){if((0,V.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const u={dframe:"t"};u.id=i,u.pw=s,this.myDisconnFrame.src=this.urlFn(u),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(i){const s=(0,V.Wl)(i).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class _n{constructor(i,s,u,h){if(this.onDisconnect=u,this.urlFn=h,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,V.Yr)())this.commandCB=i,this.onMessageCB=s;else{this.uniqueCallbackIdentifier=Tr(),window["pLPCommand"+this.uniqueCallbackIdentifier]=i,window["pRTLPCB"+this.uniqueCallbackIdentifier]=s,this.myIFrame=_n.createIFrame_();let I="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(I='<script>document.domain="'+document.domain+'";<\/script>');const S="<html><body>"+I+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(S),this.myIFrame.doc.close()}catch(k){nr("frame writing exception"),k.stack&&nr(k.stack),nr(k)}}}static createIFrame_(){const i=document.createElement("iframe");if(i.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(i);try{i.contentWindow.document||nr("No IE domain setting required")}catch{const u=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+u+"';document.close();})())"}return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const i=this.onDisconnect;i&&(this.onDisconnect=null,i())}startLongPoll(i,s){for(this.myID=i,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const i={};i.id=this.myID,i.pw=this.myPW,i.ser=this.currentSerial;let s=this.urlFn(i),u="",h=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+u.length<=1870;){const S=this.pendingSegs.shift();u=u+"&seg"+h+"="+S.seg+"&ts"+h+"="+S.ts+"&d"+h+"="+S.d,h++}return s+=u,this.addLongPollTag_(s,this.currentSerial),!0}return!1}enqueueSegment(i,s,u){this.pendingSegs.push({seg:i,ts:s,d:u}),this.alive&&this.newRequest_()}addLongPollTag_(i,s){this.outstandingRequests.add(s);const u=()=>{this.outstandingRequests.delete(s),this.newRequest_()},h=setTimeout(u,Math.floor(25e3));this.addTag(i,()=>{clearTimeout(h),u()})}addTag(i,s){(0,V.Yr)()?this.doNodeLongPoll(i,s):setTimeout(()=>{try{if(!this.sendNewPolls)return;const u=this.myIFrame.doc.createElement("script");u.type="text/javascript",u.async=!0,u.src=i,u.onload=u.onreadystatechange=function(){const h=u.readyState;(!h||"loaded"===h||"complete"===h)&&(u.onload=u.onreadystatechange=null,u.parentNode&&u.parentNode.removeChild(u),s())},u.onerror=()=>{nr("Long-poll script failed to load: "+i),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(u)}catch{}},Math.floor(1))}}let hi=null;typeof MozWebSocket<"u"?hi=MozWebSocket:typeof WebSocket<"u"&&(hi=WebSocket);let xr=(()=>{class o{constructor(s,u,h,I,S,k,G){this.connId=s,this.applicationId=h,this.appCheckToken=I,this.authToken=S,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=cs(this.connId),this.stats_=Ys(u),this.connURL=o.connectionURL_(u,k,G,I,h),this.nodeAdmin=u.nodeAdmin}static connectionURL_(s,u,h,I,S){const k={v:"5"};return!(0,V.Yr)()&&typeof location<"u"&&location.hostname&&Ho.test(location.hostname)&&(k.r="f"),u&&(k.s=u),h&&(k.ls=h),I&&(k.ac=I),S&&(k.p=S),Co(s,Ks,k)}open(s,u){this.onDisconnect=u,this.onMessage=s,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ni.set("previous_websocket_failure",!0);try{let h;if((0,V.Yr)()){h={headers:{"User-Agent":`Firebase/5/${Ni}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(h.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(h.headers["X-Firebase-AppCheck"]=this.appCheckToken);const S=process.env,k=0===this.connURL.indexOf("wss://")?S.HTTPS_PROXY||S.https_proxy:S.HTTP_PROXY||S.http_proxy;k&&(h.proxy={origin:k})}this.mySock=new hi(this.connURL,[],h)}catch(h){this.log_("Error instantiating WebSocket.");const I=h.message||h.data;return I&&this.log_(I),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=h=>{this.handleIncomingFrame(h)},this.mySock.onerror=h=>{this.log_("WebSocket error.  Closing connection.");const I=h.message||h.data;I&&this.log_(I),this.onClosed_()}}start(){}static forceDisallow(){o.forceDisallow_=!0}static isAvailable(){let s=!1;if(typeof navigator<"u"&&navigator.userAgent){const h=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);h&&h.length>1&&parseFloat(h[1])<4.4&&(s=!0)}return!s&&null!==hi&&!o.forceDisallow_}static previouslyFailed(){return ni.isInMemoryStorage||!0===ni.get("previous_websocket_failure")}markConnectionHealthy(){ni.remove("previous_websocket_failure")}appendFrame_(s){if(this.frames.push(s),this.frames.length===this.totalFrames){const u=this.frames.join("");this.frames=null;const h=(0,V.cI)(u);this.onMessage(h)}}handleNewFrameCount_(s){this.totalFrames=s,this.frames=[]}extractFrameCount_(s){if((0,V.hu)(null===this.frames,"We already have a frame buffer"),s.length<=6){const u=Number(s);if(!isNaN(u))return this.handleNewFrameCount_(u),null}return this.handleNewFrameCount_(1),s}handleIncomingFrame(s){if(null===this.mySock)return;const u=s.data;if(this.bytesReceived+=u.length,this.stats_.incrementCounter("bytes_received",u.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(u);else{const h=this.extractFrameCount_(u);null!==h&&this.appendFrame_(h)}}send(s){this.resetKeepAlive();const u=(0,V.Wl)(s);this.bytesSent+=u.length,this.stats_.incrementCounter("bytes_sent",u.length);const h=_o(u,16384);h.length>1&&this.sendString_(String(h.length));for(let I=0;I<h.length;I++)this.sendString_(h[I])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(s){try{this.mySock.send(s)}catch(u){this.log_("Exception thrown from WebSocket.send():",u.message||u.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return o.responsesRequiredToBeHealthy=2,o.healthyTimeout=3e4,o})(),Dr=(()=>{class o{constructor(s){this.initTransports_(s)}static get ALL_TRANSPORTS(){return[dn,xr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(s){const u=xr&&xr.isAvailable();let h=u&&!xr.previouslyFailed();if(s.webSocketOnly&&(u||Vr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),h=!0),h)this.transports_=[xr];else{const I=this.transports_=[];for(const S of o.ALL_TRANSPORTS)S&&S.isAvailable()&&I.push(S);o.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return o.globalTransportInitialized_=!1,o})();class Go{constructor(i,s,u,h,I,S,k,G,te,Se){this.id=i,this.repoInfo_=s,this.applicationId_=u,this.appCheckToken_=h,this.authToken_=I,this.onMessage_=S,this.onReady_=k,this.onDisconnect_=G,this.onKill_=te,this.lastSessionId=Se,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=cs("c:"+this.id+":"),this.transportManager_=new Dr(s),this.log_("Connection created"),this.start_()}start_(){const i=this.transportManager_.initialTransport();this.conn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),u=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,u)},Math.floor(0));const h=i.healthyTimeout||0;h>0&&(this.healthyTimeout_=Gs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(h)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(i){return s=>{i===this.conn_?this.onConnectionLost_(s):i===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(i){return s=>{2!==this.state_&&(i===this.rx_?this.onPrimaryMessageReceived_(s):i===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(i){this.sendData_({t:"d",d:i})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(i){if("t"in i){const s=i.t;"a"===s?this.upgradeIfSecondaryHealthy_():"r"===s?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===s&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(i){const s=Ki("t",i),u=Ki("d",i);if("c"===s)this.onSecondaryControl_(u);else{if("d"!==s)throw new Error("Unknown protocol layer: "+s);this.pendingDataMessages.push(u)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(i){const s=Ki("t",i),u=Ki("d",i);"c"===s?this.onControl_(u):"d"===s&&this.onDataMessage_(u)}onDataMessage_(i){this.onPrimaryResponse_(),this.onMessage_(i)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(i){const s=Ki("t",i);if("d"in i){const u=i.d;if("h"===s){const h=Object.assign({},u);this.repoInfo_.isUsingEmulator&&(h.h=this.repoInfo_.host),this.onHandshake_(h)}else if("n"===s){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let h=0;h<this.pendingDataMessages.length;++h)this.onDataMessage_(this.pendingDataMessages[h]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===s?this.onConnectionShutdown_(u):"r"===s?this.onReset_(u):"e"===s?fi("Server Error: "+u):"o"===s?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):fi("Unknown control packet command: "+s)}}onHandshake_(i){const s=i.ts,u=i.v,h=i.h;this.sessionId=i.s,this.repoInfo_.host=h,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),"5"!==u&&Vr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)}startUpgrade_(i){this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),u=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,u),Gs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(i,s){this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Gs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()}onConnectionLost_(i){this.conn_=null,i||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ni.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(i){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(i)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class vc{put(i,s,u,h){}merge(i,s,u,h){}refreshAuthToken(i){}refreshAppCheckToken(i){}onDisconnectPut(i,s,u){}onDisconnectMerge(i,s,u){}onDisconnectCancel(i,s){}reportStats(i){}}class wo{constructor(i){this.allowedEvents_=i,this.listeners_={},(0,V.hu)(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}trigger(i,...s){if(Array.isArray(this.listeners_[i])){const u=[...this.listeners_[i]];for(let h=0;h<u.length;h++)u[h].callback.apply(u[h].context,s)}}on(i,s,u){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:s,context:u});const h=this.getInitialEvent(i);h&&s.apply(u,h)}off(i,s,u){this.validateEventType_(i);const h=this.listeners_[i]||[];for(let I=0;I<h.length;I++)if(h[I].callback===s&&(!u||u===h[I].context))return void h.splice(I,1)}validateEventType_(i){(0,V.hu)(this.allowedEvents_.find(s=>s===i),"Unknown event: "+i)}}class Ko extends wo{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,V.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ko}getInitialEvent(i){return(0,V.hu)("online"===i,"Unknown event type: "+i),[this.online_]}currentlyOnline(){return this.online_}}class at{constructor(i,s){if(void 0===s){this.pieces_=i.split("/");let u=0;for(let h=0;h<this.pieces_.length;h++)this.pieces_[h].length>0&&(this.pieces_[u]=this.pieces_[h],u++);this.pieces_.length=u,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=s}toString(){let i="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)""!==this.pieces_[s]&&(i+="/"+this.pieces_[s]);return i||"/"}}function un(){return new at("")}function nn(o){return o.pieceNum_>=o.pieces_.length?null:o.pieces_[o.pieceNum_]}function Ns(o){return o.pieces_.length-o.pieceNum_}function Tn(o){let i=o.pieceNum_;return i<o.pieces_.length&&i++,new at(o.pieces_,i)}function pi(o){return o.pieceNum_<o.pieces_.length?o.pieces_[o.pieces_.length-1]:null}function Fi(o,i=0){return o.pieces_.slice(o.pieceNum_+i)}function Ec(o){if(o.pieceNum_>=o.pieces_.length)return null;const i=[];for(let s=o.pieceNum_;s<o.pieces_.length-1;s++)i.push(o.pieces_[s]);return new at(i,0)}function Sn(o,i){const s=[];for(let u=o.pieceNum_;u<o.pieces_.length;u++)s.push(o.pieces_[u]);if(i instanceof at)for(let u=i.pieceNum_;u<i.pieces_.length;u++)s.push(i.pieces_[u]);else{const u=i.split("/");for(let h=0;h<u.length;h++)u[h].length>0&&s.push(u[h])}return new at(s,0)}function qt(o){return o.pieceNum_>=o.pieces_.length}function kr(o,i){const s=nn(o),u=nn(i);if(null===s)return i;if(s===u)return kr(Tn(o),Tn(i));throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+o+")")}function da(o,i){const s=Fi(o,0),u=Fi(i,0);for(let h=0;h<s.length&&h<u.length;h++){const I=As(s[h],u[h]);if(0!==I)return I}return s.length===u.length?0:s.length<u.length?-1:1}function ze(o,i){if(Ns(o)!==Ns(i))return!1;for(let s=o.pieceNum_,u=i.pieceNum_;s<=o.pieces_.length;s++,u++)if(o.pieces_[s]!==i.pieces_[u])return!1;return!0}function Vt(o,i){let s=o.pieceNum_,u=i.pieceNum_;if(Ns(o)>Ns(i))return!1;for(;s<o.pieces_.length;){if(o.pieces_[s]!==i.pieces_[u])return!1;++s,++u}return!0}class tc{constructor(i,s){this.errorPrefix_=s,this.parts_=Fi(i,0),this.byteLength_=Math.max(1,this.parts_.length);for(let u=0;u<this.parts_.length;u++)this.byteLength_+=(0,V.ug)(this.parts_[u]);Ic(this)}}function Ic(o){if(o.byteLength_>768)throw new Error(o.errorPrefix_+"has a key path longer than 768 bytes ("+o.byteLength_+").");if(o.parts_.length>32)throw new Error(o.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ui(o))}function Ui(o){return 0===o.parts_.length?"":"in property '"+o.parts_.join(".")+"'"}class gs extends wo{constructor(){let i,s;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",i="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",i="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",i="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",i="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const u=!document[i];u!==this.visible_&&(this.visible_=u,this.trigger("visible",u))},!1)}static getInstance(){return new gs}getInitialEvent(i){return(0,V.hu)("visible"===i,"Unknown event type: "+i),[this.visible_]}}const gi=1e3;let bo,ms=(()=>{class o extends vc{constructor(s,u,h,I,S,k,G,te){if(super(),this.repoInfo_=s,this.applicationId_=u,this.onDataUpdate_=h,this.onConnectStatus_=I,this.onServerInfoUpdate_=S,this.authTokenProvider_=k,this.appCheckTokenProvider_=G,this.authOverride_=te,this.id=o.nextPersistentConnectionId_++,this.log_=cs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=gi,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,te&&!(0,V.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");gs.getInstance().on("visible",this.onVisible_,this),-1===s.host.indexOf("fblocal")&&Ko.getInstance().on("online",this.onOnline_,this)}sendRequest(s,u,h){const I=++this.requestNumber_,S={r:I,a:s,b:u};this.log_((0,V.Wl)(S)),(0,V.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(S),h&&(this.requestCBHash_[I]=h)}get(s){this.initConnection_();const u=new V.BH,I={action:"g",request:{p:s._path.toString(),q:s._queryObject},onComplete:k=>{const G=k.d;"ok"===k.s?u.resolve(G):u.reject(G)}};return this.outstandingGets_.push(I),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),u.promise}listen(s,u,h,I){this.initConnection_();const S=s._queryIdentifier,k=s._path.toString();this.log_("Listen called for "+k+" "+S),this.listens.has(k)||this.listens.set(k,new Map),(0,V.hu)(s._queryParams.isDefault()||!s._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,V.hu)(!this.listens.get(k).has(S),"listen() called twice for same path/queryId.");const G={onComplete:I,hashFn:u,query:s,tag:h};this.listens.get(k).set(S,G),this.connected_&&this.sendListen_(G)}sendGet_(s){const u=this.outstandingGets_[s];this.sendRequest("g",u.request,h=>{delete this.outstandingGets_[s],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),u.onComplete&&u.onComplete(h)})}sendListen_(s){const u=s.query,h=u._path.toString(),I=u._queryIdentifier;this.log_("Listen on "+h+" for "+I);const S={p:h};s.tag&&(S.q=u._queryObject,S.t=s.tag),S.h=s.hashFn(),this.sendRequest("q",S,G=>{const te=G.d,Se=G.s;o.warnOnListenWarnings_(te,u),(this.listens.get(h)&&this.listens.get(h).get(I))===s&&(this.log_("listen response",G),"ok"!==Se&&this.removeListen_(h,I),s.onComplete&&s.onComplete(Se,te))})}static warnOnListenWarnings_(s,u){if(s&&"object"==typeof s&&(0,V.r3)(s,"w")){const h=(0,V.DV)(s,"w");if(Array.isArray(h)&&~h.indexOf("no_index")){const I='".indexOn": "'+u._queryParams.getIndex().toString()+'"',S=u._path.toString();Vr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${I} at ${S} to your security rules for better performance.`)}}}refreshAuthToken(s){this.authToken_=s,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(s)}reduceReconnectDelayIfAdminCredential_(s){(s&&40===s.length||(0,V.GJ)(s))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(s){this.appCheckToken_=s,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const s=this.authToken_,u=(0,V.w9)(s)?"auth":"gauth",h={cred:s};null===this.authOverride_?h.noauth=!0:"object"==typeof this.authOverride_&&(h.authvar=this.authOverride_),this.sendRequest(u,h,I=>{const S=I.s,k=I.d||"error";this.authToken_===s&&("ok"===S?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(S,k))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},s=>{const u=s.s,h=s.d||"error";"ok"===u?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(u,h)})}unlisten(s,u){const h=s._path.toString(),I=s._queryIdentifier;this.log_("Unlisten called for "+h+" "+I),(0,V.hu)(s._queryParams.isDefault()||!s._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(h,I)&&this.connected_&&this.sendUnlisten_(h,I,s._queryObject,u)}sendUnlisten_(s,u,h,I){this.log_("Unlisten on "+s+" for "+u);const S={p:s};I&&(S.q=h,S.t=I),this.sendRequest("n",S)}onDisconnectPut(s,u,h){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",s,u,h):this.onDisconnectRequestQueue_.push({pathString:s,action:"o",data:u,onComplete:h})}onDisconnectMerge(s,u,h){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",s,u,h):this.onDisconnectRequestQueue_.push({pathString:s,action:"om",data:u,onComplete:h})}onDisconnectCancel(s,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",s,null,u):this.onDisconnectRequestQueue_.push({pathString:s,action:"oc",data:null,onComplete:u})}sendOnDisconnect_(s,u,h,I){const S={p:u,d:h};this.log_("onDisconnect "+s,S),this.sendRequest(s,S,k=>{I&&setTimeout(()=>{I(k.s,k.d)},Math.floor(0))})}put(s,u,h,I){this.putInternal("p",s,u,h,I)}merge(s,u,h,I){this.putInternal("m",s,u,h,I)}putInternal(s,u,h,I,S){this.initConnection_();const k={p:u,d:h};void 0!==S&&(k.h=S),this.outstandingPuts_.push({action:s,request:k,onComplete:I}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+u)}sendPut_(s){const u=this.outstandingPuts_[s].action,h=this.outstandingPuts_[s].request,I=this.outstandingPuts_[s].onComplete;this.outstandingPuts_[s].queued=this.connected_,this.sendRequest(u,h,S=>{this.log_(u+" response",S),delete this.outstandingPuts_[s],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),I&&I(S.s,S.d)})}reportStats(s){if(this.connected_){const u={c:s};this.log_("reportStats",u),this.sendRequest("s",u,h=>{"ok"!==h.s&&this.log_("reportStats","Error sending stats: "+h.d)})}}onDataMessage_(s){if("r"in s){this.log_("from server: "+(0,V.Wl)(s));const u=s.r,h=this.requestCBHash_[u];h&&(delete this.requestCBHash_[u],h(s.b))}else{if("error"in s)throw"A server-side error has occurred: "+s.error;"a"in s&&this.onDataPush_(s.a,s.b)}}onDataPush_(s,u){this.log_("handleServerMessage",s,u),"d"===s?this.onDataUpdate_(u.p,u.d,!1,u.t):"m"===s?this.onDataUpdate_(u.p,u.d,!0,u.t):"c"===s?this.onListenRevoked_(u.p,u.q):"ac"===s?this.onAuthRevoked_(u.s,u.d):"apc"===s?this.onAppCheckRevoked_(u.s,u.d):"sd"===s?this.onSecurityDebugPacket_(u):fi("Unrecognized action received from server: "+(0,V.Wl)(s)+"\nAre you using the latest client?")}onReady_(s,u){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(s),this.lastSessionId=u,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(s){(0,V.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(s))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(s){s&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=gi,this.realtime_||this.scheduleConnect_(0)),this.visible_=s}onOnline_(s){s?(this.log_("Browser went online."),this.reconnectDelay_=gi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=gi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const s=(new Date).getTime()-this.lastConnectionAttemptTime_;let u=Math.max(0,this.reconnectDelay_-s);u=Math.random()*u,this.log_("Trying to reconnect in "+u+"ms"),this.scheduleConnect_(u),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var s=this;return(0,_.Z)(function*(){if(s.shouldReconnect_()){s.log_("Making a connection attempt"),s.lastConnectionAttemptTime_=(new Date).getTime(),s.lastConnectionEstablishedTime_=null;const u=s.onDataMessage_.bind(s),h=s.onReady_.bind(s),I=s.onRealtimeDisconnect_.bind(s),S=s.id+":"+o.nextConnectionId_++,k=s.lastSessionId;let G=!1,te=null;const Se=function(){te?te.close():(G=!0,I())};s.realtime_={close:Se,sendRequest:function(yt){(0,V.hu)(te,"sendRequest call when we're not connected not allowed."),te.sendRequest(yt)}};const Ge=s.forceTokenRefresh_;s.forceTokenRefresh_=!1;try{const[yt,Mt]=yield Promise.all([s.authTokenProvider_.getToken(Ge),s.appCheckTokenProvider_.getToken(Ge)]);G?nr("getToken() completed but was canceled"):(nr("getToken() completed. Creating connection."),s.authToken_=yt&&yt.accessToken,s.appCheckToken_=Mt&&Mt.token,te=new Go(S,s.repoInfo_,s.applicationId_,s.appCheckToken_,s.authToken_,u,h,I,hn=>{Vr(hn+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")},k))}catch(yt){s.log_("Failed to get token: "+yt),G||(s.repoInfo_.nodeAdmin&&Vr(yt),Se())}}})()}interrupt(s){nr("Interrupting connection for reason: "+s),this.interruptReasons_[s]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(s){nr("Resuming connection for reason: "+s),delete this.interruptReasons_[s],(0,V.xb)(this.interruptReasons_)&&(this.reconnectDelay_=gi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(s){const u=s-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:u})}cancelSentTransactions_(){for(let s=0;s<this.outstandingPuts_.length;s++){const u=this.outstandingPuts_[s];u&&"h"in u.request&&u.queued&&(u.onComplete&&u.onComplete("disconnect"),delete this.outstandingPuts_[s],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(s,u){let h;h=u?u.map(S=>Ms(S)).join("$"):"default";const I=this.removeListen_(s,h);I&&I.onComplete&&I.onComplete("permission_denied")}removeListen_(s,u){const h=new at(s).toString();let I;if(this.listens.has(h)){const S=this.listens.get(h);I=S.get(u),S.delete(u),0===S.size&&this.listens.delete(h)}else I=void 0;return I}onAuthRevoked_(s,u){nr("Auth token revoked: "+s+"/"+u),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===s||"permission_denied"===s)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(s,u){nr("App check token revoked: "+s+"/"+u),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===s||"permission_denied"===s)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(s){this.securityDebugCallback_?this.securityDebugCallback_(s):"msg"in s&&console.log("FIREBASE: "+s.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const s of this.listens.values())for(const u of s.values())this.sendListen_(u);for(let s=0;s<this.outstandingPuts_.length;s++)this.outstandingPuts_[s]&&this.sendPut_(s);for(;this.onDisconnectRequestQueue_.length;){const s=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(s.action,s.pathString,s.data,s.onComplete)}for(let s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}sendConnectStats_(){const s={};let u="js";(0,V.Yr)()&&(u=this.repoInfo_.nodeAdmin?"admin_node":"node"),s["sdk."+u+"."+Ni.replace(/\./g,"-")]=1,(0,V.uI)()?s["framework.cordova"]=1:(0,V.b$)()&&(s["framework.reactnative"]=1),this.reportStats(s)}shouldReconnect_(){const s=Ko.getInstance().currentlyOnline();return(0,V.xb)(this.interruptReasons_)&&s}}return o.nextPersistentConnectionId_=0,o.nextConnectionId_=0,o})();class Qt{constructor(i,s){this.name=i,this.node=s}static Wrap(i,s){return new Qt(i,s)}}class dr{getCompare(){return this.compare.bind(this)}indexedValueChanged(i,s){const u=new Qt(Gn,i),h=new Qt(Gn,s);return 0!==this.compare(u,h)}minPost(){return Qt.MIN}}class ha extends dr{static get __EMPTY_NODE(){return bo}static set __EMPTY_NODE(i){bo=i}compare(i,s){return As(i.name,s.name)}isDefinedOn(i){throw(0,V.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(i,s){return!1}minPost(){return Qt.MIN}maxPost(){return new Qt(Gi,bo)}makePost(i,s){return(0,V.hu)("string"==typeof i,"KeyIndex indexValue must always be a string."),new Qt(i,bo)}toString(){return".key"}}const Ti=new ha;class xa{constructor(i,s,u,h,I=null){this.isReverse_=h,this.resultGenerator_=I,this.nodeStack_=[];let S=1;for(;!i.isEmpty();)if(S=s?u(i.key,s):1,h&&(S*=-1),S<0)i=this.isReverse_?i.left:i.right;else{if(0===S){this.nodeStack_.push(i);break}this.nodeStack_.push(i),i=this.isReverse_?i.right:i.left}}getNext(){if(0===this.nodeStack_.length)return null;let s,i=this.nodeStack_.pop();if(s=this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}}}let v,Si=(()=>{class o{constructor(s,u,h,I,S){this.key=s,this.value=u,this.color=h??o.RED,this.left=I??$r.EMPTY_NODE,this.right=S??$r.EMPTY_NODE}copy(s,u,h,I,S){return new o(s??this.key,u??this.value,h??this.color,I??this.left,S??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(s){return this.left.inorderTraversal(s)||!!s(this.key,this.value)||this.right.inorderTraversal(s)}reverseTraversal(s){return this.right.reverseTraversal(s)||s(this.key,this.value)||this.left.reverseTraversal(s)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(s,u,h){let I=this;const S=h(s,I.key);return I=S<0?I.copy(null,null,null,I.left.insert(s,u,h),null):0===S?I.copy(null,u,null,null,null):I.copy(null,null,null,null,I.right.insert(s,u,h)),I.fixUp_()}removeMin_(){if(this.left.isEmpty())return $r.EMPTY_NODE;let s=this;return!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.removeMin_(),null),s.fixUp_()}remove(s,u){let h,I;if(h=this,u(s,h.key)<0)!h.left.isEmpty()&&!h.left.isRed_()&&!h.left.left.isRed_()&&(h=h.moveRedLeft_()),h=h.copy(null,null,null,h.left.remove(s,u),null);else{if(h.left.isRed_()&&(h=h.rotateRight_()),!h.right.isEmpty()&&!h.right.isRed_()&&!h.right.left.isRed_()&&(h=h.moveRedRight_()),0===u(s,h.key)){if(h.right.isEmpty())return $r.EMPTY_NODE;I=h.right.min_(),h=h.copy(I.key,I.value,null,null,h.right.removeMin_())}h=h.copy(null,null,null,null,h.right.remove(s,u))}return h.fixUp_()}isRed_(){return this.color}fixUp_(){let s=this;return s.right.isRed_()&&!s.left.isRed_()&&(s=s.rotateLeft_()),s.left.isRed_()&&s.left.left.isRed_()&&(s=s.rotateRight_()),s.left.isRed_()&&s.right.isRed_()&&(s=s.colorFlip_()),s}moveRedLeft_(){let s=this.colorFlip_();return s.right.left.isRed_()&&(s=s.copy(null,null,null,null,s.right.rotateRight_()),s=s.rotateLeft_(),s=s.colorFlip_()),s}moveRedRight_(){let s=this.colorFlip_();return s.left.left.isRed_()&&(s=s.rotateRight_(),s=s.colorFlip_()),s}rotateLeft_(){const s=this.copy(null,null,o.RED,null,this.right.left);return this.right.copy(null,null,this.color,s,null)}rotateRight_(){const s=this.copy(null,null,o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,s)}colorFlip_(){const s=this.left.copy(null,null,!this.left.color,null,null),u=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,s,u)}checkMaxDepth_(){const s=this.check_();return Math.pow(2,s)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const s=this.left.check_();if(s!==this.right.check_())throw new Error("Black depths differ");return s+(this.isRed_()?0:1)}}return o.RED=!0,o.BLACK=!1,o})();class $r{constructor(i,s=$r.EMPTY_NODE){this.comparator_=i,this.root_=s}insert(i,s){return new $r(this.comparator_,this.root_.insert(i,s,this.comparator_).copy(null,null,Si.BLACK,null,null))}remove(i){return new $r(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,Si.BLACK,null,null))}get(i){let s,u=this.root_;for(;!u.isEmpty();){if(s=this.comparator_(i,u.key),0===s)return u.value;s<0?u=u.left:s>0&&(u=u.right)}return null}getPredecessorKey(i){let s,u=this.root_,h=null;for(;!u.isEmpty();){if(s=this.comparator_(i,u.key),0===s){if(u.left.isEmpty())return h?h.key:null;for(u=u.left;!u.right.isEmpty();)u=u.right;return u.key}s<0?u=u.left:s>0&&(h=u,u=u.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(i){return this.root_.inorderTraversal(i)}reverseTraversal(i){return this.root_.reverseTraversal(i)}getIterator(i){return new xa(this.root_,null,this.comparator_,!1,i)}getIteratorFrom(i,s){return new xa(this.root_,i,this.comparator_,!1,s)}getReverseIteratorFrom(i,s){return new xa(this.root_,i,this.comparator_,!0,s)}getReverseIterator(i){return new xa(this.root_,null,this.comparator_,!0,i)}}function qc(o,i){return As(o.name,i.name)}function Dc(o,i){return As(o,i)}$r.EMPTY_NODE=new class qi{copy(i,s,u,h,I){return this}insert(i,s,u){return new Si(i,s,null)}remove(i,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const g=function(o){return"number"==typeof o?"number:"+aa(o):"string:"+o},b=function(o){if(o.isLeafNode()){const i=o.val();(0,V.hu)("string"==typeof i||"number"==typeof i||"object"==typeof i&&(0,V.r3)(i,".sv"),"Priority must be a string or number.")}else(0,V.hu)(o===v||o.isEmpty(),"priority of unexpected type.");(0,V.hu)(o===v||o.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let M,J,Ce,B=(()=>{class o{constructor(s,u=o.__childrenNodeConstructor.EMPTY_NODE){this.value_=s,this.priorityNode_=u,this.lazyHash_=null,(0,V.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),b(this.priorityNode_)}static set __childrenNodeConstructor(s){M=s}static get __childrenNodeConstructor(){return M}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(s){return new o(this.value_,s)}getImmediateChild(s){return".priority"===s?this.priorityNode_:o.__childrenNodeConstructor.EMPTY_NODE}getChild(s){return qt(s)?this:".priority"===nn(s)?this.priorityNode_:o.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(s,u){return null}updateImmediateChild(s,u){return".priority"===s?this.updatePriority(u):u.isEmpty()&&".priority"!==s?this:o.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(s,u).updatePriority(this.priorityNode_)}updateChild(s,u){const h=nn(s);return null===h?u:u.isEmpty()&&".priority"!==h?this:((0,V.hu)(".priority"!==h||1===Ns(s),".priority must be the last token in a path"),this.updateImmediateChild(h,o.__childrenNodeConstructor.EMPTY_NODE.updateChild(Tn(s),u)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(s,u){return!1}val(s){return s&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let s="";this.priorityNode_.isEmpty()||(s+="priority:"+g(this.priorityNode_.val())+":");const u=typeof this.value_;s+=u+":",s+="number"===u?aa(this.value_):this.value_,this.lazyHash_=go(s)}return this.lazyHash_}getValue(){return this.value_}compareTo(s){return s===o.__childrenNodeConstructor.EMPTY_NODE?1:s instanceof o.__childrenNodeConstructor?-1:((0,V.hu)(s.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(s))}compareToLeafNode_(s){const u=typeof s.value_,h=typeof this.value_,I=o.VALUE_TYPE_ORDER.indexOf(u),S=o.VALUE_TYPE_ORDER.indexOf(h);return(0,V.hu)(I>=0,"Unknown leaf type: "+u),(0,V.hu)(S>=0,"Unknown leaf type: "+h),I===S?"object"===h?0:this.value_<s.value_?-1:this.value_===s.value_?0:1:S-I}withIndex(){return this}isIndexed(){return!0}equals(s){return s===this||!!s.isLeafNode()&&(this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_))}}return o.VALUE_TYPE_ORDER=["object","boolean","number","string"],o})();const dt=new class jt extends dr{compare(i,s){const u=i.node.getPriority(),h=s.node.getPriority(),I=u.compareTo(h);return 0===I?As(i.name,s.name):I}isDefinedOn(i){return!i.getPriority().isEmpty()}indexedValueChanged(i,s){return!i.getPriority().equals(s.getPriority())}minPost(){return Qt.MIN}maxPost(){return new Qt(Gi,new B("[PRIORITY-POST]",Ce))}makePost(i,s){const u=J(i);return new Qt(s,new B("[PRIORITY-POST]",u))}toString(){return".priority"}},ln=Math.log(2);class mi{constructor(i){this.count=parseInt(Math.log(i+1)/ln,10),this.current_=this.count-1;const h=(I=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=i+1&h}nextBitIsOne(){const i=!(this.bits_&1<<this.current_);return this.current_--,i}}const Qi=function(o,i,s,u){o.sort(i);const h=function(G,te){const Se=te-G;let Me,Ge;if(0===Se)return null;if(1===Se)return Me=o[G],Ge=s?s(Me):Me,new Si(Ge,Me.node,Si.BLACK,null,null);{const yt=parseInt(Se/2,10)+G,Mt=h(G,yt),hn=h(yt+1,te);return Me=o[yt],Ge=s?s(Me):Me,new Si(Ge,Me.node,Si.BLACK,Mt,hn)}},k=function(G){let te=null,Se=null,Me=o.length;const Ge=function(Mt,hn){const Wr=Me-Mt,Ji=Me;Me-=Mt;const oo=h(Wr+1,Ji),Ga=o[Wr],yi=s?s(Ga):Ga;yt(new Si(yi,Ga.node,hn,null,oo))},yt=function(Mt){te?(te.left=Mt,te=Mt):(Se=Mt,te=Mt)};for(let Mt=0;Mt<G.count;++Mt){const hn=G.nextBitIsOne(),Wr=Math.pow(2,G.count-(Mt+1));hn?Ge(Wr,Si.BLACK):(Ge(Wr,Si.BLACK),Ge(Wr,Si.RED))}return Se}(new mi(o.length));return new $r(u||i,k)};let Qs;const Os={};class ii{constructor(i,s){this.indexes_=i,this.indexSet_=s}static get Default(){return(0,V.hu)(Os&&dt,"ChildrenNode.ts has not been loaded"),Qs=Qs||new ii({".priority":Os},{".priority":dt}),Qs}get(i){const s=(0,V.DV)(this.indexes_,i);if(!s)throw new Error("No index defined for "+i);return s instanceof $r?s:null}hasIndex(i){return(0,V.r3)(this.indexSet_,i.toString())}addIndex(i,s){(0,V.hu)(i!==Ti,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const u=[];let h=!1;const I=s.getIterator(Qt.Wrap);let k,S=I.getNext();for(;S;)h=h||i.isDefinedOn(S.node),u.push(S),S=I.getNext();k=h?Qi(u,i.getCompare()):Os;const G=i.toString(),te=Object.assign({},this.indexSet_);te[G]=i;const Se=Object.assign({},this.indexes_);return Se[G]=k,new ii(Se,te)}addToIndexes(i,s){const u=(0,V.UI)(this.indexes_,(h,I)=>{const S=(0,V.DV)(this.indexSet_,I);if((0,V.hu)(S,"Missing index implementation for "+I),h===Os){if(S.isDefinedOn(i.node)){const k=[],G=s.getIterator(Qt.Wrap);let te=G.getNext();for(;te;)te.name!==i.name&&k.push(te),te=G.getNext();return k.push(i),Qi(k,S.getCompare())}return Os}{const k=s.get(i.name);let G=h;return k&&(G=G.remove(new Qt(i.name,k))),G.insert(i,i.node)}});return new ii(u,this.indexSet_)}removeFromIndexes(i,s){const u=(0,V.UI)(this.indexes_,h=>{if(h===Os)return h;{const I=s.get(i.name);return I?h.remove(new Qt(i.name,I)):h}});return new ii(u,this.indexSet_)}}let _s,Bt=(()=>{class o{constructor(s,u,h){this.children_=s,this.priorityNode_=u,this.indexMap_=h,this.lazyHash_=null,this.priorityNode_&&b(this.priorityNode_),this.children_.isEmpty()&&(0,V.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return _s||(_s=new o(new $r(Dc),null,ii.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||_s}updatePriority(s){return this.children_.isEmpty()?this:new o(this.children_,s,this.indexMap_)}getImmediateChild(s){if(".priority"===s)return this.getPriority();{const u=this.children_.get(s);return null===u?_s:u}}getChild(s){const u=nn(s);return null===u?this:this.getImmediateChild(u).getChild(Tn(s))}hasChild(s){return null!==this.children_.get(s)}updateImmediateChild(s,u){if((0,V.hu)(u,"We should always be passing snapshot nodes"),".priority"===s)return this.updatePriority(u);{const h=new Qt(s,u);let I,S;u.isEmpty()?(I=this.children_.remove(s),S=this.indexMap_.removeFromIndexes(h,this.children_)):(I=this.children_.insert(s,u),S=this.indexMap_.addToIndexes(h,this.children_));const k=I.isEmpty()?_s:this.priorityNode_;return new o(I,k,S)}}updateChild(s,u){const h=nn(s);if(null===h)return u;{(0,V.hu)(".priority"!==nn(s)||1===Ns(s),".priority must be the last token in a path");const I=this.getImmediateChild(h).updateChild(Tn(s),u);return this.updateImmediateChild(h,I)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(s){if(this.isEmpty())return null;const u={};let h=0,I=0,S=!0;if(this.forEachChild(dt,(k,G)=>{u[k]=G.val(s),h++,S&&o.INTEGER_REGEXP_.test(k)?I=Math.max(I,Number(k)):S=!1}),!s&&S&&I<2*h){const k=[];for(const G in u)k[G]=u[G];return k}return s&&!this.getPriority().isEmpty()&&(u[".priority"]=this.getPriority().val()),u}hash(){if(null===this.lazyHash_){let s="";this.getPriority().isEmpty()||(s+="priority:"+g(this.getPriority().val())+":"),this.forEachChild(dt,(u,h)=>{const I=h.hash();""!==I&&(s+=":"+u+":"+I)}),this.lazyHash_=""===s?"":go(s)}return this.lazyHash_}getPredecessorChildName(s,u,h){const I=this.resolveIndex_(h);if(I){const S=I.getPredecessorKey(new Qt(s,u));return S?S.name:null}return this.children_.getPredecessorKey(s)}getFirstChildName(s){const u=this.resolveIndex_(s);if(u){const h=u.minKey();return h&&h.name}return this.children_.minKey()}getFirstChild(s){const u=this.getFirstChildName(s);return u?new Qt(u,this.children_.get(u)):null}getLastChildName(s){const u=this.resolveIndex_(s);if(u){const h=u.maxKey();return h&&h.name}return this.children_.maxKey()}getLastChild(s){const u=this.getLastChildName(s);return u?new Qt(u,this.children_.get(u)):null}forEachChild(s,u){const h=this.resolveIndex_(s);return h?h.inorderTraversal(I=>u(I.name,I.node)):this.children_.inorderTraversal(u)}getIterator(s){return this.getIteratorFrom(s.minPost(),s)}getIteratorFrom(s,u){const h=this.resolveIndex_(u);if(h)return h.getIteratorFrom(s,I=>I);{const I=this.children_.getIteratorFrom(s.name,Qt.Wrap);let S=I.peek();for(;null!=S&&u.compare(S,s)<0;)I.getNext(),S=I.peek();return I}}getReverseIterator(s){return this.getReverseIteratorFrom(s.maxPost(),s)}getReverseIteratorFrom(s,u){const h=this.resolveIndex_(u);if(h)return h.getReverseIteratorFrom(s,I=>I);{const I=this.children_.getReverseIteratorFrom(s.name,Qt.Wrap);let S=I.peek();for(;null!=S&&u.compare(S,s)>0;)I.getNext(),S=I.peek();return I}}compareTo(s){return this.isEmpty()?s.isEmpty()?0:-1:s.isLeafNode()||s.isEmpty()?1:s===Zo?-1:0}withIndex(s){if(s===Ti||this.indexMap_.hasIndex(s))return this;{const u=this.indexMap_.addIndex(s,this.children_);return new o(this.children_,this.priorityNode_,u)}}isIndexed(s){return s===Ti||this.indexMap_.hasIndex(s)}equals(s){if(s===this)return!0;if(s.isLeafNode())return!1;{const u=s;if(this.getPriority().equals(u.getPriority())){if(this.children_.count()===u.children_.count()){const h=this.getIterator(dt),I=u.getIterator(dt);let S=h.getNext(),k=I.getNext();for(;S&&k;){if(S.name!==k.name||!S.node.equals(k.node))return!1;S=h.getNext(),k=I.getNext()}return null===S&&null===k}return!1}return!1}}resolveIndex_(s){return s===Ti?null:this.indexMap_.get(s.toString())}}return o.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,o})();const Zo=new class sl extends Bt{constructor(){super(new $r(Dc),Bt.EMPTY_NODE,ii.Default)}compareTo(i){return i===this?0:1}equals(i){return i===this}getPriority(){return this}getImmediateChild(i){return Bt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Qt,{MIN:{value:new Qt(Gn,Bt.EMPTY_NODE)},MAX:{value:new Qt(Gi,Zo)}}),ha.__EMPTY_NODE=Bt.EMPTY_NODE,B.__childrenNodeConstructor=Bt,function C(o){v=o}(Zo),function nt(o){Ce=o}(Zo);const nc=!0;function Kn(o,i=null){if(null===o)return Bt.EMPTY_NODE;if("object"==typeof o&&".priority"in o&&(i=o[".priority"]),(0,V.hu)(null===i||"string"==typeof i||"number"==typeof i||"object"==typeof i&&".sv"in i,"Invalid priority type found: "+typeof i),"object"==typeof o&&".value"in o&&null!==o[".value"]&&(o=o[".value"]),"object"!=typeof o||".sv"in o)return new B(o,Kn(i));if(o instanceof Array||!nc){let s=Bt.EMPTY_NODE;return Hn(o,(u,h)=>{if((0,V.r3)(o,u)&&"."!==u.substring(0,1)){const I=Kn(h);(I.isLeafNode()||!I.isEmpty())&&(s=s.updateImmediateChild(u,I))}}),s.updatePriority(Kn(i))}{const s=[];let u=!1;if(Hn(o,(S,k)=>{if("."!==S.substring(0,1)){const G=Kn(k);G.isEmpty()||(u=u||!G.getPriority().isEmpty(),s.push(new Qt(S,G)))}}),0===s.length)return Bt.EMPTY_NODE;const I=Qi(s,qc,S=>S.name,Dc);if(u){const S=Qi(s,dt.getCompare());return new Bt(I,Kn(i),new ii({".priority":S},{".priority":dt}))}return new Bt(I,Kn(i),ii.Default)}}!function Ie(o){J=o}(Kn);class pa extends dr{constructor(i){super(),this.indexPath_=i,(0,V.hu)(!qt(i)&&".priority"!==nn(i),"Can't create PathIndex with empty path or .priority key")}extractChild(i){return i.getChild(this.indexPath_)}isDefinedOn(i){return!i.getChild(this.indexPath_).isEmpty()}compare(i,s){const u=this.extractChild(i.node),h=this.extractChild(s.node),I=u.compareTo(h);return 0===I?As(i.name,s.name):I}makePost(i,s){const u=Kn(i),h=Bt.EMPTY_NODE.updateChild(this.indexPath_,u);return new Qt(s,h)}maxPost(){const i=Bt.EMPTY_NODE.updateChild(this.indexPath_,Zo);return new Qt(Gi,i)}toString(){return Fi(this.indexPath_,0).join("/")}}const ka=new class Ru extends dr{compare(i,s){const u=i.node.compareTo(s.node);return 0===u?As(i.name,s.name):u}isDefinedOn(i){return!0}indexedValueChanged(i,s){return!i.equals(s)}minPost(){return Qt.MIN}maxPost(){return Qt.MAX}makePost(i,s){const u=Kn(i);return new Qt(s,u)}toString(){return".value"}};function wc(o){return{type:"value",snapshotNode:o}}function Xi(o,i){return{type:"child_added",snapshotNode:i,childName:o}}function Ai(o,i){return{type:"child_removed",snapshotNode:i,childName:o}}function ga(o,i,s){return{type:"child_changed",snapshotNode:i,childName:o,oldSnap:s}}class To{constructor(i){this.index_=i}updateChild(i,s,u,h,I,S){(0,V.hu)(i.isIndexed(this.index_),"A node must be indexed if only a child is updated");const k=i.getImmediateChild(s);return k.getChild(h).equals(u.getChild(h))&&k.isEmpty()===u.isEmpty()||(null!=S&&(u.isEmpty()?i.hasChild(s)?S.trackChildChange(Ai(s,k)):(0,V.hu)(i.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):k.isEmpty()?S.trackChildChange(Xi(s,u)):S.trackChildChange(ga(s,u,k))),i.isLeafNode()&&u.isEmpty())?i:i.updateImmediateChild(s,u).withIndex(this.index_)}updateFullNode(i,s,u){return null!=u&&(i.isLeafNode()||i.forEachChild(dt,(h,I)=>{s.hasChild(h)||u.trackChildChange(Ai(h,I))}),s.isLeafNode()||s.forEachChild(dt,(h,I)=>{if(i.hasChild(h)){const S=i.getImmediateChild(h);S.equals(I)||u.trackChildChange(ga(h,I,S))}else u.trackChildChange(Xi(h,I))})),s.withIndex(this.index_)}updatePriority(i,s){return i.isEmpty()?Bt.EMPTY_NODE:i.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Yo{constructor(i){this.indexedFilter_=new To(i.getIndex()),this.index_=i.getIndex(),this.startPost_=Yo.getStartPost_(i),this.endPost_=Yo.getEndPost_(i),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(i){const s=this.startIsInclusive_?this.index_.compare(this.getStartPost(),i)<=0:this.index_.compare(this.getStartPost(),i)<0,u=this.endIsInclusive_?this.index_.compare(i,this.getEndPost())<=0:this.index_.compare(i,this.getEndPost())<0;return s&&u}updateChild(i,s,u,h,I,S){return this.matches(new Qt(s,u))||(u=Bt.EMPTY_NODE),this.indexedFilter_.updateChild(i,s,u,h,I,S)}updateFullNode(i,s,u){s.isLeafNode()&&(s=Bt.EMPTY_NODE);let h=s.withIndex(this.index_);h=h.updatePriority(Bt.EMPTY_NODE);const I=this;return s.forEachChild(dt,(S,k)=>{I.matches(new Qt(S,k))||(h=h.updateImmediateChild(S,Bt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(i,h,u)}updatePriority(i,s){return i}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(i){if(i.hasStart()){const s=i.getIndexStartName();return i.getIndex().makePost(i.getIndexStartValue(),s)}return i.getIndex().minPost()}static getEndPost_(i){if(i.hasEnd()){const s=i.getIndexEndName();return i.getIndex().makePost(i.getIndexEndValue(),s)}return i.getIndex().maxPost()}}class rc{constructor(i){this.withinDirectionalStart=s=>this.reverse_?this.withinEndPost(s):this.withinStartPost(s),this.withinDirectionalEnd=s=>this.reverse_?this.withinStartPost(s):this.withinEndPost(s),this.withinStartPost=s=>{const u=this.index_.compare(this.rangedFilter_.getStartPost(),s);return this.startIsInclusive_?u<=0:u<0},this.withinEndPost=s=>{const u=this.index_.compare(s,this.rangedFilter_.getEndPost());return this.endIsInclusive_?u<=0:u<0},this.rangedFilter_=new Yo(i),this.index_=i.getIndex(),this.limit_=i.getLimit(),this.reverse_=!i.isViewFromLeft(),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}updateChild(i,s,u,h,I,S){return this.rangedFilter_.matches(new Qt(s,u))||(u=Bt.EMPTY_NODE),i.getImmediateChild(s).equals(u)?i:i.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(i,s,u,h,I,S):this.fullLimitUpdateChild_(i,s,u,I,S)}updateFullNode(i,s,u){let h;if(s.isLeafNode()||s.isEmpty())h=Bt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<s.numChildren()&&s.isIndexed(this.index_)){let I;h=Bt.EMPTY_NODE.withIndex(this.index_),I=this.reverse_?s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let S=0;for(;I.hasNext()&&S<this.limit_;){const k=I.getNext();if(this.withinDirectionalStart(k)){if(!this.withinDirectionalEnd(k))break;h=h.updateImmediateChild(k.name,k.node),S++}}}else{let I;h=s.withIndex(this.index_),h=h.updatePriority(Bt.EMPTY_NODE),I=this.reverse_?h.getReverseIterator(this.index_):h.getIterator(this.index_);let S=0;for(;I.hasNext();){const k=I.getNext();S<this.limit_&&this.withinDirectionalStart(k)&&this.withinDirectionalEnd(k)?S++:h=h.updateImmediateChild(k.name,Bt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(i,h,u)}updatePriority(i,s){return i}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(i,s,u,h,I){let S;if(this.reverse_){const Me=this.index_.getCompare();S=(Ge,yt)=>Me(yt,Ge)}else S=this.index_.getCompare();const k=i;(0,V.hu)(k.numChildren()===this.limit_,"");const G=new Qt(s,u),te=this.reverse_?k.getFirstChild(this.index_):k.getLastChild(this.index_),Se=this.rangedFilter_.matches(G);if(k.hasChild(s)){const Me=k.getImmediateChild(s);let Ge=h.getChildAfterChild(this.index_,te,this.reverse_);for(;null!=Ge&&(Ge.name===s||k.hasChild(Ge.name));)Ge=h.getChildAfterChild(this.index_,Ge,this.reverse_);const yt=null==Ge?1:S(Ge,G);if(Se&&!u.isEmpty()&&yt>=0)return I?.trackChildChange(ga(s,u,Me)),k.updateImmediateChild(s,u);{I?.trackChildChange(Ai(s,Me));const hn=k.updateImmediateChild(s,Bt.EMPTY_NODE);return null!=Ge&&this.rangedFilter_.matches(Ge)?(I?.trackChildChange(Xi(Ge.name,Ge.node)),hn.updateImmediateChild(Ge.name,Ge.node)):hn}}return u.isEmpty()?i:Se&&S(te,G)>=0?(null!=I&&(I.trackChildChange(Ai(te.name,te.node)),I.trackChildChange(Xi(s,u))),k.updateImmediateChild(s,u).updateImmediateChild(te.name,Bt.EMPTY_NODE)):i}}class Qc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=dt}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,V.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,V.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Gn}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,V.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,V.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,V.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===dt}copy(){const i=new Qc;return i.limitSet_=this.limitSet_,i.limit_=this.limit_,i.startSet_=this.startSet_,i.startAfterSet_=this.startAfterSet_,i.indexStartValue_=this.indexStartValue_,i.startNameSet_=this.startNameSet_,i.indexStartName_=this.indexStartName_,i.endSet_=this.endSet_,i.endBeforeSet_=this.endBeforeSet_,i.indexEndValue_=this.indexEndValue_,i.endNameSet_=this.endNameSet_,i.indexEndName_=this.indexEndName_,i.index_=this.index_,i.viewFrom_=this.viewFrom_,i}}function ma(o,i,s){const u=o.copy();return u.startSet_=!0,void 0===i&&(i=null),u.indexStartValue_=i,null!=s?(u.startNameSet_=!0,u.indexStartName_=s):(u.startNameSet_=!1,u.indexStartName_=""),u}function Xs(o,i,s){const u=o.copy();return u.endSet_=!0,void 0===i&&(i=null),u.indexEndValue_=i,void 0!==s?(u.endNameSet_=!0,u.indexEndName_=s):(u.endNameSet_=!1,u.indexEndName_=""),u}function _a(o,i){const s=o.copy();return s.index_=i,s}function So(o){const i={};if(o.isDefault())return i;let s;if(o.index_===dt?s="$priority":o.index_===ka?s="$value":o.index_===Ti?s="$key":((0,V.hu)(o.index_ instanceof pa,"Unrecognized index type!"),s=o.index_.toString()),i.orderBy=(0,V.Wl)(s),o.startSet_){const u=o.startAfterSet_?"startAfter":"startAt";i[u]=(0,V.Wl)(o.indexStartValue_),o.startNameSet_&&(i[u]+=","+(0,V.Wl)(o.indexStartName_))}if(o.endSet_){const u=o.endBeforeSet_?"endBefore":"endAt";i[u]=(0,V.Wl)(o.indexEndValue_),o.endNameSet_&&(i[u]+=","+(0,V.Wl)(o.indexEndName_))}return o.limitSet_&&(o.isViewFromLeft()?i.limitToFirst=o.limit_:i.limitToLast=o.limit_),i}function Jc(o){const i={};if(o.startSet_&&(i.sp=o.indexStartValue_,o.startNameSet_&&(i.sn=o.indexStartName_),i.sin=!o.startAfterSet_),o.endSet_&&(i.ep=o.indexEndValue_,o.endNameSet_&&(i.en=o.indexEndName_),i.ein=!o.endBeforeSet_),o.limitSet_){i.l=o.limit_;let s=o.viewFrom_;""===s&&(s=o.isViewFromLeft()?"l":"r"),i.vf=s}return o.index_!==dt&&(i.i=o.index_.toString()),i}class xs extends vc{constructor(i,s,u,h){super(),this.repoInfo_=i,this.onDataUpdate_=s,this.authTokenProvider_=u,this.appCheckTokenProvider_=h,this.log_=cs("p:rest:"),this.listens_={}}reportStats(i){throw new Error("Method not implemented.")}static getListenId_(i,s){return void 0!==s?"tag$"+s:((0,V.hu)(i._queryParams.isDefault(),"should have a tag if it's not a default query."),i._path.toString())}listen(i,s,u,h){const I=i._path.toString();this.log_("Listen called for "+I+" "+i._queryIdentifier);const S=xs.getListenId_(i,u),k={};this.listens_[S]=k;const G=So(i._queryParams);this.restRequest_(I+".json",G,(te,Se)=>{let Me=Se;if(404===te&&(Me=null,te=null),null===te&&this.onDataUpdate_(I,Me,!1,u),(0,V.DV)(this.listens_,S)===k){let Ge;Ge=te?401===te?"permission_denied":"rest_error:"+te:"ok",h(Ge,null)}})}unlisten(i,s){const u=xs.getListenId_(i,s);delete this.listens_[u]}get(i){const s=So(i._queryParams),u=i._path.toString(),h=new V.BH;return this.restRequest_(u+".json",s,(I,S)=>{let k=S;404===I&&(k=null,I=null),null===I?(this.onDataUpdate_(u,k,!1,null),h.resolve(k)):h.reject(new Error(k))}),h.promise}refreshAuthToken(i){}restRequest_(i,s={},u){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([h,I])=>{h&&h.accessToken&&(s.auth=h.accessToken),I&&I.token&&(s.ac=I.token);const S=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+i+"?ns="+this.repoInfo_.namespace+(0,V.xO)(s);this.log_("Sending REST request for "+S);const k=new XMLHttpRequest;k.onreadystatechange=()=>{if(u&&4===k.readyState){this.log_("REST Response for "+S+" received. status:",k.status,"response:",k.responseText);let G=null;if(k.status>=200&&k.status<300){try{G=(0,V.cI)(k.responseText)}catch{Vr("Failed to parse JSON response for "+S+": "+k.responseText)}u(null,G)}else 401!==k.status&&404!==k.status&&Vr("Got unsuccessful REST response for "+S+" Status: "+k.status),u(k.status);u=null}},k.open("GET",S,!0),k.send()})}}class Nu{constructor(){this.rootNode_=Bt.EMPTY_NODE}getNode(i){return this.rootNode_.getChild(i)}updateSnapshot(i,s){this.rootNode_=this.rootNode_.updateChild(i,s)}}function vs(){return{value:null,children:new Map}}function Ao(o,i,s){if(qt(i))o.value=s,o.children.clear();else if(null!==o.value)o.value=o.value.updateChild(i,s);else{const u=nn(i);o.children.has(u)||o.children.set(u,vs()),Ao(o.children.get(u),i=Tn(i),s)}}function Mo(o,i){if(qt(i))return o.value=null,o.children.clear(),!0;if(null!==o.value){if(o.value.isLeafNode())return!1;{const s=o.value;return o.value=null,s.forEachChild(dt,(u,h)=>{Ao(o,new at(u),h)}),Mo(o,i)}}if(o.children.size>0){const s=nn(i);return i=Tn(i),o.children.has(s)&&Mo(o.children.get(s),i)&&o.children.delete(s),0===o.children.size}return!0}function va(o,i,s){null!==o.value?s(i,o.value):function Ou(o,i){o.children.forEach((s,u)=>{i(u,s)})}(o,(u,h)=>{va(h,new at(i.toString()+"/"+u),s)})}class D{constructor(i){this.collection_=i,this.last_=null}get(){const i=this.collection_.get(),s=Object.assign({},i);return this.last_&&Hn(this.last_,(u,h)=>{s[u]=s[u]-h}),this.last_=i,s}}class le{constructor(i,s){this.server_=s,this.statsToReport_={},this.statsListener_=new D(i);const u=1e4+2e4*Math.random();Gs(this.reportStats_.bind(this),Math.floor(u))}reportStats_(){const i=this.statsListener_.get(),s={};let u=!1;Hn(i,(h,I)=>{I>0&&(0,V.r3)(this.statsToReport_,h)&&(s[h]=I,u=!0)}),u&&this.server_.reportStats(s),Gs(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ge=function(o){return o[o.OVERWRITE=0]="OVERWRITE",o[o.MERGE=1]="MERGE",o[o.ACK_USER_WRITE=2]="ACK_USER_WRITE",o[o.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",o}(ge||{});function ut(o){return{fromUser:!1,fromServer:!0,queryId:o,tagged:!0}}class It{constructor(i,s,u){this.path=i,this.affectedTree=s,this.revert=u,this.type=ge.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(i){if(qt(this.path)){if(null!=this.affectedTree.value)return(0,V.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new at(i));return new It(un(),s,this.revert)}}return(0,V.hu)(nn(this.path)===i,"operationForChild called for unrelated child."),new It(Tn(this.path),this.affectedTree,this.revert)}}class Zt{constructor(i,s){this.source=i,this.path=s,this.type=ge.LISTEN_COMPLETE}operationForChild(i){return qt(this.path)?new Zt(this.source,un()):new Zt(this.source,Tn(this.path))}}class Ot{constructor(i,s,u){this.source=i,this.path=s,this.snap=u,this.type=ge.OVERWRITE}operationForChild(i){return qt(this.path)?new Ot(this.source,un(),this.snap.getImmediateChild(i)):new Ot(this.source,Tn(this.path),this.snap)}}class Jr{constructor(i,s,u){this.source=i,this.path=s,this.children=u,this.type=ge.MERGE}operationForChild(i){if(qt(this.path)){const s=this.children.subtree(new at(i));return s.isEmpty()?null:s.value?new Ot(this.source,un(),s.value):new Jr(this.source,un(),s)}return(0,V.hu)(nn(this.path)===i,"Can't get a merge for a child not on the path of the operation"),new Jr(this.source,Tn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Fn{constructor(i,s,u){this.node_=i,this.fullyInitialized_=s,this.filtered_=u}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(i){if(qt(i))return this.isFullyInitialized()&&!this.filtered_;const s=nn(i);return this.isCompleteForChild(s)}isCompleteForChild(i){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(i)}getNode(){return this.node_}}class ic{constructor(i){this.query_=i,this.index_=this.query_._queryParams.getIndex()}}function ys(o,i,s,u,h,I){const S=u.filter(k=>k.type===s);S.sort((k,G)=>function Js(o,i,s){if(null==i.childName||null==s.childName)throw(0,V.g5)("Should only compare child_ events.");const u=new Qt(i.childName,i.snapshotNode),h=new Qt(s.childName,s.snapshotNode);return o.index_.compare(u,h)}(o,k,G)),S.forEach(k=>{const G=function Es(o,i,s){return"value"===i.type||"child_removed"===i.type||(i.prevName=s.getPredecessorChildName(i.childName,i.snapshotNode,o.index_)),i}(o,k,I);h.forEach(te=>{te.respondsTo(k.type)&&i.push(te.createEvent(G,o.query_))})})}function sc(o,i){return{eventCache:o,serverCache:i}}function Tc(o,i,s,u){return sc(new Fn(i,s,u),o.serverCache)}function xu(o,i,s,u){return sc(o.eventCache,new Fn(i,s,u))}function ya(o){return o.eventCache.isFullyInitialized()?o.eventCache.getNode():null}function eo(o){return o.serverCache.isFullyInitialized()?o.serverCache.getNode():null}let Fa;class Zn{constructor(i,s=(()=>(Fa||(Fa=new $r(qa)),Fa))()){this.value=i,this.children=s}static fromObject(i){let s=new Zn(null);return Hn(i,(u,h)=>{s=s.set(new at(u),h)}),s}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(i,s){if(null!=this.value&&s(this.value))return{path:un(),value:this.value};if(qt(i))return null;{const u=nn(i),h=this.children.get(u);if(null!==h){const I=h.findRootMostMatchingPathAndValue(Tn(i),s);return null!=I?{path:Sn(new at(u),I.path),value:I.value}:null}return null}}findRootMostValueAndPath(i){return this.findRootMostMatchingPathAndValue(i,()=>!0)}subtree(i){if(qt(i))return this;{const s=nn(i),u=this.children.get(s);return null!==u?u.subtree(Tn(i)):new Zn(null)}}set(i,s){if(qt(i))return new Zn(s,this.children);{const u=nn(i),I=(this.children.get(u)||new Zn(null)).set(Tn(i),s),S=this.children.insert(u,I);return new Zn(this.value,S)}}remove(i){if(qt(i))return this.children.isEmpty()?new Zn(null):new Zn(null,this.children);{const s=nn(i),u=this.children.get(s);if(u){const h=u.remove(Tn(i));let I;return I=h.isEmpty()?this.children.remove(s):this.children.insert(s,h),null===this.value&&I.isEmpty()?new Zn(null):new Zn(this.value,I)}return this}}get(i){if(qt(i))return this.value;{const s=nn(i),u=this.children.get(s);return u?u.get(Tn(i)):null}}setTree(i,s){if(qt(i))return s;{const u=nn(i),I=(this.children.get(u)||new Zn(null)).setTree(Tn(i),s);let S;return S=I.isEmpty()?this.children.remove(u):this.children.insert(u,I),new Zn(this.value,S)}}fold(i){return this.fold_(un(),i)}fold_(i,s){const u={};return this.children.inorderTraversal((h,I)=>{u[h]=I.fold_(Sn(i,h),s)}),s(i,this.value,u)}findOnPath(i,s){return this.findOnPath_(i,un(),s)}findOnPath_(i,s,u){const h=!!this.value&&u(s,this.value);if(h)return h;if(qt(i))return null;{const I=nn(i),S=this.children.get(I);return S?S.findOnPath_(Tn(i),Sn(s,I),u):null}}foreachOnPath(i,s){return this.foreachOnPath_(i,un(),s)}foreachOnPath_(i,s,u){if(qt(i))return this;{this.value&&u(s,this.value);const h=nn(i),I=this.children.get(h);return I?I.foreachOnPath_(Tn(i),Sn(s,h),u):new Zn(null)}}foreach(i){this.foreach_(un(),i)}foreach_(i,s){this.children.inorderTraversal((u,h)=>{h.foreach_(Sn(i,u),s)}),this.value&&s(i,this.value)}foreachChild(i){this.children.inorderTraversal((s,u)=>{u.value&&i(s,u.value)})}}class Bi{constructor(i){this.writeTree_=i}static empty(){return new Bi(new Zn(null))}}function Lu(o,i,s){if(qt(i))return new Bi(new Zn(s));{const u=o.writeTree_.findRootMostValueAndPath(i);if(null!=u){const h=u.path;let I=u.value;const S=kr(h,i);return I=I.updateChild(S,s),new Bi(o.writeTree_.set(h,I))}{const h=new Zn(s),I=o.writeTree_.setTree(i,h);return new Bi(I)}}}function al(o,i,s){let u=o;return Hn(s,(h,I)=>{u=Lu(u,Sn(i,h),I)}),u}function Qd(o,i){if(qt(i))return Bi.empty();{const s=o.writeTree_.setTree(i,new Zn(null));return new Bi(s)}}function cl(o,i){return null!=Sc(o,i)}function Sc(o,i){const s=o.writeTree_.findRootMostValueAndPath(i);return null!=s?o.writeTree_.get(s.path).getChild(kr(s.path,i)):null}function Xd(o){const i=[],s=o.writeTree_.value;return null!=s?s.isLeafNode()||s.forEachChild(dt,(u,h)=>{i.push(new Qt(u,h))}):o.writeTree_.children.inorderTraversal((u,h)=>{null!=h.value&&i.push(new Qt(u,h.value))}),i}function oc(o,i){if(qt(i))return o;{const s=Sc(o,i);return new Bi(null!=s?new Zn(s):o.writeTree_.subtree(i))}}function Hl(o){return o.writeTree_.isEmpty()}function Ro(o,i){return Fu(un(),o.writeTree_,i)}function Fu(o,i,s){if(null!=i.value)return s.updateChild(o,i.value);{let u=null;return i.children.inorderTraversal((h,I)=>{".priority"===h?((0,V.hu)(null!==I.value,"Priority writes must always be leaf nodes"),u=I.value):s=Fu(Sn(o,h),I,s)}),!s.getChild(o).isEmpty()&&null!==u&&(s=s.updateChild(Sn(o,".priority"),u)),s}}function Ac(o,i){return Yl(i,o)}function to(o,i){if(o.snap)return Vt(o.path,i);for(const s in o.children)if(o.children.hasOwnProperty(s)&&Vt(Sn(o.path,s),i))return!0;return!1}function Wl(o){return o.visible}function Uu(o,i,s){let u=Bi.empty();for(let h=0;h<o.length;++h){const I=o[h];if(i(I)){const S=I.path;let k;if(I.snap)Vt(s,S)?(k=kr(s,S),u=Lu(u,k,I.snap)):Vt(S,s)&&(k=kr(S,s),u=Lu(u,un(),I.snap.getChild(k)));else{if(!I.children)throw(0,V.g5)("WriteRecord should have .snap or .children");if(Vt(s,S))k=kr(s,S),u=al(u,k,I.children);else if(Vt(S,s))if(k=kr(S,s),qt(k))u=al(u,un(),I.children);else{const G=(0,V.DV)(I.children,nn(k));if(G){const te=G.getChild(Tn(k));u=Lu(u,un(),te)}}}}}return u}function Ba(o,i,s,u,h){if(u||h){const I=oc(o.visibleWrites,i);return!h&&Hl(I)?s:h||null!=s||cl(I,un())?Ro(Uu(o.allWrites,function(te){return(te.visible||h)&&(!u||!~u.indexOf(te.writeId))&&(Vt(te.path,i)||Vt(i,te.path))},i),s||Bt.EMPTY_NODE):null}{const I=Sc(o.visibleWrites,i);if(null!=I)return I;{const S=oc(o.visibleWrites,i);return Hl(S)?s:null!=s||cl(S,un())?Ro(S,s||Bt.EMPTY_NODE):null}}}function Ea(o,i,s,u){return Ba(o.writeTree,o.treePath,i,s,u)}function Kl(o,i){return function zl(o,i,s){let u=Bt.EMPTY_NODE;const h=Sc(o.visibleWrites,i);if(h)return h.isLeafNode()||h.forEachChild(dt,(I,S)=>{u=u.updateImmediateChild(I,S)}),u;if(s){const I=oc(o.visibleWrites,i);return s.forEachChild(dt,(S,k)=>{const G=Ro(oc(I,new at(S)),k);u=u.updateImmediateChild(S,G)}),Xd(I).forEach(S=>{u=u.updateImmediateChild(S.name,S.node)}),u}return Xd(oc(o.visibleWrites,i)).forEach(S=>{u=u.updateImmediateChild(S.name,S.node)}),u}(o.writeTree,o.treePath,i)}function fl(o,i,s,u){return function ll(o,i,s,u,h){(0,V.hu)(u||h,"Either existingEventSnap or existingServerSnap must exist");const I=Sn(i,s);if(cl(o.visibleWrites,I))return null;{const S=oc(o.visibleWrites,I);return Hl(S)?h.getChild(s):Ro(S,h.getChild(s))}}(o.writeTree,o.treePath,i,s,u)}function tu(o,i){return function Jd(o,i){return Sc(o.visibleWrites,i)}(o.writeTree,Sn(o.treePath,i))}function Zl(o,i,s){return function Gl(o,i,s,u){const h=Sn(i,s),I=Sc(o.visibleWrites,h);return null!=I?I:u.isCompleteForChild(s)?Ro(oc(o.visibleWrites,h),u.getNode().getImmediateChild(s)):null}(o.writeTree,o.treePath,i,s)}function ja(o,i){return Yl(Sn(o.treePath,i),o.writeTree)}function Yl(o,i){return{treePath:o,writeTree:i}}class tf{constructor(){this.changeMap=new Map}trackChildChange(i){const s=i.type,u=i.childName;(0,V.hu)("child_added"===s||"child_changed"===s||"child_removed"===s,"Only child changes supported for tracking"),(0,V.hu)(".priority"!==u,"Only non-priority child changes can be tracked.");const h=this.changeMap.get(u);if(h){const I=h.type;if("child_added"===s&&"child_removed"===I)this.changeMap.set(u,ga(u,i.snapshotNode,h.snapshotNode));else if("child_removed"===s&&"child_added"===I)this.changeMap.delete(u);else if("child_removed"===s&&"child_changed"===I)this.changeMap.set(u,Ai(u,h.oldSnap));else if("child_changed"===s&&"child_added"===I)this.changeMap.set(u,Xi(u,i.snapshotNode));else{if("child_changed"!==s||"child_changed"!==I)throw(0,V.g5)("Illegal combination of changes: "+i+" occurred after "+h);this.changeMap.set(u,ga(u,i.snapshotNode,h.oldSnap))}}else this.changeMap.set(u,i)}getChanges(){return Array.from(this.changeMap.values())}}const ru=new class nu{getCompleteChild(i){return null}getChildAfterChild(i,s,u){return null}};class iu{constructor(i,s,u=null){this.writes_=i,this.viewCache_=s,this.optCompleteServerCache_=u}getCompleteChild(i){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(i))return s.getNode().getImmediateChild(i);{const u=null!=this.optCompleteServerCache_?new Fn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Zl(this.writes_,i,u)}}getChildAfterChild(i,s,u){const h=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:eo(this.viewCache_),I=function ef(o,i,s,u,h,I){return function ks(o,i,s,u,h,I,S){let k;const G=oc(o.visibleWrites,i),te=Sc(G,un());if(null!=te)k=te;else{if(null==s)return[];k=Ro(G,s)}if(k=k.withIndex(S),k.isEmpty()||k.isLeafNode())return[];{const Se=[],Me=S.getCompare(),Ge=I?k.getReverseIteratorFrom(u,S):k.getIteratorFrom(u,S);let yt=Ge.getNext();for(;yt&&Se.length<h;)0!==Me(yt,u)&&Se.push(yt),yt=Ge.getNext();return Se}}(o.writeTree,o.treePath,i,s,u,h,I)}(this.writes_,h,s,1,u,i);return 0===I.length?null:I[0]}}function hl(o,i,s,u,h,I){const S=i.eventCache;if(null!=tu(u,s))return i;{let k,G;if(qt(s))if((0,V.hu)(i.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),i.serverCache.isFiltered()){const te=eo(i),Me=Kl(u,te instanceof Bt?te:Bt.EMPTY_NODE);k=o.filter.updateFullNode(i.eventCache.getNode(),Me,I)}else{const te=Ea(u,eo(i));k=o.filter.updateFullNode(i.eventCache.getNode(),te,I)}else{const te=nn(s);if(".priority"===te){(0,V.hu)(1===Ns(s),"Can't have a priority with additional path components");const Se=S.getNode();G=i.serverCache.getNode();const Me=fl(u,s,Se,G);k=null!=Me?o.filter.updatePriority(Se,Me):S.getNode()}else{const Se=Tn(s);let Me;if(S.isCompleteForChild(te)){G=i.serverCache.getNode();const Ge=fl(u,s,S.getNode(),G);Me=null!=Ge?S.getNode().getImmediateChild(te).updateChild(Se,Ge):S.getNode().getImmediateChild(te)}else Me=Zl(u,te,i.serverCache);k=null!=Me?o.filter.updateChild(S.getNode(),te,Me,Se,h,I):S.getNode()}}return Tc(i,k,S.isFullyInitialized()||qt(s),o.filter.filtersNodes())}}function Va(o,i,s,u,h,I,S,k){const G=i.serverCache;let te;const Se=S?o.filter:o.filter.getIndexedFilter();if(qt(s))te=Se.updateFullNode(G.getNode(),u,null);else if(Se.filtersNodes()&&!G.isFiltered()){const yt=G.getNode().updateChild(s,u);te=Se.updateFullNode(G.getNode(),yt,null)}else{const yt=nn(s);if(!G.isCompleteForPath(s)&&Ns(s)>1)return i;const Mt=Tn(s),Wr=G.getNode().getImmediateChild(yt).updateChild(Mt,u);te=".priority"===yt?Se.updatePriority(G.getNode(),Wr):Se.updateChild(G.getNode(),yt,Wr,Mt,ru,null)}const Me=xu(i,te,G.isFullyInitialized()||qt(s),Se.filtersNodes());return hl(o,Me,s,h,new iu(h,Me,I),k)}function Rc(o,i,s,u,h,I,S){const k=i.eventCache;let G,te;const Se=new iu(h,i,I);if(qt(s))te=o.filter.updateFullNode(i.eventCache.getNode(),u,S),G=Tc(i,te,!0,o.filter.filtersNodes());else{const Me=nn(s);if(".priority"===Me)te=o.filter.updatePriority(i.eventCache.getNode(),u),G=Tc(i,te,k.isFullyInitialized(),k.isFiltered());else{const Ge=Tn(s),yt=k.getNode().getImmediateChild(Me);let Mt;if(qt(Ge))Mt=u;else{const hn=Se.getCompleteChild(Me);Mt=null!=hn?".priority"===pi(Ge)&&hn.getChild(Ec(Ge)).isEmpty()?hn:hn.updateChild(Ge,u):Bt.EMPTY_NODE}G=yt.equals(Mt)?i:Tc(i,o.filter.updateChild(k.getNode(),Me,Mt,Ge,Se,S),k.isFullyInitialized(),o.filter.filtersNodes())}}return G}function pl(o,i){return o.eventCache.isCompleteForChild(i)}function ql(o,i,s){return s.foreach((u,h)=>{i=i.updateChild(u,h)}),i}function Ha(o,i,s,u,h,I,S,k){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;let te,G=i;te=qt(s)?u:new Zn(null).setTree(s,u);const Se=i.serverCache.getNode();return te.children.inorderTraversal((Me,Ge)=>{if(Se.hasChild(Me)){const Mt=ql(0,i.serverCache.getNode().getImmediateChild(Me),Ge);G=Va(o,G,new at(Me),Mt,h,I,S,k)}}),te.children.inorderTraversal((Me,Ge)=>{const yt=!i.serverCache.isCompleteForChild(Me)&&null===Ge.value;if(!Se.hasChild(Me)&&!yt){const hn=ql(0,i.serverCache.getNode().getImmediateChild(Me),Ge);G=Va(o,G,new at(Me),hn,h,I,S,k)}}),G}class Ql{constructor(i,s){this.query_=i,this.eventRegistrations_=[];const u=this.query_._queryParams,h=new To(u.getIndex()),I=function ol(o){return o.loadsAllData()?new To(o.getIndex()):o.hasLimit()?new rc(o):new Yo(o)}(u);this.processor_=function Bu(o){return{filter:o}}(I);const S=s.serverCache,k=s.eventCache,G=h.updateFullNode(Bt.EMPTY_NODE,S.getNode(),null),te=I.updateFullNode(Bt.EMPTY_NODE,k.getNode(),null),Se=new Fn(G,S.isFullyInitialized(),h.filtersNodes()),Me=new Fn(te,k.isFullyInitialized(),I.filtersNodes());this.viewCache_=sc(Me,Se),this.eventGenerator_=new ic(this.query_)}get query(){return this.query_}}function af(o,i){const s=eo(o.viewCache_);return s&&(o.query._queryParams.loadsAllData()||!qt(i)&&!s.getImmediateChild(nn(i)).isEmpty())?s.getChild(i):null}function Jl(o){return 0===o.eventRegistrations_.length}function su(o,i,s){const u=[];if(s){(0,V.hu)(null==i,"A cancel should cancel all event registrations.");const h=o.query._path;o.eventRegistrations_.forEach(I=>{const S=I.createCancelEvent(s,h);S&&u.push(S)})}if(i){let h=[];for(let I=0;I<o.eventRegistrations_.length;++I){const S=o.eventRegistrations_[I];if(S.matches(i)){if(i.hasAnyCallback()){h=h.concat(o.eventRegistrations_.slice(I+1));break}}else h.push(S)}o.eventRegistrations_=h}else o.eventRegistrations_=[];return u}function _l(o,i,s,u){i.type===ge.MERGE&&null!==i.source.queryId&&((0,V.hu)(eo(o.viewCache_),"We should always have a full cache before handling merges"),(0,V.hu)(ya(o.viewCache_),"Missing event cache, even though we have a server cache"));const h=o.viewCache_,I=function Mc(o,i,s,u,h){const I=new tf;let S,k;if(s.type===ge.OVERWRITE){const te=s;te.source.fromUser?S=Rc(o,i,te.path,te.snap,u,h,I):((0,V.hu)(te.source.fromServer,"Unknown source."),k=te.source.tagged||i.serverCache.isFiltered()&&!qt(te.path),S=Va(o,i,te.path,te.snap,u,h,k,I))}else if(s.type===ge.MERGE){const te=s;te.source.fromUser?S=function sf(o,i,s,u,h,I,S){let k=i;return u.foreach((G,te)=>{const Se=Sn(s,G);pl(i,nn(Se))&&(k=Rc(o,k,Se,te,h,I,S))}),u.foreach((G,te)=>{const Se=Sn(s,G);pl(i,nn(Se))||(k=Rc(o,k,Se,te,h,I,S))}),k}(o,i,te.path,te.children,u,h,I):((0,V.hu)(te.source.fromServer,"Unknown source."),k=te.source.tagged||i.serverCache.isFiltered(),S=Ha(o,i,te.path,te.children,u,h,k,I))}else if(s.type===ge.ACK_USER_WRITE){const te=s;S=te.revert?function fh(o,i,s,u,h,I){let S;if(null!=tu(u,s))return i;{const k=new iu(u,i,h),G=i.eventCache.getNode();let te;if(qt(s)||".priority"===nn(s)){let Se;if(i.serverCache.isFullyInitialized())Se=Ea(u,eo(i));else{const Me=i.serverCache.getNode();(0,V.hu)(Me instanceof Bt,"serverChildren would be complete if leaf node"),Se=Kl(u,Me)}te=o.filter.updateFullNode(G,Se,I)}else{const Se=nn(s);let Me=Zl(u,Se,i.serverCache);null==Me&&i.serverCache.isCompleteForChild(Se)&&(Me=G.getImmediateChild(Se)),te=null!=Me?o.filter.updateChild(G,Se,Me,Tn(s),k,I):i.eventCache.getNode().hasChild(Se)?o.filter.updateChild(G,Se,Bt.EMPTY_NODE,Tn(s),k,I):G,te.isEmpty()&&i.serverCache.isFullyInitialized()&&(S=Ea(u,eo(i)),S.isLeafNode()&&(te=o.filter.updateFullNode(te,S,I)))}return S=i.serverCache.isFullyInitialized()||null!=tu(u,un()),Tc(i,te,S,o.filter.filtersNodes())}}(o,i,te.path,u,h,I):function Pc(o,i,s,u,h,I,S){if(null!=tu(h,s))return i;const k=i.serverCache.isFiltered(),G=i.serverCache;if(null!=u.value){if(qt(s)&&G.isFullyInitialized()||G.isCompleteForPath(s))return Va(o,i,s,G.getNode().getChild(s),h,I,k,S);if(qt(s)){let te=new Zn(null);return G.getNode().forEachChild(Ti,(Se,Me)=>{te=te.set(new at(Se),Me)}),Ha(o,i,s,te,h,I,k,S)}return i}{let te=new Zn(null);return u.foreach((Se,Me)=>{const Ge=Sn(s,Se);G.isCompleteForPath(Ge)&&(te=te.set(Se,G.getNode().getChild(Ge)))}),Ha(o,i,s,te,h,I,k,S)}}(o,i,te.path,te.affectedTree,u,h,I)}else{if(s.type!==ge.LISTEN_COMPLETE)throw(0,V.g5)("Unknown operation type: "+s.type);S=function gl(o,i,s,u,h){const I=i.serverCache;return hl(o,xu(i,I.getNode(),I.isFullyInitialized()||qt(s),I.isFiltered()),s,u,ru,h)}(o,i,s.path,u,I)}const G=I.getChanges();return function rf(o,i,s){const u=i.eventCache;if(u.isFullyInitialized()){const h=u.getNode().isLeafNode()||u.getNode().isEmpty(),I=ya(o);(s.length>0||!o.eventCache.isFullyInitialized()||h&&!u.getNode().equals(I)||!u.getNode().getPriority().equals(I.getPriority()))&&s.push(wc(ya(i)))}}(i,S,G),{viewCache:S,changes:G}}(o.processor_,h,i,s,u);return function nf(o,i){(0,V.hu)(i.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),(0,V.hu)(i.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed")}(o.processor_,I.viewCache),(0,V.hu)(I.viewCache.serverCache.isFullyInitialized()||!h.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),o.viewCache_=I.viewCache,Vu(o,I.changes,I.viewCache.eventCache.getNode(),null)}function Vu(o,i,s,u){return function si(o,i,s,u){const h=[],I=[];return i.forEach(S=>{"child_changed"===S.type&&o.index_.indexedValueChanged(S.oldSnap,S.snapshotNode)&&I.push(function Pu(o,i){return{type:"child_moved",snapshotNode:i,childName:o}}(S.childName,S.snapshotNode))}),ys(o,h,"child_removed",i,u,s),ys(o,h,"child_added",i,u,s),ys(o,h,"child_moved",I,u,s),ys(o,h,"child_changed",i,u,s),ys(o,h,"value",i,u,s),h}(o.eventGenerator_,i,s,u?[u]:o.eventRegistrations_)}let vl,cc;class yl{constructor(){this.views=new Map}}function au(o,i,s,u){const h=i.source.queryId;if(null!==h){const I=o.views.get(h);return(0,V.hu)(null!=I,"SyncTree gave us an op for an invalid query."),_l(I,i,s,u)}{let I=[];for(const S of o.views.values())I=I.concat(_l(S,i,s,u));return I}}function ed(o,i,s,u,h){const S=o.views.get(i._queryIdentifier);if(!S){let k=Ea(s,h?u:null),G=!1;k?G=!0:u instanceof Bt?(k=Kl(s,u),G=!1):(k=Bt.EMPTY_NODE,G=!1);const te=sc(new Fn(k,G,!1),new Fn(u,h,!1));return new Ql(i,te)}return S}function lf(o){const i=[];for(const s of o.views.values())s.query._queryParams.loadsAllData()||i.push(s);return i}function ac(o,i){let s=null;for(const u of o.views.values())s=s||af(u,i);return s}function td(o,i){return i._queryParams.loadsAllData()?cu(o):o.views.get(i._queryIdentifier)}function Il(o,i){return null!=td(o,i)}function Ia(o){return null!=cu(o)}function cu(o){for(const i of o.views.values())if(i.query._queryParams.loadsAllData())return i;return null}let Is=1;class uc{constructor(i){this.listenProvider_=i,this.syncPointTree_=new Zn(null),this.pendingWriteTree_=function dl(){return{visibleWrites:Bi.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ca(o,i,s,u,h){return function oi(o,i,s,u,h){(0,V.hu)(u>o.lastWriteId,"Stacking an older write on top of newer ones"),void 0===h&&(h=!0),o.allWrites.push({path:i,snap:s,writeId:u,visible:h}),h&&(o.visibleWrites=Lu(o.visibleWrites,i,s)),o.lastWriteId=u}(o.pendingWriteTree_,i,s,u,h),h?ai(o,new Ot({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,s)):[]}function Po(o,i,s=!1){const u=function eu(o,i){for(let s=0;s<o.allWrites.length;s++){const u=o.allWrites[s];if(u.writeId===i)return u}return null}(o.pendingWriteTree_,i);if(function $l(o,i){const s=o.allWrites.findIndex(k=>k.writeId===i);(0,V.hu)(s>=0,"removeWrite called with nonexistent writeId.");const u=o.allWrites[s];o.allWrites.splice(s,1);let h=u.visible,I=!1,S=o.allWrites.length-1;for(;h&&S>=0;){const k=o.allWrites[S];k.visible&&(S>=s&&to(k,u.path)?h=!1:Vt(u.path,k.path)&&(I=!0)),S--}return!!h&&(I?(function Ua(o){o.visibleWrites=Uu(o.allWrites,Wl,un()),o.lastWriteId=o.allWrites.length>0?o.allWrites[o.allWrites.length-1].writeId:-1}(o),!0):(u.snap?o.visibleWrites=Qd(o.visibleWrites,u.path):Hn(u.children,G=>{o.visibleWrites=Qd(o.visibleWrites,Sn(u.path,G))}),!0))}(o.pendingWriteTree_,i)){let I=new Zn(null);return null!=u.snap?I=I.set(un(),!0):Hn(u.children,S=>{I=I.set(new at(S),!0)}),ai(o,new It(u.path,I,s))}return[]}function qo(o,i,s){return ai(o,new Ot({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,s))}function No(o,i,s,u,h=!1){const I=i._path,S=o.syncPointTree_.get(I);let k=[];if(S&&("default"===i._queryIdentifier||Il(S,i))){const G=function El(o,i,s,u){const h=i._queryIdentifier,I=[];let S=[];const k=Ia(o);if("default"===h)for(const[G,te]of o.views.entries())S=S.concat(su(te,s,u)),Jl(te)&&(o.views.delete(G),te.query._queryParams.loadsAllData()||I.push(te.query));else{const G=o.views.get(h);G&&(S=S.concat(su(G,s,u)),Jl(G)&&(o.views.delete(h),G.query._queryParams.loadsAllData()||I.push(G.query)))}return k&&!Ia(o)&&I.push(new(function uf(){return(0,V.hu)(vl,"Reference.ts has not been loaded"),vl}())(i._repo,i._path)),{removed:I,events:S}}(S,i,s,u);(function ou(o){return 0===o.views.size})(S)&&(o.syncPointTree_=o.syncPointTree_.remove(I));const te=G.removed;if(k=G.events,!h){const Se=-1!==te.findIndex(Ge=>Ge._queryParams.loadsAllData()),Me=o.syncPointTree_.findOnPath(I,(Ge,yt)=>Ia(yt));if(Se&&!Me){const Ge=o.syncPointTree_.subtree(I);if(!Ge.isEmpty()){const yt=function lc(o){return o.fold((i,s,u)=>{if(s&&Ia(s))return[cu(s)];{let h=[];return s&&(h=lf(s)),Hn(u,(I,S)=>{h=h.concat(S)}),h}})}(Ge);for(let Mt=0;Mt<yt.length;++Mt){const hn=yt[Mt],Wr=hn.query,Ji=od(o,hn);o.listenProvider_.startListening(xc(Wr),sr(o,Wr),Ji.hashFn,Ji.onComplete)}}}!Me&&te.length>0&&!u&&(Se?o.listenProvider_.stopListening(xc(i),null):te.forEach(Ge=>{const yt=o.queryToTagMap.get(Qo(Ge));o.listenProvider_.stopListening(xc(Ge),yt)}))}!function ad(o,i){for(let s=0;s<i.length;++s){const u=i[s];if(!u._queryParams.loadsAllData()){const h=Qo(u),I=o.queryToTagMap.get(h);o.queryToTagMap.delete(h),o.tagToQueryMap.delete(I)}}}(o,te)}return k}function Cl(o,i,s,u){const h=fu(o,u);if(null!=h){const I=Oc(h),S=I.path,k=I.queryId,G=kr(S,i);return _i(o,S,new Ot(ut(k),G,s))}return[]}function lu(o,i,s,u=!1){const h=i._path;let I=null,S=!1;o.syncPointTree_.foreachOnPath(h,(Ge,yt)=>{const Mt=kr(Ge,h);I=I||ac(yt,Mt),S=S||Ia(yt)});let G,k=o.syncPointTree_.get(h);k?(S=S||Ia(k),I=I||ac(k,un())):(k=new yl,o.syncPointTree_=o.syncPointTree_.set(h,k)),null!=I?G=!0:(G=!1,I=Bt.EMPTY_NODE,o.syncPointTree_.subtree(h).foreachChild((yt,Mt)=>{const hn=ac(Mt,un());hn&&(I=I.updateImmediateChild(yt,hn))}));const te=Il(k,i);if(!te&&!i._queryParams.loadsAllData()){const Ge=Qo(i);(0,V.hu)(!o.queryToTagMap.has(Ge),"View does not exist, but we have a tag");const yt=function ff(){return Is++}();o.queryToTagMap.set(Ge,yt),o.tagToQueryMap.set(yt,Ge)}let Me=function ph(o,i,s,u,h,I){const S=ed(o,i,u,h,I);return o.views.has(i._queryIdentifier)||o.views.set(i._queryIdentifier,S),function ju(o,i){o.eventRegistrations_.push(i)}(S,s),function cf(o,i){const s=o.viewCache_.eventCache,u=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(dt,(I,S)=>{u.push(Xi(I,S))}),s.isFullyInitialized()&&u.push(wc(s.getNode())),Vu(o,u,s.getNode(),i)}(S,s)}(k,i,s,Ac(o.pendingWriteTree_,h),I,G);if(!te&&!S&&!u){const Ge=td(k,i);Me=Me.concat(function cd(o,i,s){const u=i._path,h=sr(o,i),I=od(o,s),S=o.listenProvider_.startListening(xc(i),h,I.hashFn,I.onComplete),k=o.syncPointTree_.subtree(u);if(h)(0,V.hu)(!Ia(k.value),"If we're adding a query, it shouldn't be shadowed");else{const G=k.fold((te,Se,Me)=>{if(!qt(te)&&Se&&Ia(Se))return[cu(Se).query];{let Ge=[];return Se&&(Ge=Ge.concat(lf(Se).map(yt=>yt.query))),Hn(Me,(yt,Mt)=>{Ge=Ge.concat(Mt)}),Ge}});for(let te=0;te<G.length;++te){const Se=G[te];o.listenProvider_.stopListening(xc(Se),sr(o,Se))}}return S}(o,i,Ge))}return Me}function $u(o,i,s){const h=o.pendingWriteTree_,I=o.syncPointTree_.findOnPath(i,(S,k)=>{const te=ac(k,kr(S,i));if(te)return te});return Ba(h,i,I,s,!0)}function ai(o,i){return du(i,o.syncPointTree_,null,Ac(o.pendingWriteTree_,un()))}function du(o,i,s,u){if(qt(o.path))return Wu(o,i,s,u);{const h=i.get(un());null==s&&null!=h&&(s=ac(h,un()));let I=[];const S=nn(o.path),k=o.operationForChild(S),G=i.children.get(S);if(G&&k){const te=s?s.getImmediateChild(S):null,Se=ja(u,S);I=I.concat(du(k,G,te,Se))}return h&&(I=I.concat(au(h,o,u,s))),I}}function Wu(o,i,s,u){const h=i.get(un());null==s&&null!=h&&(s=ac(h,un()));let I=[];return i.children.inorderTraversal((S,k)=>{const G=s?s.getImmediateChild(S):null,te=ja(u,S),Se=o.operationForChild(S);Se&&(I=I.concat(Wu(Se,k,G,te)))}),h&&(I=I.concat(au(h,o,u,s))),I}function od(o,i){const s=i.query,u=sr(o,s);return{hashFn:()=>(function ml(o){return o.viewCache_.serverCache.getNode()}(i)||Bt.EMPTY_NODE).hash(),onComplete:h=>{if("ok"===h)return u?function df(o,i,s){const u=fu(o,s);if(u){const h=Oc(u),I=h.path,S=h.queryId,k=kr(I,i);return _i(o,I,new Zt(ut(S),k))}return[]}(o,s._path,u):function uu(o,i){return ai(o,new Zt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i))}(o,s._path);{const I=function Oi(o,i){let s="Unknown Error";"too_big"===o?s="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===o?s="Client doesn't have permission to access the desired data.":"unavailable"===o&&(s="The service is unavailable");const u=new Error(o+" at "+i._path.toString()+": "+s);return u.code=o.toUpperCase(),u}(h,s);return No(o,s,null,I)}}}}function sr(o,i){const s=Qo(i);return o.queryToTagMap.get(s)}function Qo(o){return o._path.toString()+"$"+o._queryIdentifier}function fu(o,i){return o.tagToQueryMap.get(i)}function Oc(o){const i=o.indexOf("$");return(0,V.hu)(-1!==i&&i<o.length-1,"Bad queryKey."),{queryId:o.substr(i+1),path:new at(o.substr(0,i))}}function _i(o,i,s){const u=o.syncPointTree_.get(i);return(0,V.hu)(u,"Missing sync point for query tag that we're tracking"),au(u,s,Ac(o.pendingWriteTree_,i),null)}function xc(o){return o._queryParams.loadsAllData()&&!o._queryParams.isDefault()?new(function nd(){return(0,V.hu)(cc,"Reference.ts has not been loaded"),cc}())(o._repo,o._path):o}class p{constructor(i){this.node_=i}getImmediateChild(i){const s=this.node_.getImmediateChild(i);return new p(s)}node(){return this.node_}}class c{constructor(i,s){this.syncTree_=i,this.path_=s}getImmediateChild(i){const s=Sn(this.path_,i);return new c(this.syncTree_,s)}node(){return $u(this.syncTree_,this.path_)}}const d=function(o){return(o=o||{}).timestamp=o.timestamp||(new Date).getTime(),o},m=function(o,i,s){return o&&"object"==typeof o?((0,V.hu)(".sv"in o,"Unexpected leaf node or priority contents"),"string"==typeof o[".sv"]?R(o[".sv"],i,s):"object"==typeof o[".sv"]?U(o[".sv"],i):void(0,V.hu)(!1,"Unexpected server value: "+JSON.stringify(o,null,2))):o},R=function(o,i,s){if("timestamp"===o)return s.timestamp;(0,V.hu)(!1,"Unexpected server value: "+o)},U=function(o,i,s){o.hasOwnProperty("increment")||(0,V.hu)(!1,"Unexpected server value: "+JSON.stringify(o,null,2));const u=o.increment;"number"!=typeof u&&(0,V.hu)(!1,"Unexpected increment value: "+u);const h=i.node();if((0,V.hu)(null!==h&&typeof h<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!h.isLeafNode())return u;const S=h.getValue();return"number"!=typeof S?u:S+u},ie=function(o,i,s,u){return Ye(i,new c(s,o),u)},_e=function(o,i,s){return Ye(o,new p(i),s)};function Ye(o,i,s){const u=o.getPriority().val(),h=m(u,i.getImmediateChild(".priority"),s);let I;if(o.isLeafNode()){const S=o,k=m(S.getValue(),i,s);return k!==S.getValue()||h!==S.getPriority().val()?new B(k,Kn(h)):o}{const S=o;return I=S,h!==S.getPriority().val()&&(I=I.updatePriority(new B(h))),S.forEachChild(dt,(k,G)=>{const te=Ye(G,i.getImmediateChild(k),s);te!==G&&(I=I.updateImmediateChild(k,te))}),I}}class rt{constructor(i="",s=null,u={children:{},childCount:0}){this.name=i,this.parent=s,this.node=u}}function mt(o,i){let s=i instanceof at?i:new at(i),u=o,h=nn(s);for(;null!==h;){const I=(0,V.DV)(u.node.children,h)||{children:{},childCount:0};u=new rt(h,u,I),s=Tn(s),h=nn(s)}return u}function gt(o){return o.node.value}function or(o,i){o.node.value=i,Wa(o)}function Ls(o){return o.node.childCount>0}function Xo(o,i){Hn(o.node.children,(s,u)=>{i(new rt(s,o,u))})}function dc(o,i,s,u){s&&!u&&i(o),Xo(o,h=>{dc(h,i,!0,u)}),s&&u&&i(o)}function $a(o){return new at(null===o.parent?o.name:$a(o.parent)+"/"+o.name)}function Wa(o){null!==o.parent&&function ud(o,i,s){const u=function hu(o){return void 0===gt(o)&&!Ls(o)}(s),h=(0,V.r3)(o.node.children,i);u&&h?(delete o.node.children[i],o.node.childCount--,Wa(o)):!u&&!h&&(o.node.children[i]=s.node,o.node.childCount++,Wa(o))}(o.parent,o.name,o)}const ld=/[\[\].#$\/\u0000-\u001F\u007F]/,wl=/[\[\].#$\u0000-\u001F\u007F]/,zu=10485760,Gu=function(o){return"string"==typeof o&&0!==o.length&&!ld.test(o)},Ku=function(o){return"string"==typeof o&&0!==o.length&&!wl.test(o)},kc=function(o){return null===o||"string"==typeof o||"number"==typeof o&&!zi(o)||o&&"object"==typeof o&&(0,V.r3)(o,".sv")},Jo=function(o,i,s,u){u&&void 0===i||pu((0,V.gK)(o,"value"),i,s)},pu=function(o,i,s){const u=s instanceof at?new tc(s,o):s;if(void 0===i)throw new Error(o+"contains undefined "+Ui(u));if("function"==typeof i)throw new Error(o+"contains a function "+Ui(u)+" with contents = "+i.toString());if(zi(i))throw new Error(o+"contains "+i.toString()+" "+Ui(u));if("string"==typeof i&&i.length>zu/3&&(0,V.ug)(i)>zu)throw new Error(o+"contains a string greater than "+zu+" utf8 bytes "+Ui(u)+" ('"+i.substring(0,50)+"...')");if(i&&"object"==typeof i){let h=!1,I=!1;if(Hn(i,(S,k)=>{if(".value"===S)h=!0;else if(".priority"!==S&&".sv"!==S&&(I=!0,!Gu(S)))throw new Error(o+" contains an invalid key ("+S+") "+Ui(u)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function fa(o,i){o.parts_.length>0&&(o.byteLength_+=1),o.parts_.push(i),o.byteLength_+=(0,V.ug)(i),Ic(o)})(u,S),pu(o,k,u),function wr(o){const i=o.parts_.pop();o.byteLength_-=(0,V.ug)(i),o.parts_.length>0&&(o.byteLength_-=1)}(u)}),h&&I)throw new Error(o+' contains ".value" child '+Ui(u)+" in addition to actual children.")}},gh=function(o,i,s,u){if(u&&void 0===i)return;const h=(0,V.gK)(o,"values");if(!i||"object"!=typeof i||Array.isArray(i))throw new Error(h+" must be an object containing the children to replace.");const I=[];Hn(i,(S,k)=>{const G=new at(S);if(pu(h,k,Sn(s,G)),".priority"===pi(G)&&!kc(k))throw new Error(h+"contains an invalid value for '"+G.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");I.push(G)}),function(o,i){let s,u;for(s=0;s<i.length;s++){u=i[s];const I=Fi(u);for(let S=0;S<I.length;S++)if((".priority"!==I[S]||S!==I.length-1)&&!Gu(I[S]))throw new Error(o+"contains an invalid key ("+I[S]+") in path "+u.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}i.sort(da);let h=null;for(s=0;s<i.length;s++){if(u=i[s],null!==h&&Vt(h,u))throw new Error(o+"contains a path "+h.toString()+" that is ancestor of another path "+u.toString());h=u}}(h,I)},bl=function(o,i,s){if(!s||void 0!==i){if(zi(i))throw new Error((0,V.gK)(o,"priority")+"is "+i.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!kc(i))throw new Error((0,V.gK)(o,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Zu=function(o,i,s,u){if(!(u&&void 0===s||Gu(s)))throw new Error((0,V.gK)(o,i)+'was an invalid key = "'+s+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Da=function(o,i,s,u){if(!(u&&void 0===s||Ku(s)))throw new Error((0,V.gK)(o,i)+'was an invalid path = "'+s+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},mh=function(o,i,s,u){s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),Da(o,i,s,u)},Oo=function(o,i){if(".info"===nn(i))throw new Error(o+" failed = Can't modify data under /.info/")},_h=function(o,i){const s=i.path.toString();if("string"!=typeof i.repoInfo.host||0===i.repoInfo.host.length||!Gu(i.repoInfo.namespace)&&"localhost"!==i.repoInfo.host.split(":")[0]||0!==s.length&&!function(o){return o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),Ku(o)}(s))throw new Error((0,V.gK)(o,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Am{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function gu(o,i){let s=null;for(let u=0;u<i.length;u++){const h=i[u],I=h.getPath();null!==s&&!ze(I,s.path)&&(o.eventLists_.push(s),s=null),null===s&&(s={events:[],path:I}),s.events.push(h)}s&&o.eventLists_.push(s)}function vh(o,i,s){gu(o,s),hf(o,u=>ze(u,i))}function no(o,i,s){gu(o,s),hf(o,u=>Vt(u,i)||Vt(i,u))}function hf(o,i){o.recursionDepth_++;let s=!0;for(let u=0;u<o.eventLists_.length;u++){const h=o.eventLists_[u];h&&(i(h.path)?(yh(o.eventLists_[u]),o.eventLists_[u]=null):s=!1)}s&&(o.eventLists_=[]),o.recursionDepth_--}function yh(o){for(let i=0;i<o.events.length;i++){const s=o.events[i];if(null!==s){o.events[i]=null;const u=s.getEventRunner();jr&&nr("event: "+s.toString()),Cr(u)}}}const fd="repo_interrupt",Eh=25;class hd{constructor(i,s,u,h){this.repoInfo_=i,this.forceRestClient_=s,this.authTokenProvider_=u,this.appCheckProvider_=h,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Am,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=vs(),this.transactionQueueTree_=new rt,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function pf(o){const s=o.infoData_.getNode(new at(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+s}function mu(o){return d({timestamp:pf(o)})}function Sl(o,i,s,u,h){o.dataUpdateCount++;const I=new at(i);s=o.interceptServerDataCallback_?o.interceptServerDataCallback_(i,s):s;let S=[];if(h)if(u){const G=(0,V.UI)(s,te=>Kn(te));S=function id(o,i,s,u){const h=fu(o,u);if(h){const I=Oc(h),S=I.path,k=I.queryId,G=kr(S,i),te=Zn.fromObject(s);return _i(o,S,new Jr(ut(k),G,te))}return[]}(o.serverSyncTree_,I,G,h)}else{const G=Kn(s);S=Cl(o.serverSyncTree_,I,G,h)}else if(u){const G=(0,V.UI)(s,te=>Kn(te));S=function Hu(o,i,s){const u=Zn.fromObject(s);return ai(o,new Jr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,u))}(o.serverSyncTree_,I,G)}else{const G=Kn(s);S=qo(o.serverSyncTree_,I,G)}let k=I;S.length>0&&(k=yu(o,I)),no(o.eventQueue_,k,S)}function gf(o,i){_u(o,"connected",i),!1===i&&function Tp(o){qu(o,"onDisconnectEvents");const i=mu(o),s=vs();va(o.onDisconnect_,un(),(h,I)=>{const S=ie(h,I,o.serverSyncTree_,i);Ao(s,h,S)});let u=[];va(s,un(),(h,I)=>{u=u.concat(qo(o.serverSyncTree_,h,I));const S=wf(o,h);yu(o,S)}),o.onDisconnect_=vs(),no(o.eventQueue_,un(),u)}(o)}function _u(o,i,s){const u=new at("/.info/"+i),h=Kn(s);o.infoData_.updateSnapshot(u,h);const I=qo(o.infoSyncTree_,u,h);no(o.eventQueue_,u,I)}function pd(o){return o.nextWriteId_++}function _f(o,i,s,u,h){qu(o,"set",{path:i.toString(),value:s,priority:u});const I=mu(o),S=Kn(s,u),k=$u(o.serverSyncTree_,i),G=_e(S,k,I),te=pd(o),Se=Ca(o.serverSyncTree_,i,G,te,!0);gu(o.eventQueue_,Se),o.server_.put(i.toString(),S.val(!0),(Ge,yt)=>{const Mt="ok"===Ge;Mt||Vr("set at "+i+" failed: "+Ge);const hn=Po(o.serverSyncTree_,te,!Mt);no(o.eventQueue_,i,hn),za(0,h,Ge,yt)});const Me=wf(o,i);yu(o,Me),no(o.eventQueue_,Me,[])}function Ch(o,i,s){o.server_.onDisconnectCancel(i.toString(),(u,h)=>{"ok"===u&&Mo(o.onDisconnect_,i),za(0,s,u,h)})}function vf(o,i,s,u){const h=Kn(s);o.server_.onDisconnectPut(i.toString(),h.val(!0),(I,S)=>{"ok"===I&&Ao(o.onDisconnect_,i,h),za(0,u,I,S)})}function Ef(o,i,s){let u;u=".info"===nn(i._path)?No(o.infoSyncTree_,i,s):No(o.serverSyncTree_,i,s),vh(o.eventQueue_,i._path,u)}function Dh(o){o.persistentConnection_&&o.persistentConnection_.interrupt(fd)}function qu(o,...i){let s="";o.persistentConnection_&&(s=o.persistentConnection_.id+":"),nr(s,...i)}function za(o,i,s,u){i&&Cr(()=>{if("ok"===s)i(null);else{const h=(s||"error").toUpperCase();let I=h;u&&(I+=": "+u);const S=new Error(I);S.code=h,i(S)}})}function Lc(o,i,s){return $u(o.serverSyncTree_,i,s)||Bt.EMPTY_NODE}function vu(o,i=o.transactionQueueTree_){if(i||md(o,i),gt(i)){const s=Df(o,i);(0,V.hu)(s.length>0,"Sending zero length transaction queue"),s.every(h=>0===h.status)&&function If(o,i,s){const u=s.map(te=>te.currentWriteId),h=Lc(o,i,u);let I=h;const S=h.hash();for(let te=0;te<s.length;te++){const Se=s[te];(0,V.hu)(0===Se.status,"tryToSendTransactionQueue_: items in queue should all be run."),Se.status=1,Se.retryCount++;const Me=kr(i,Se.path);I=I.updateChild(Me,Se.currentOutputSnapshotRaw)}const k=I.val(!0),G=i;o.server_.put(G.toString(),k,te=>{qu(o,"transaction put response",{path:G.toString(),status:te});let Se=[];if("ok"===te){const Me=[];for(let Ge=0;Ge<s.length;Ge++)s[Ge].status=2,Se=Se.concat(Po(o.serverSyncTree_,s[Ge].currentWriteId)),s[Ge].onComplete&&Me.push(()=>s[Ge].onComplete(null,!0,s[Ge].currentOutputSnapshotResolved)),s[Ge].unwatcher();md(o,mt(o.transactionQueueTree_,i)),vu(o,o.transactionQueueTree_),no(o.eventQueue_,i,Se);for(let Ge=0;Ge<Me.length;Ge++)Cr(Me[Ge])}else{if("datastale"===te)for(let Me=0;Me<s.length;Me++)s[Me].status=3===s[Me].status?4:0;else{Vr("transaction at "+G.toString()+" failed: "+te);for(let Me=0;Me<s.length;Me++)s[Me].status=4,s[Me].abortReason=te}yu(o,i)}},S)}(o,$a(i),s)}else Ls(i)&&Xo(i,s=>{vu(o,s)})}function yu(o,i){const s=Cf(o,i),u=$a(s);return function wh(o,i,s){if(0===i.length)return;const u=[];let h=[];const S=i.filter(k=>0===k.status).map(k=>k.currentWriteId);for(let k=0;k<i.length;k++){const G=i[k],te=kr(s,G.path);let Me,Se=!1;if((0,V.hu)(null!==te,"rerunTransactionsUnderNode_: relativePath should not be null."),4===G.status)Se=!0,Me=G.abortReason,h=h.concat(Po(o.serverSyncTree_,G.currentWriteId,!0));else if(0===G.status)if(G.retryCount>=Eh)Se=!0,Me="maxretry",h=h.concat(Po(o.serverSyncTree_,G.currentWriteId,!0));else{const Ge=Lc(o,G.path,S);G.currentInputSnapshot=Ge;const yt=i[k].update(Ge.val());if(void 0!==yt){pu("transaction failed: Data returned ",yt,G.path);let Mt=Kn(yt);"object"==typeof yt&&null!=yt&&(0,V.r3)(yt,".priority")||(Mt=Mt.updatePriority(Ge.getPriority()));const Wr=G.currentWriteId,Ji=mu(o),oo=_e(Mt,Ge,Ji);G.currentOutputSnapshotRaw=Mt,G.currentOutputSnapshotResolved=oo,G.currentWriteId=pd(o),S.splice(S.indexOf(Wr),1),h=h.concat(Ca(o.serverSyncTree_,G.path,oo,G.currentWriteId,G.applyLocally)),h=h.concat(Po(o.serverSyncTree_,Wr,!0))}else Se=!0,Me="nodata",h=h.concat(Po(o.serverSyncTree_,G.currentWriteId,!0))}no(o.eventQueue_,s,h),h=[],Se&&(i[k].status=2,setTimeout(i[k].unwatcher,Math.floor(0)),i[k].onComplete&&u.push("nodata"===Me?()=>i[k].onComplete(null,!1,i[k].currentInputSnapshot):()=>i[k].onComplete(new Error(Me),!1,null)))}md(o,o.transactionQueueTree_);for(let k=0;k<u.length;k++)Cr(u[k]);vu(o,o.transactionQueueTree_)}(o,Df(o,s),u),u}function Cf(o,i){let s,u=o.transactionQueueTree_;for(s=nn(i);null!==s&&void 0===gt(u);)u=mt(u,s),s=nn(i=Tn(i));return u}function Df(o,i){const s=[];return bh(o,i,s),s.sort((u,h)=>u.order-h.order),s}function bh(o,i,s){const u=gt(i);if(u)for(let h=0;h<u.length;h++)s.push(u[h]);Xo(i,h=>{bh(o,h,s)})}function md(o,i){const s=gt(i);if(s){let u=0;for(let h=0;h<s.length;h++)2!==s[h].status&&(s[u]=s[h],u++);s.length=u,or(i,s.length>0?s:void 0)}Xo(i,u=>{md(o,u)})}function wf(o,i){const s=$a(Cf(o,i)),u=mt(o.transactionQueueTree_,i);return function Dl(o,i,s){let u=s?o:o.parent;for(;null!==u;){if(i(u))return!0;u=u.parent}}(u,h=>{bf(o,h)}),bf(o,u),dc(u,h=>{bf(o,h)}),s}function bf(o,i){const s=gt(i);if(s){const u=[];let h=[],I=-1;for(let S=0;S<s.length;S++)3===s[S].status||(1===s[S].status?((0,V.hu)(I===S-1,"All SENT items should be at beginning of queue."),I=S,s[S].status=3,s[S].abortReason="set"):((0,V.hu)(0===s[S].status,"Unexpected transaction status in abort"),s[S].unwatcher(),h=h.concat(Po(o.serverSyncTree_,s[S].currentWriteId,!0)),s[S].onComplete&&u.push(s[S].onComplete.bind(null,new Error("set"),!1,null))));-1===I?or(i,void 0):s.length=I+1,no(o.eventQueue_,$a(i),h);for(let S=0;S<u.length;S++)Cr(u[S])}}const Eu=function(o,i){const s=Mp(o),u=s.namespace;return"firebase.com"===s.domain&&Or(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!u||"undefined"===u)&&"localhost"!==s.domain&&Or("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Vr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Zs(s.host,s.secure,u,"ws"===s.scheme||"wss"===s.scheme,i,"",u!==s.subdomain),path:new at(s.pathString)}},Mp=function(o){let i="",s="",u="",h="",I="",S=!0,k="https",G=443;if("string"==typeof o){let te=o.indexOf("//");te>=0&&(k=o.substring(0,te-1),o=o.substring(te+2));let Se=o.indexOf("/");-1===Se&&(Se=o.length);let Me=o.indexOf("?");-1===Me&&(Me=o.length),i=o.substring(0,Math.min(Se,Me)),Se<Me&&(h=function Ap(o){let i="";const s=o.split("/");for(let u=0;u<s.length;u++)if(s[u].length>0){let h=s[u];try{h=decodeURIComponent(h.replace(/\+/g," "))}catch{}i+="/"+h}return i}(o.substring(Se,Me)));const Ge=function Fc(o){const i={};"?"===o.charAt(0)&&(o=o.substring(1));for(const s of o.split("&")){if(0===s.length)continue;const u=s.split("=");2===u.length?i[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):Vr(`Invalid query segment '${s}' in query '${o}'`)}return i}(o.substring(Math.min(o.length,Me)));te=i.indexOf(":"),te>=0?(S="https"===k||"wss"===k,G=parseInt(i.substring(te+1),10)):te=i.length;const yt=i.slice(0,te);if("localhost"===yt.toLowerCase())s="localhost";else if(yt.split(".").length<=2)s=yt;else{const Mt=i.indexOf(".");u=i.substring(0,Mt).toLowerCase(),s=i.substring(Mt+1),I=u}"ns"in Ge&&(I=Ge.ns)}return{host:i,port:G,domain:s,subdomain:u,secure:S,scheme:k,pathString:h,namespace:I}},Rp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Rm=function(){let o=0;const i=[];return function(s){const u=s===o;let h;o=s;const I=new Array(8);for(h=7;h>=0;h--)I[h]=Rp.charAt(s%64),s=Math.floor(s/64);(0,V.hu)(0===s,"Cannot push at time == 0");let S=I.join("");if(u){for(h=11;h>=0&&63===i[h];h--)i[h]=0;i[h]++}else for(h=0;h<12;h++)i[h]=Math.floor(64*Math.random());for(h=0;h<12;h++)S+=Rp.charAt(i[h]);return(0,V.hu)(20===S.length,"nextPushId: Length should be 20."),S}}();class Pp{constructor(i,s,u,h){this.eventType=i,this.eventRegistration=s,this.snapshot=u,this.prevName=h}getPath(){const i=this.snapshot.ref;return"value"===this.eventType?i._path:i.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,V.Wl)(this.snapshot.exportVal())}}class Np{constructor(i,s,u){this.eventRegistration=i,this.error=s,this.path=u}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Th{constructor(i,s){this.snapshotCallback=i,this.cancelCallback=s}onValue(i,s){this.snapshotCallback.call(null,i,s)}onCancel(i){return(0,V.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,i)}get hasCancelCallback(){return!!this.cancelCallback}matches(i){return this.snapshotCallback===i.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===i.snapshotCallback.userCallback&&this.snapshotCallback.context===i.snapshotCallback.context}}class Tf{constructor(i,s){this._repo=i,this._path=s}cancel(){const i=new V.BH;return Ch(this._repo,this._path,i.wrapCallback(()=>{})),i.promise}remove(){Oo("OnDisconnect.remove",this._path);const i=new V.BH;return vf(this._repo,this._path,null,i.wrapCallback(()=>{})),i.promise}set(i){Oo("OnDisconnect.set",this._path),Jo("OnDisconnect.set",i,this._path,!1);const s=new V.BH;return vf(this._repo,this._path,i,s.wrapCallback(()=>{})),s.promise}setWithPriority(i,s){Oo("OnDisconnect.setWithPriority",this._path),Jo("OnDisconnect.setWithPriority",i,this._path,!1),bl("OnDisconnect.setWithPriority",s,!1);const u=new V.BH;return function gd(o,i,s,u,h){const I=Kn(s,u);o.server_.onDisconnectPut(i.toString(),I.val(!0),(S,k)=>{"ok"===S&&Ao(o.onDisconnect_,i,I),za(0,h,S,k)})}(this._repo,this._path,i,s,u.wrapCallback(()=>{})),u.promise}update(i){Oo("OnDisconnect.update",this._path),gh("OnDisconnect.update",i,this._path,!1);const s=new V.BH;return function yf(o,i,s,u){if((0,V.xb)(s))return nr("onDisconnect().update() called with empty data.  Don't do anything."),void za(0,u,"ok",void 0);o.server_.onDisconnectMerge(i.toString(),s,(h,I)=>{"ok"===h&&Hn(s,(S,k)=>{const G=Kn(k);Ao(o.onDisconnect_,Sn(i,S),G)}),za(0,u,h,I)})}(this._repo,this._path,i,s.wrapCallback(()=>{})),s.promise}}class ro{constructor(i,s,u,h){this._repo=i,this._path=s,this._queryParams=u,this._orderByCalled=h}get key(){return qt(this._path)?null:pi(this._path)}get ref(){return new io(this._repo,this._path)}get _queryIdentifier(){const i=Jc(this._queryParams),s=Ms(i);return"{}"===s?"default":s}get _queryObject(){return Jc(this._queryParams)}isEqual(i){if(!((i=(0,V.m9)(i))instanceof ro))return!1;const s=this._repo===i._repo,u=ze(this._path,i._path);return s&&u&&this._queryIdentifier===i._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function yc(o){let i="";for(let s=o.pieceNum_;s<o.pieces_.length;s++)""!==o.pieces_[s]&&(i+="/"+encodeURIComponent(String(o.pieces_[s])));return i||"/"}(this._path)}}function _d(o,i){if(!0===o._orderByCalled)throw new Error(i+": You can't combine multiple orderBy calls.")}function Uc(o){let i=null,s=null;if(o.hasStart()&&(i=o.getIndexStartValue()),o.hasEnd()&&(s=o.getIndexEndValue()),o.getIndex()===Ti){const u="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",h="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(o.hasStart()){if(o.getIndexStartName()!==Gn)throw new Error(u);if("string"!=typeof i)throw new Error(h)}if(o.hasEnd()){if(o.getIndexEndName()!==Gi)throw new Error(u);if("string"!=typeof s)throw new Error(h)}}else if(o.getIndex()===dt){if(null!=i&&!kc(i)||null!=s&&!kc(s))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,V.hu)(o.getIndex()instanceof pa||o.getIndex()===ka,"unknown index type."),null!=i&&"object"==typeof i||null!=s&&"object"==typeof s)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function vd(o){if(o.hasStart()&&o.hasEnd()&&o.hasLimit()&&!o.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class io extends ro{constructor(i,s){super(i,s,new Qc,!1)}get parent(){const i=Ec(this._path);return null===i?null:new io(this._repo,i)}get root(){let i=this;for(;null!==i.parent;)i=i.parent;return i}}class Fs{constructor(i,s,u){this._node=i,this.ref=s,this._index=u}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(i){const s=new at(i),u=Bc(this.ref,i);return new Fs(this._node.getChild(s),u,dt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(i){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(u,h)=>i(new Fs(h,Bc(this.ref,u),dt)))}hasChild(i){const s=new at(i);return!this._node.getChild(s).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Qu(o,i){return(o=(0,V.m9)(o))._checkNotDeleted("ref"),void 0!==i?Bc(o._root,i):o._root}function Sf(o,i){(o=(0,V.m9)(o))._checkNotDeleted("refFromURL");const s=Eu(i,o._repo.repoInfo_.nodeAdmin);_h("refFromURL",s);const u=s.repoInfo;return!o._repo.repoInfo_.isCustomHost()&&u.host!==o._repo.repoInfo_.host&&Or("refFromURL: Host name does not match the current database: (found "+u.host+" but expected "+o._repo.repoInfo_.host+")"),Qu(o,s.path.toString())}function Bc(o,i){return null===nn((o=(0,V.m9)(o))._path)?mh("child","path",i,!1):Da("child","path",i,!1),new io(o._repo,Sn(o._path,i))}function Sh(o,i){o=(0,V.m9)(o),Oo("set",o._path),Jo("set",i,o._path,!1);const s=new V.BH;return _f(o._repo,o._path,i,null,s.wrapCallback(()=>{})),s.promise}function Om(o,i){gh("update",i,o._path,!1);const s=new V.BH;return function bp(o,i,s,u){qu(o,"update",{path:i.toString(),value:s});let h=!0;const I=mu(o),S={};if(Hn(s,(k,G)=>{h=!1,S[k]=ie(Sn(i,k),Kn(G),o.serverSyncTree_,I)}),h)nr("update() called with empty data.  Don't do anything."),za(0,u,"ok",void 0);else{const k=pd(o),G=function rd(o,i,s,u){!function ul(o,i,s,u){(0,V.hu)(u>o.lastWriteId,"Stacking an older merge on top of newer ones"),o.allWrites.push({path:i,children:s,writeId:u,visible:!0}),o.visibleWrites=al(o.visibleWrites,i,s),o.lastWriteId=u}(o.pendingWriteTree_,i,s,u);const h=Zn.fromObject(s);return ai(o,new Jr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,h))}(o.serverSyncTree_,i,S,k);gu(o.eventQueue_,G),o.server_.merge(i.toString(),s,(te,Se)=>{const Me="ok"===te;Me||Vr("update at "+i+" failed: "+te);const Ge=Po(o.serverSyncTree_,k,!Me),yt=Ge.length>0?yu(o,i):i;no(o.eventQueue_,yt,Ge),za(0,u,te,Se)}),Hn(s,te=>{const Se=wf(o,Sn(i,te));yu(o,Se)}),no(o.eventQueue_,i,[])}}(o._repo,o._path,i,s.wrapCallback(()=>{})),s.promise}function xm(o){o=(0,V.m9)(o);const i=new Th(()=>{}),s=new Xu(i);return function Ih(o,i,s){const u=function sd(o,i){const s=i._path;let u=null;o.syncPointTree_.foreachOnPath(s,(te,Se)=>{const Me=kr(te,s);u=u||ac(Se,Me)});let h=o.syncPointTree_.get(s);h?u=u||ac(h,un()):(h=new yl,o.syncPointTree_=o.syncPointTree_.set(s,h));const I=null!=u,S=I?new Fn(u,!0,!1):null;return function Xl(o){return ya(o.viewCache_)}(ed(h,i,Ac(o.pendingWriteTree_,i._path),I?S.getNode():Bt.EMPTY_NODE,I))}(o.serverSyncTree_,i);return null!=u?Promise.resolve(u):o.server_.get(i).then(h=>{const I=Kn(h).withIndex(i._queryParams.getIndex());let S;if(lu(o.serverSyncTree_,i,s,!0),i._queryParams.loadsAllData())S=qo(o.serverSyncTree_,i._path,I);else{const k=sr(o.serverSyncTree_,i);S=Cl(o.serverSyncTree_,i._path,I,k)}return no(o.eventQueue_,i._path,S),No(o.serverSyncTree_,i,s,null,!0),I},h=>(qu(o,"get for query "+(0,V.Wl)(i)+" failed: "+h),Promise.reject(new Error(h))))}(o._repo,o,s).then(u=>new Fs(u,new io(o._repo,o._path),o._queryParams.getIndex()))}class Xu{constructor(i){this.callbackContext=i}respondsTo(i){return"value"===i}createEvent(i,s){const u=s._queryParams.getIndex();return new Pp("value",this,new Fs(i.snapshotNode,new io(s._repo,s._path),u))}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,null)}createCancelEvent(i,s){return this.callbackContext.hasCancelCallback?new Np(this,i,s):null}matches(i){return i instanceof Xu&&(!i.callbackContext||!this.callbackContext||i.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class yd{constructor(i,s){this.eventType=i,this.callbackContext=s}respondsTo(i){let s="children_added"===i?"child_added":i;return s="children_removed"===s?"child_removed":s,this.eventType===s}createCancelEvent(i,s){return this.callbackContext.hasCancelCallback?new Np(this,i,s):null}createEvent(i,s){(0,V.hu)(null!=i.childName,"Child events should have a childName.");const u=Bc(new io(s._repo,s._path),i.childName),h=s._queryParams.getIndex();return new Pp(i.type,this,new Fs(i.snapshotNode,u,h),i.prevName)}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,i.prevName)}matches(i){return i instanceof yd&&this.eventType===i.eventType&&(!this.callbackContext||!i.callbackContext||this.callbackContext.matches(i.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Al(o,i,s,u,h){let I;if("object"==typeof u&&(I=void 0,h=u),"function"==typeof u&&(I=u),h&&h.onlyOnce){const G=s,te=(Se,Me)=>{Ef(o._repo,o,k),G(Se,Me)};te.userCallback=s.userCallback,te.context=s.context,s=te}const S=new Th(s,I||void 0),k="value"===i?new Xu(S):new yd(i,S);return function Yu(o,i,s){let u;u=".info"===nn(i._path)?lu(o.infoSyncTree_,i,s):lu(o.serverSyncTree_,i,s),vh(o.eventQueue_,i._path,u)}(o._repo,o,k),()=>Ef(o._repo,o,k)}function Rf(o,i,s,u){return Al(o,"value",i,s,u)}function Ah(o,i,s,u){return Al(o,"child_added",i,s,u)}function Pf(o,i,s,u){return Al(o,"child_changed",i,s,u)}function Ml(o,i,s,u){return Al(o,"child_moved",i,s,u)}function Mh(o,i,s,u){return Al(o,"child_removed",i,s,u)}function Ed(o,i,s){let u=null;const h=s?new Th(s):null;"value"===i?u=new Xu(h):i&&(u=new yd(i,h)),Ef(o._repo,o,u)}class wa{}class Iu extends wa{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){Jo("endAt",this._value,i._path,!0);const s=Xs(i._queryParams,this._value,this._key);if(vd(s),Uc(s),i._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ro(i._repo,i._path,s,i._orderByCalled)}}class kp extends wa{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){Jo("endBefore",this._value,i._path,!1);const s=function Xc(o,i,s){let u;return u=Xs(o,i,o.index_===Ti||s?s:Gn),u.endBeforeSet_=!0,u}(i._queryParams,this._value,this._key);if(vd(s),Uc(s),i._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ro(i._repo,i._path,s,i._orderByCalled)}}class Nf extends wa{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){Jo("startAt",this._value,i._path,!0);const s=ma(i._queryParams,this._value,this._key);if(vd(s),Uc(s),i._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ro(i._repo,i._path,s,i._orderByCalled)}}class Fp extends wa{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){Jo("startAfter",this._value,i._path,!1);const s=function La(o,i,s){let u;return u=ma(o,i,o.index_===Ti||s?s:Gi),u.startAfterSet_=!0,u}(i._queryParams,this._value,this._key);if(vd(s),Uc(s),i._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ro(i._repo,i._path,s,i._orderByCalled)}}class Bp extends wa{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ro(i._repo,i._path,function Vl(o,i){const s=o.copy();return s.limitSet_=!0,s.limit_=i,s.viewFrom_="l",s}(i._queryParams,this._limit),i._orderByCalled)}}class km extends wa{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ro(i._repo,i._path,function bc(o,i){const s=o.copy();return s.limitSet_=!0,s.limit_=i,s.viewFrom_="r",s}(i._queryParams,this._limit),i._orderByCalled)}}class Rl extends wa{constructor(i){super(),this._path=i}_apply(i){_d(i,"orderByChild");const s=new at(this._path);if(qt(s))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const u=new pa(s),h=_a(i._queryParams,u);return Uc(h),new ro(i._repo,i._path,h,!0)}}class Pl extends wa{_apply(i){_d(i,"orderByKey");const s=_a(i._queryParams,Ti);return Uc(s),new ro(i._repo,i._path,s,!0)}}class Oh extends wa{_apply(i){_d(i,"orderByPriority");const s=_a(i._queryParams,dt);return Uc(s),new ro(i._repo,i._path,s,!0)}}class xh extends wa{_apply(i){_d(i,"orderByValue");const s=_a(i._queryParams,ka);return Uc(s),new ro(i._repo,i._path,s,!0)}}class kh extends wa{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){if(Jo("equalTo",this._value,i._path,!1),i._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(i._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Iu(this._value,this._key)._apply(new Nf(this._value,this._key)._apply(i))}}function so(o,...i){let s=(0,V.m9)(o);for(const u of i)s=u._apply(s);return s}(function hh(o){(0,V.hu)(!vl,"__referenceConstructor has already been defined"),vl=o})(io),function Nc(o){(0,V.hu)(!cc,"__referenceConstructor has already been defined"),cc=o}(io);const Nl={};function kf(o,i,s,u,h){let I=u||o.options.databaseURL;void 0===I&&(o.options.projectId||Or("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),nr("Using default host for project ",o.options.projectId),I=`${o.options.projectId}-default-rtdb.firebaseio.com`);let G,te,S=Eu(I,h),k=S.repoInfo;typeof process<"u"&&process.env&&(te=process.env.FIREBASE_DATABASE_EMULATOR_HOST),te?(G=!0,I=`http://${te}?ns=${k.namespace}`,S=Eu(I,h),k=S.repoInfo):G=!S.repoInfo.secure;const Se=h&&G?new xi(xi.OWNER):new ca(o.name,o.options,i);_h("Invalid Firebase Database URL",S),qt(S.path)||Or("Database URL must point to the root of a Firebase Database (not including a child path).");const Me=function Cu(o,i,s,u){let h=Nl[i.name];h||(h={},Nl[i.name]=h);let I=h[o.toURLString()];return I&&Or("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),I=new hd(o,false,s,u),h[o.toURLString()]=I,I}(k,o,Se,new vo(o.name,s));return new Lf(Me,o)}class Lf{constructor(i,s){this._repoInternal=i,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Tl(o,i,s){if(o.stats_=Ys(o.repoInfo_),o.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)o.server_=new xs(o.repoInfo_,(u,h,I,S)=>{Sl(o,u,h,I,S)},o.authTokenProvider_,o.appCheckProvider_),setTimeout(()=>gf(o,!0),0);else{if(typeof s<"u"&&null!==s){if("object"!=typeof s)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,V.Wl)(s)}catch(u){throw new Error("Invalid authOverride provided: "+u)}}o.persistentConnection_=new ms(o.repoInfo_,i,(u,h,I,S)=>{Sl(o,u,h,I,S)},u=>{gf(o,u)},u=>{!function mf(o,i){Hn(i,(s,u)=>{_u(o,s,u)})}(o,u)},o.authTokenProvider_,o.appCheckProvider_,s),o.server_=o.persistentConnection_}o.authTokenProvider_.addTokenChangeListener(u=>{o.server_.refreshAuthToken(u)}),o.appCheckProvider_.addTokenChangeListener(u=>{o.server_.refreshAppCheckToken(u.token)}),o.statsReporter_=function Qa(o,i){const s=o.toString();return $o[s]||($o[s]=i()),$o[s]}(o.repoInfo_,()=>new le(o.stats_,o.server_)),o.infoData_=new Nu,o.infoSyncTree_=new uc({startListening:(u,h,I,S)=>{let k=[];const G=o.infoData_.getNode(u._path);return G.isEmpty()||(k=qo(o.infoSyncTree_,u._path,G),setTimeout(()=>{S("ok")},0)),k},stopListening:()=>{}}),_u(o,"connected",!1),o.serverSyncTree_=new uc({startListening:(u,h,I,S)=>(o.server_.listen(u,I,h,(k,G)=>{const te=S(k,G);no(o.eventQueue_,u._path,te)}),[]),stopListening:(u,h)=>{o.server_.unlisten(u,h)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new io(this._repo,un())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Uh(o,i){const s=Nl[i];(!s||s[o.key]!==o)&&Or(`Database ${i}(${o.repoInfo_}) has already been deleted.`),Dh(o),delete s[o.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(i){null===this._rootInternal&&Or("Cannot call "+i+" on a deleted database.")}}function Ol(){Dr.IS_TRANSPORT_INITIALIZED&&Vr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Hp(){Ol(),dn.forceDisallow()}function Ff(){Ol(),xr.forceDisallow(),dn.forceAllow()}function $p(o,i){as(o,i)}const Bh={".sv":"timestamp"};class Gp{constructor(i,s){this.committed=i,this.snapshot=s}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ms.prototype.simpleListen=function(o,i){this.sendRequest("q",{p:o},i)},ms.prototype.echo=function(o,i){this.sendRequest("echo",{d:o},i)},function Wp(o){Rn(yr.SDK_VERSION),(0,yr._registerComponent)(new st.wA("database",(i,{instanceIdentifier:s})=>kf(i.getProvider("app").getImmediate(),i.getProvider("auth-internal"),i.getProvider("app-check-internal"),s),"PUBLIC").setMultipleInstances(!0)),(0,yr.registerVersion)(zs,"0.14.4",o),(0,yr.registerVersion)(zs,"0.14.4","esm2017")}();const jf=new pn.Yd("@firebase/database-compat"),qp=function(o){jf.warn("FIREBASE WARNING: "+o)};class Xp{constructor(i){this._delegate=i}cancel(i){(0,V.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,V.Wj)("OnDisconnect.cancel","onComplete",i,!0);const s=this._delegate.cancel();return i&&s.then(()=>i(null),u=>i(u)),s}remove(i){(0,V.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,V.Wj)("OnDisconnect.remove","onComplete",i,!0);const s=this._delegate.remove();return i&&s.then(()=>i(null),u=>i(u)),s}set(i,s){(0,V.Dv)("OnDisconnect.set",1,2,arguments.length),(0,V.Wj)("OnDisconnect.set","onComplete",s,!0);const u=this._delegate.set(i);return s&&u.then(()=>s(null),h=>s(h)),u}setWithPriority(i,s,u){(0,V.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,V.Wj)("OnDisconnect.setWithPriority","onComplete",u,!0);const h=this._delegate.setWithPriority(i,s);return u&&h.then(()=>u(null),I=>u(I)),h}update(i,s){if((0,V.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(i)){const h={};for(let I=0;I<i.length;++I)h[""+I]=i[I];i=h,qp("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,V.Wj)("OnDisconnect.update","onComplete",s,!0);const u=this._delegate.update(i);return s&&u.then(()=>s(null),h=>s(h)),u}}class Bm{constructor(i,s){this.committed=i,this.snapshot=s}toJSON(){return(0,V.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Du{constructor(i,s){this._database=i,this._delegate=s}val(){return(0,V.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,V.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,V.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,V.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(i){return(0,V.Dv)("DataSnapshot.child",0,1,arguments.length),i=String(i),Da("DataSnapshot.child","path",i,!1),new Du(this._database,this._delegate.child(i))}hasChild(i){return(0,V.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Da("DataSnapshot.hasChild","path",i,!1),this._delegate.hasChild(i)}getPriority(){return(0,V.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(i){return(0,V.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,V.Wj)("DataSnapshot.forEach","action",i,!1),this._delegate.forEach(s=>i(new Du(this._database,s)))}hasChildren(){return(0,V.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,V.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,V.Dv)("DataSnapshot.ref",0,0,arguments.length),new xo(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class vi{constructor(i,s){this.database=i,this._delegate=s}on(i,s,u,h){var I;(0,V.Dv)("Query.on",2,4,arguments.length),(0,V.Wj)("Query.on","callback",s,!1);const S=vi.getCancelAndContextArgs_("Query.on",u,h),k=(te,Se)=>{s.call(S.context,new Du(this.database,te),Se)};k.userCallback=s,k.context=S.context;const G=null===(I=S.cancel)||void 0===I?void 0:I.bind(S.context);switch(i){case"value":return Rf(this._delegate,k,G),s;case"child_added":return Ah(this._delegate,k,G),s;case"child_removed":return Mh(this._delegate,k,G),s;case"child_changed":return Pf(this._delegate,k,G),s;case"child_moved":return Ml(this._delegate,k,G),s;default:throw new Error((0,V.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(i,s,u){if((0,V.Dv)("Query.off",0,3,arguments.length),function(o,i,s){if(void 0!==i)switch(i){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,V.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,i),(0,V.Wj)("Query.off","callback",s,!0),(0,V.lb)("Query.off","context",u,!0),s){const h=()=>{};h.userCallback=s,h.context=u,Ed(this._delegate,i,h)}else Ed(this._delegate,i)}get(){return xm(this._delegate).then(i=>new Du(this.database,i))}once(i,s,u,h){(0,V.Dv)("Query.once",1,4,arguments.length),(0,V.Wj)("Query.once","callback",s,!0);const I=vi.getCancelAndContextArgs_("Query.once",u,h),S=new V.BH,k=(te,Se)=>{const Me=new Du(this.database,te);s&&s.call(I.context,Me,Se),S.resolve(Me)};k.userCallback=s,k.context=I.context;const G=te=>{I.cancel&&I.cancel.call(I.context,te),S.reject(te)};switch(i){case"value":Rf(this._delegate,k,G,{onlyOnce:!0});break;case"child_added":Ah(this._delegate,k,G,{onlyOnce:!0});break;case"child_removed":Mh(this._delegate,k,G,{onlyOnce:!0});break;case"child_changed":Pf(this._delegate,k,G,{onlyOnce:!0});break;case"child_moved":Ml(this._delegate,k,G,{onlyOnce:!0});break;default:throw new Error((0,V.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return S.promise}limitToFirst(i){return(0,V.Dv)("Query.limitToFirst",1,1,arguments.length),new vi(this.database,so(this._delegate,function Ph(o){if("number"!=typeof o||Math.floor(o)!==o||o<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Bp(o)}(i)))}limitToLast(i){return(0,V.Dv)("Query.limitToLast",1,1,arguments.length),new vi(this.database,so(this._delegate,function Lm(o){if("number"!=typeof o||Math.floor(o)!==o||o<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new km(o)}(i)))}orderByChild(i){return(0,V.Dv)("Query.orderByChild",1,1,arguments.length),new vi(this.database,so(this._delegate,function $n(o){if("$key"===o)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===o)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===o)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Da("orderByChild","path",o,!1),new Rl(o)}(i)))}orderByKey(){return(0,V.Dv)("Query.orderByKey",0,0,arguments.length),new vi(this.database,so(this._delegate,function Nh(){return new Pl}()))}orderByPriority(){return(0,V.Dv)("Query.orderByPriority",0,0,arguments.length),new vi(this.database,so(this._delegate,function Of(){return new Oh}()))}orderByValue(){return(0,V.Dv)("Query.orderByValue",0,0,arguments.length),new vi(this.database,so(this._delegate,function jp(){return new xh}()))}startAt(i=null,s){return(0,V.Dv)("Query.startAt",0,2,arguments.length),new vi(this.database,so(this._delegate,function Lp(o=null,i){return Zu("startAt","key",i,!0),new Nf(o,i)}(i,s)))}startAfter(i=null,s){return(0,V.Dv)("Query.startAfter",0,2,arguments.length),new vi(this.database,so(this._delegate,function Up(o,i){return Zu("startAfter","key",i,!0),new Fp(o,i)}(i,s)))}endAt(i=null,s){return(0,V.Dv)("Query.endAt",0,2,arguments.length),new vi(this.database,so(this._delegate,function xp(o,i){return Zu("endAt","key",i,!0),new Iu(o,i)}(i,s)))}endBefore(i=null,s){return(0,V.Dv)("Query.endBefore",0,2,arguments.length),new vi(this.database,so(this._delegate,function Rh(o,i){return Zu("endBefore","key",i,!0),new kp(o,i)}(i,s)))}equalTo(i,s){return(0,V.Dv)("Query.equalTo",1,2,arguments.length),new vi(this.database,so(this._delegate,function Lh(o,i){return Zu("equalTo","key",i,!0),new kh(o,i)}(i,s)))}toString(){return(0,V.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,V.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(i){if((0,V.Dv)("Query.isEqual",1,1,arguments.length),!(i instanceof vi))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(i._delegate)}static getCancelAndContextArgs_(i,s,u){const h={cancel:void 0,context:void 0};if(s&&u)h.cancel=s,(0,V.Wj)(i,"cancel",h.cancel,!0),h.context=u,(0,V.lb)(i,"context",h.context,!0);else if(s)if("object"==typeof s&&null!==s)h.context=s;else{if("function"!=typeof s)throw new Error((0,V.gK)(i,"cancelOrContext")+" must either be a cancel callback or a context object.");h.cancel=s}return h}get ref(){return new xo(this.database,new io(this._delegate._repo,this._delegate._path))}}class xo extends vi{constructor(i,s){super(i,new ro(s._repo,s._path,new Qc,!1)),this.database=i,this._delegate=s}getKey(){return(0,V.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(i){return(0,V.Dv)("Reference.child",1,1,arguments.length),"number"==typeof i&&(i=String(i)),new xo(this.database,Bc(this._delegate,i))}getParent(){(0,V.Dv)("Reference.parent",0,0,arguments.length);const i=this._delegate.parent;return i?new xo(this.database,i):null}getRoot(){return(0,V.Dv)("Reference.root",0,0,arguments.length),new xo(this.database,this._delegate.root)}set(i,s){(0,V.Dv)("Reference.set",1,2,arguments.length),(0,V.Wj)("Reference.set","onComplete",s,!0);const u=Sh(this._delegate,i);return s&&u.then(()=>s(null),h=>s(h)),u}update(i,s){if((0,V.Dv)("Reference.update",1,2,arguments.length),Array.isArray(i)){const h={};for(let I=0;I<i.length;++I)h[""+I]=i[I];i=h,qp("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Oo("Reference.update",this._delegate._path),(0,V.Wj)("Reference.update","onComplete",s,!0);const u=Om(this._delegate,i);return s&&u.then(()=>s(null),h=>s(h)),u}setWithPriority(i,s,u){(0,V.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,V.Wj)("Reference.setWithPriority","onComplete",u,!0);const h=function Mf(o,i,s){if(Oo("setWithPriority",o._path),Jo("setWithPriority",i,o._path,!1),bl("setWithPriority",s,!1),".length"===o.key||".keys"===o.key)throw"setWithPriority failed: "+o.key+" is a read-only object.";const u=new V.BH;return _f(o._repo,o._path,i,s,u.wrapCallback(()=>{})),u.promise}(this._delegate,i,s);return u&&h.then(()=>u(null),I=>u(I)),h}remove(i){(0,V.Dv)("Reference.remove",0,1,arguments.length),(0,V.Wj)("Reference.remove","onComplete",i,!0);const s=function Nm(o){return Oo("remove",o._path),Sh(o,null)}(this._delegate);return i&&s.then(()=>i(null),u=>i(u)),s}transaction(i,s,u){(0,V.Dv)("Reference.transaction",1,3,arguments.length),(0,V.Wj)("Reference.transaction","transactionUpdate",i,!1),(0,V.Wj)("Reference.transaction","onComplete",s,!0),function(o,i,s,u){if(void 0!==s&&"boolean"!=typeof s)throw new Error((0,V.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,u);const h=function Kp(o,i,s){var u;if(o=(0,V.m9)(o),Oo("Reference.transaction",o._path),".length"===o.key||".keys"===o.key)throw"Reference.transaction failed: "+o.key+" is a read-only object.";const h=null===(u=s?.applyLocally)||void 0===u||u,I=new V.BH,k=Rf(o,()=>{});return function Sp(o,i,s,u,h,I){qu(o,"transaction on "+i);const S={path:i,update:s,onComplete:u,status:null,order:Tr(),applyLocally:I,retryCount:0,unwatcher:h,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},k=Lc(o,i,void 0);S.currentInputSnapshot=k;const G=S.update(k.val());if(void 0===G)S.unwatcher(),S.currentOutputSnapshotRaw=null,S.currentOutputSnapshotResolved=null,S.onComplete&&S.onComplete(null,!1,S.currentInputSnapshot);else{pu("transaction failed: Data returned ",G,S.path),S.status=0;const te=mt(o.transactionQueueTree_,i),Se=gt(te)||[];let Me;Se.push(S),or(te,Se),"object"==typeof G&&null!==G&&(0,V.r3)(G,".priority")?(Me=(0,V.DV)(G,".priority"),(0,V.hu)(kc(Me),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Me=($u(o.serverSyncTree_,i)||Bt.EMPTY_NODE).getPriority().val();const Ge=mu(o),yt=Kn(G,Me),Mt=_e(yt,k,Ge);S.currentOutputSnapshotRaw=yt,S.currentOutputSnapshotResolved=Mt,S.currentWriteId=pd(o);const hn=Ca(o.serverSyncTree_,i,Mt,S.currentWriteId,S.applyLocally);no(o.eventQueue_,i,hn),vu(o,o.transactionQueueTree_)}}(o._repo,o._path,i,(G,te,Se)=>{let Me=null;G?I.reject(G):(Me=new Fs(Se,new io(o._repo,o._path),dt),I.resolve(new Gp(te,Me)))},k,h),I.promise}(this._delegate,i,{applyLocally:u}).then(I=>new Bm(I.committed,new Du(this.database,I.snapshot)));return s&&h.then(I=>s(null,I.committed,I.snapshot),I=>s(I,!1,null)),h}setPriority(i,s){(0,V.Dv)("Reference.setPriority",1,2,arguments.length),(0,V.Wj)("Reference.setPriority","onComplete",s,!0);const u=function Af(o,i){o=(0,V.m9)(o),Oo("setPriority",o._path),bl("setPriority",i,!1);const s=new V.BH;return _f(o._repo,Sn(o._path,".priority"),i,null,s.wrapCallback(()=>{})),s.promise}(this._delegate,i);return s&&u.then(()=>s(null),h=>s(h)),u}push(i,s){(0,V.Dv)("Reference.push",0,2,arguments.length),(0,V.Wj)("Reference.push","onComplete",s,!0);const u=function Pm(o,i){o=(0,V.m9)(o),Oo("push",o._path),Jo("push",i,o._path,!0);const s=pf(o._repo),u=Rm(s),h=Bc(o,u),I=Bc(o,u);let S;return S=null!=i?Sh(I,i).then(()=>I):Promise.resolve(I),h.then=S.then.bind(S),h.catch=S.then.bind(S,void 0),h}(this._delegate,i),h=u.then(S=>new xo(this.database,S));s&&h.then(()=>s(null),S=>s(S));const I=new xo(this.database,u);return I.then=h.then.bind(h),I.catch=h.catch.bind(h,void 0),I}onDisconnect(){return Oo("Reference.onDisconnect",this._delegate._path),new Xp(new Tf(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class wu{constructor(i,s){this._delegate=i,this.app=s,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Hp,forceLongPolling:Ff}}useEmulator(i,s,u={}){!function ba(o,i,s,u={}){(o=(0,V.m9)(o))._checkNotDeleted("useEmulator"),o._instanceStarted&&Or("Cannot call useEmulator() after instance has already been initialized.");const h=o._repoInternal;let I;if(h.repoInfo_.nodeAdmin)u.mockUserToken&&Or('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),I=new xi(xi.OWNER);else if(u.mockUserToken){const S="string"==typeof u.mockUserToken?u.mockUserToken:(0,V.Sg)(u.mockUserToken,o.app.options.projectId);I=new xi(S)}!function xf(o,i,s,u){o.repoInfo_=new Zs(`${i}:${s}`,!1,o.repoInfo_.namespace,o.repoInfo_.webSocketOnly,o.repoInfo_.nodeAdmin,o.repoInfo_.persistenceKey,o.repoInfo_.includeNamespaceInQueryParams,!0),u&&(o.authTokenProvider_=u)}(h,i,s,I)}(this._delegate,i,s,u)}ref(i){if((0,V.Dv)("database.ref",0,1,arguments.length),i instanceof xo){const s=Sf(this._delegate,i.toString());return new xo(this,s)}{const s=Qu(this._delegate,i);return new xo(this,s)}}refFromURL(i){(0,V.Dv)("database.refFromURL",1,1,arguments.length);const u=Sf(this._delegate,i);return new xo(this,u)}goOffline(){return(0,V.Dv)("database.goOffline",0,0,arguments.length),function Id(o){(o=(0,V.m9)(o))._checkNotDeleted("goOffline"),Dh(o._repo)}(this._delegate)}goOnline(){return(0,V.Dv)("database.goOnline",0,0,arguments.length),function Bf(o){(o=(0,V.m9)(o))._checkNotDeleted("goOnline"),function Mm(o){o.persistentConnection_&&o.persistentConnection_.resume(fd)}(o._repo)}(this._delegate)}}wu.ServerValue={TIMESTAMP:function Ju(){return Bh}(),increment:o=>function zp(o){return{".sv":{increment:o}}}(o)};var el=Object.freeze({__proto__:null,initStandalone:function Vf({app:o,url:i,version:s,customAuthImpl:u,namespace:h,nodeAdmin:I=!1}){Rn(s);const S=new st.zt("auth-internal",new st.H0("database-standalone"));return S.setComponent(new st.wA("auth-internal",()=>u,"PRIVATE")),{instance:new wu(kf(o,S,void 0,i,I),o),namespace:h}}});const Hf=wu.ServerValue;function bu(o){return null==o}function Dd(o){return"function"==typeof o.set}function wd(o,i){return Dd(i)?i:o.ref(i)}function kl(o,i){if(function xl(o){return"string"==typeof o}(o))return i.stringCase();if(Dd(o))return i.firebaseCase();if(function Cd(o){return"function"==typeof o.exportVal}(o))return i.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof o)}function bd(o,i,s="on",u=$s.z){return new oe.y(h=>{let I=null;return I=o[s](i,(S,k)=>{u.schedule(()=>{h.next({snapshot:S,prevKey:k})}),"once"===s&&u.schedule(()=>h.complete())},S=>{u.schedule(()=>h.error(S))}),"on"===s?{unsubscribe(){null!=I&&o.off(i,I)}}:{unsubscribe(){}}}).pipe((0,X.U)(h=>{const{snapshot:I,prevKey:S}=h;let k=null;return I.exists()&&(k=I.key),{type:i,payload:I,prevKey:S,key:k}}),(0,$e.B)())}function tl(o,i){const s=o.length;for(let u=0;u<s;u++)if(o[u].payload.key===i)return u;return-1}function Hh(o,i){const{payload:s,prevKey:u,key:h}=i,I=tl(o,h),S=function Jp(o,i){if(bu(i))return 0;{const s=tl(o,i);return-1===s?o.length:s+1}}(o,u);switch(i.type){case"value":if(i.payload&&i.payload.exists()){let k=null;i.payload.forEach(G=>{const te={payload:G,type:"value",prevKey:k,key:G.key};return k=G.key,o=[...o,te],!1})}return o;case"child_added":if(I>-1){const k=o[I-1];(k&&k.key||null)!==u&&(o=o.filter(G=>G.payload.key!==s.key)).splice(S,0,i)}else{if(null==u)return[i,...o];(o=o.slice()).splice(S,0,i)}return o;case"child_removed":return o.filter(k=>k.payload.key!==s.key);case"child_changed":return o.map(k=>k.payload.key===h?i:k);case"child_moved":if(I>-1){const k=o.splice(I,1)[0];return(o=o.slice()).splice(S,0,k),o}return o;default:return o}}function $h(o){return(bu(o)||0===o.length)&&(o=["child_added","child_removed","child_changed","child_moved"]),o}function Wh(o,i,s){return function Wf(o,i,s){return bd(o,"value","once",s).pipe((0,ve.w)(u=>{const h=[(0,ue.of)(u)];return i.forEach(I=>h.push(bd(o,I,"on",s))),(0,pe.T)(...h).pipe((0,Wi.R)(Hh,[]))}),(0,vr.x)())}(o,i=$h(i),s)}function Td(o,i,s){const u=(i=$h(i)).map(h=>bd(o,h,"on",s));return(0,pe.T)(...u)}function ng(o,i){return function(u,h){return kl(u,{stringCase:()=>o.child(u)[i](h),firebaseCase:()=>u[i](h),snapshotCase:()=>u.ref[i](h)})}}function rg(o){return function(s){return s?kl(s,{stringCase:()=>o.child(s).remove(),firebaseCase:()=>s.remove(),snapshotCase:()=>s.ref.remove()}):o.remove()}}function Ad(o,i){return function(){return bd(o,"value","on",i)}}!function $f(o){o.INTERNAL.registerComponent(new st.wA("database-compat",(i,{instanceIdentifier:s})=>{const u=i.getProvider("app-compat").getImmediate(),h=i.getProvider("database").getImmediate({identifier:s});return new wu(h,u)},"PUBLIC").setServiceProps({Reference:xo,Query:vi,Database:wu,DataSnapshot:Du,enableLogging:$p,INTERNAL:el,ServerValue:Hf}).setMultipleInstances(!0)),o.registerVersion("@firebase/database-compat","0.3.4")}(oa.Z);const Gh=new Z.OlP("angularfire2.realtimeDatabaseURL"),zf=new Z.OlP("angularfire2.database.use-emulator");let Md=(()=>{class o{constructor(s,u,h,I,S,k,G,te,Se,Me,Ge,yt,Mt,hn,Wr){this.schedulers=k;const Ji=G,oo=(0,he.on)(s,S,u);te&&jo(oo,S,Se,Ge,yt,Mt,Me,hn),this.database=(0,he.cc)(`${oo.name}.database.${h}`,"AngularFireDatabase",oo.name,()=>{const Ga=S.runOutsideAngular(()=>oo.database(h||void 0));return Ji&&Ga.useEmulator(...Ji),Ga},[Ji])}list(s,u){const h=this.schedulers.ngZone.runOutsideAngular(()=>wd(this.database,s));let I=h;return u&&(I=u(h)),function Sd(o,i){const s=i.schedulers.outsideAngular,u=i.schedulers.ngZone.run(()=>o.ref);return{query:o,update:ng(u,"update"),set:ng(u,"set"),push:h=>u.push(h),remove:rg(u),snapshotChanges:h=>Wh(o,h,s).pipe(pt.iC),stateChanges:h=>Td(o,h,s).pipe(pt.iC),auditTrail:h=>function zh(o,i,s){return function tg(o,i,s){return function eg(o,i){return bd(o,"value","on",i).pipe((0,X.U)(s=>{let u;return s.payload.forEach(h=>(u=h.key,!1)),{data:s,lastKeyToLoad:u}}))}(o,s).pipe(function Gt(...o){const i=(0,ss.jO)(o);return(0,Zr.e)((s,u)=>{const h=o.length,I=new Array(h);let S=o.map(()=>!1),k=!1;for(let G=0;G<h;G++)(0,is.Xf)(o[G]).subscribe((0,wi.x)(u,te=>{I[G]=te,!k&&!S[G]&&(S[G]=!0,(k=S.every(Yr.y))&&(S=null))},Ws.Z));s.subscribe((0,wi.x)(u,G=>{if(k){const te=[G,...I];u.next(i?i(...te):te)}}))})}(i),(0,X.U)(([h,I])=>{const S=h.lastKeyToLoad,k=I.map(G=>G.key);return{actions:I,lastKeyToLoad:S,loadedKeys:k}}),function Ya(o){return(0,Zr.e)((i,s)=>{let u=!1,h=0;i.subscribe((0,wi.x)(s,I=>(u||(u=!o(I,h++)))&&s.next(I)))})}(h=>-1===h.loadedKeys.indexOf(h.lastKeyToLoad)),(0,X.U)(h=>h.actions))}(o,Td(o,i).pipe((0,Wi.R)((h,I)=>[...h,I],[])),s)}(o,h,s).pipe(pt.iC),valueChanges:(h,I)=>Wh(o,h,s).pipe((0,X.U)(k=>k.map(G=>I&&I.idField?Object.assign(Object.assign({},G.payload.val()),{[I.idField]:G.key}):G.payload.val())),pt.iC)}}(I,this)}object(s){return function ig(o,i){return{query:o,snapshotChanges:()=>Ad(o,i.schedulers.outsideAngular)().pipe(pt.iC),update:s=>o.ref.update(s),set:s=>o.ref.set(s),remove:()=>o.ref.remove(),valueChanges:()=>Ad(o,i.schedulers.outsideAngular)().pipe(pt.iC,(0,X.U)(u=>u.payload.exists()?u.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>wd(this.database,s)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return o.\u0275fac=function(s){return new(s||o)(Z.LFG(he.Dh),Z.LFG(he.xv,8),Z.LFG(Gh,8),Z.LFG(Z.Lbi),Z.LFG(Z.R0b),Z.LFG(pt.HU),Z.LFG(zf,8),Z.LFG(Pi,8),Z.LFG(Hs,8),Z.LFG(wn,8),Z.LFG(Di,8),Z.LFG($i,8),Z.LFG(Nt,8),Z.LFG(tr,8),Z.LFG(lo,8))},o.\u0275prov=Z.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"}),o})(),Kh=(()=>{class o{constructor(s,u){this.afauth=s,this.db=u}login(s,u){var h=this;return(0,_.Z)(function*(){try{return yield h.afauth.signInWithEmailAndPassword(s,u)}catch(I){return console.log("error en login: ",I),null}})()}register({email:s,password:u}){var h=this;return(0,_.Z)(function*(){try{return yield h.afauth.createUserWithEmailAndPassword(s,u)}catch(I){return console.log("error en login: ",I),null}})()}logLogin(){var s=this;return(0,_.Z)(function*(){const u=yield s.afauth.currentUser;if(u){const h=u.email,I=(new Date).toISOString();s.db.list("/logUser").push({email:h,timestamp:I})}})()}logOut(){var s=this;return(0,_.Z)(function*(){try{return yield s.afauth.signOut()}catch(u){return console.log("error en login: ",u),null}})()}getUserLoggedIn(){return this.afauth.authState}static#e=this.\u0275fac=function(u){return new(u||o)(Z.LFG(Pi),Z.LFG(Md))};static#t=this.\u0275prov=Z.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()},7485:(ht,Te,O)=>{var _=O(6593),Z=O(5879),z=O(9295);let ue=(()=>{class se{constructor(Pe){this.router=Pe,this.title="EjemploRutas"}navigate(){this.router.navigateByUrl("/primero"),this.router.navigate([""])}static#e=this.\u0275fac=function(Xe){return new(Xe||se)(Z.Y36(z.F0))};static#t=this.\u0275cmp=Z.Xpm({type:se,selectors:[["app-root"]],decls:1,vars:0,template:function(Xe,He){1&Xe&&Z._UZ(0,"router-outlet")},dependencies:[z.lC]})}return se})();var oe=O(1344);const pe=[{path:"",redirectTo:"QuienSoy",pathMatch:"full"},{path:"QuienSoy",loadChildren:()=>O.e(497).then(O.bind(O,2497)).then(se=>se.QuiensoyModule)},{path:"Ejercicio",loadChildren:()=>Promise.all([O.e(95),O.e(568)]).then(O.bind(O,4568)).then(se=>se.EjercicioModule)},{path:"Home",loadChildren:()=>O.e(253).then(O.bind(O,4253)).then(se=>se.HomeModule)},{path:"Bienvenido",loadChildren:()=>Promise.all([O.e(95),O.e(610)]).then(O.bind(O,7610)).then(se=>se.LoginModule)},{path:"Registro",loadChildren:()=>Promise.all([O.e(95),O.e(47)]).then(O.bind(O,6047)).then(se=>se.RegistrerModule)},{path:"Chat",component:(()=>{class se{constructor(Pe){this.usrService=Pe,this.newMsj="",this.chats=[{emisor:"id",texto:"Hola"},{emisor:"id",texto:"Hola 2"},{emisor:"id",texto:"Holas"},{emisor:"ids",texto:"Hola 2"},{emisor:"id",texto:"Holasa 2"},{emisor:"id",texto:"Hola 2"}]}ngOnInit(){this.usrService.getUserLoggedIn().subscribe(Pe=>{this.userLogeado=Pe})}enviarMensaje(){this.chats.push({emisor:this.userLogeado.uid,texto:this.newMsj}),this.newMsj=""}static#e=this.\u0275fac=function(Xe){return new(Xe||se)(Z.Y36(oe.I))};static#t=this.\u0275cmp=Z.Xpm({type:se,selectors:[["app-chat"]],decls:0,vars:0,template:function(Xe,He){},styles:[".cardContainer[_ngcontent-%COMP%]{width:300px;height:500px;position:fixed;right:.5rem;bottom:.5rem;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:.5rem}.card-header[_ngcontent-%COMP%]{background-color:green;color:#000;font-weight:700}.container-Msg[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto;padding:.3rem}.imgEnv[_ngcontent-%COMP%]:active{transform:scale(0,9)}.imgEnv.small[_ngcontent-%COMP%]{width:30px;height:30px;max-width:100%;max-height:100%}.containerMsg[_ngcontent-%COMP%]{overflow:scroll;padding:.3rm}.send[_ngcontent-%COMP%]{display:block;background-color:green;color:#000;min-width:50%;border-radius:30px;padding:5px 10px;text-align:left}.recept[_ngcontent-%COMP%]{display:block;background-color:red;color:#000;min-width:50%;border-radius:30px;padding:5px 10px;text-align:left}"]})}return se})()},{path:"Memoria",loadChildren:()=>Promise.all([O.e(95),O.e(364)]).then(O.bind(O,8364)).then(se=>se.MemoryTimeModule)}];let Re=(()=>{class se{static#e=this.\u0275fac=function(Xe){return new(Xe||se)};static#t=this.\u0275mod=Z.oAB({type:se});static#n=this.\u0275inj=Z.cJS({imports:[z.Bz.forRoot(pe),z.Bz]})}return se})();const ve_firebase={apiKey:"AIzaSyDUkxnE82eG1gtprSqP5HTozDsajS-u-Ak",authDomain:"loginutn-dc890.firebaseapp.com",databaseURL:"https://loginutn-dc890-default-rtdb.firebaseio.com",projectId:"loginutn-dc890",storageBucket:"loginutn-dc890.appspot.com",messagingSenderId:"1757202644",appId:"1:1757202644:web:00f34d75f1b5af3c3ed341"};var X=O(6304);let ne=(()=>{class se{static#e=this.\u0275fac=function(Xe){return new(Xe||se)};static#t=this.\u0275mod=Z.oAB({type:se,bootstrap:[ue]});static#n=this.\u0275inj=Z.cJS({imports:[_.b2,Re,X.hO.initializeApp(ve_firebase)]})}return se})();_.q6().bootstrapModule(ne).catch(se=>console.error(se))},5619:(ht,Te,O)=>{O.d(Te,{X:()=>Z});var _=O(8645);class Z extends _.x{constructor(ue){super(),this._value=ue}get value(){return this.getValue()}_subscribe(ue){const oe=super._subscribe(ue);return!oe.closed&&ue.next(this._value),oe}getValue(){const{hasError:ue,thrownError:oe,_value:ce}=this;if(ue)throw oe;return this._throwIfClosed(),ce}next(ue){super.next(this._value=ue)}}},5592:(ht,Te,O)=>{O.d(Te,{y:()=>Re});var _=O(305),Z=O(7394),z=O(4850),ue=O(8407),oe=O(2653),ce=O(4674),pe=O(1441);let Re=(()=>{class se{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const Xe=new se;return Xe.source=this,Xe.operator=Pe,Xe}subscribe(Pe,Xe,He){const tt=function ne(se){return se&&se instanceof _.Lv||function X(se){return se&&(0,ce.m)(se.next)&&(0,ce.m)(se.error)&&(0,ce.m)(se.complete)}(se)&&(0,Z.Nn)(se)}(Pe)?Pe:new _.Hp(Pe,Xe,He);return(0,pe.x)(()=>{const{operator:Ze,source:Ct}=this;tt.add(Ze?Ze.call(tt,Ct):Ct?this._subscribe(tt):this._trySubscribe(tt))}),tt}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(Xe){Pe.error(Xe)}}forEach(Pe,Xe){return new(Xe=ve(Xe))((He,tt)=>{const Ze=new _.Hp({next:Ct=>{try{Pe(Ct)}catch(pt){tt(pt),Ze.unsubscribe()}},error:tt,complete:He});this.subscribe(Ze)})}_subscribe(Pe){var Xe;return null===(Xe=this.source)||void 0===Xe?void 0:Xe.subscribe(Pe)}[z.L](){return this}pipe(...Pe){return(0,ue.U)(Pe)(this)}toPromise(Pe){return new(Pe=ve(Pe))((Xe,He)=>{let tt;this.subscribe(Ze=>tt=Ze,Ze=>He(Ze),()=>Xe(tt))})}}return se.create=$e=>new se($e),se})();function ve(se){var $e;return null!==($e=se??oe.config.Promise)&&void 0!==$e?$e:Promise}},8645:(ht,Te,O)=>{O.d(Te,{x:()=>pe});var _=O(5592),Z=O(7394);const ue=(0,O(2306).d)(ve=>function(){ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=O(9039),ce=O(1441);let pe=(()=>{class ve extends _.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const se=new Re(this,this);return se.operator=ne,se}_throwIfClosed(){if(this.closed)throw new ue}next(ne){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const se of this.currentObservers)se.next(ne)}})}error(ne){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:se}=this;for(;se.length;)se.shift().error(ne)}})}complete(){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:se,isStopped:$e,observers:Pe}=this;return se||$e?Z.Lc:(this.currentObservers=null,Pe.push(ne),new Z.w0(()=>{this.currentObservers=null,(0,oe.P)(Pe,ne)}))}_checkFinalizedStatuses(ne){const{hasError:se,thrownError:$e,isStopped:Pe}=this;se?ne.error($e):Pe&&ne.complete()}asObservable(){const ne=new _.y;return ne.source=this,ne}}return ve.create=(X,ne)=>new Re(X,ne),ve})();class Re extends pe{constructor(X,ne){super(),this.destination=X,this.source=ne}next(X){var ne,se;null===(se=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===se||se.call(ne,X)}error(X){var ne,se;null===(se=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===se||se.call(ne,X)}complete(){var X,ne;null===(ne=null===(X=this.destination)||void 0===X?void 0:X.complete)||void 0===ne||ne.call(X)}_subscribe(X){var ne,se;return null!==(se=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(X))&&void 0!==se?se:Z.Lc}}},305:(ht,Te,O)=>{O.d(Te,{Hp:()=>He,Lv:()=>se});var _=O(4674),Z=O(7394),z=O(2653),ue=O(3894),oe=O(2420);const ce=ve("C",void 0,void 0);function ve(he,Oe,me){return{kind:he,value:Oe,error:me}}var X=O(7599),ne=O(1441);class se extends Z.w0{constructor(Oe){super(),this.isStopped=!1,Oe?(this.destination=Oe,(0,Z.Nn)(Oe)&&Oe.add(this)):this.destination=pt}static create(Oe,me,Ue){return new He(Oe,me,Ue)}next(Oe){this.isStopped?Ct(function Re(he){return ve("N",he,void 0)}(Oe),this):this._next(Oe)}error(Oe){this.isStopped?Ct(function pe(he){return ve("E",void 0,he)}(Oe),this):(this.isStopped=!0,this._error(Oe))}complete(){this.isStopped?Ct(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Oe){this.destination.next(Oe)}_error(Oe){try{this.destination.error(Oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Pe(he,Oe){return $e.call(he,Oe)}class Xe{constructor(Oe){this.partialObserver=Oe}next(Oe){const{partialObserver:me}=this;if(me.next)try{me.next(Oe)}catch(Ue){tt(Ue)}}error(Oe){const{partialObserver:me}=this;if(me.error)try{me.error(Oe)}catch(Ue){tt(Ue)}else tt(Oe)}complete(){const{partialObserver:Oe}=this;if(Oe.complete)try{Oe.complete()}catch(me){tt(me)}}}class He extends se{constructor(Oe,me,Ue){let Ke;if(super(),(0,_.m)(Oe)||!Oe)Ke={next:Oe??void 0,error:me??void 0,complete:Ue??void 0};else{let Je;this&&z.config.useDeprecatedNextContext?(Je=Object.create(Oe),Je.unsubscribe=()=>this.unsubscribe(),Ke={next:Oe.next&&Pe(Oe.next,Je),error:Oe.error&&Pe(Oe.error,Je),complete:Oe.complete&&Pe(Oe.complete,Je)}):Ke=Oe}this.destination=new Xe(Ke)}}function tt(he){z.config.useDeprecatedSynchronousErrorHandling?(0,ne.O)(he):(0,ue.h)(he)}function Ct(he,Oe){const{onStoppedNotification:me}=z.config;me&&X.z.setTimeout(()=>me(he,Oe))}const pt={closed:!0,next:oe.Z,error:function Ze(he){throw he},complete:oe.Z}},7394:(ht,Te,O)=>{O.d(Te,{Lc:()=>ce,w0:()=>oe,Nn:()=>pe});var _=O(4674);const z=(0,O(2306).d)(ve=>function(ne){ve(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((se,$e)=>`${$e+1}) ${se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var ue=O(9039);class oe{constructor(X){this.initialTeardown=X,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let X;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const Pe of ne)Pe.remove(this);else ne.remove(this);const{initialTeardown:se}=this;if((0,_.m)(se))try{se()}catch(Pe){X=Pe instanceof z?Pe.errors:[Pe]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Pe of $e)try{Re(Pe)}catch(Xe){X=X??[],Xe instanceof z?X=[...X,...Xe.errors]:X.push(Xe)}}if(X)throw new z(X)}}add(X){var ne;if(X&&X!==this)if(this.closed)Re(X);else{if(X instanceof oe){if(X.closed||X._hasParent(this))return;X._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(X)}}_hasParent(X){const{_parentage:ne}=this;return ne===X||Array.isArray(ne)&&ne.includes(X)}_addParent(X){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(X),ne):ne?[ne,X]:X}_removeParent(X){const{_parentage:ne}=this;ne===X?this._parentage=null:Array.isArray(ne)&&(0,ue.P)(ne,X)}remove(X){const{_finalizers:ne}=this;ne&&(0,ue.P)(ne,X),X instanceof oe&&X._removeParent(this)}}oe.EMPTY=(()=>{const ve=new oe;return ve.closed=!0,ve})();const ce=oe.EMPTY;function pe(ve){return ve instanceof oe||ve&&"closed"in ve&&(0,_.m)(ve.remove)&&(0,_.m)(ve.add)&&(0,_.m)(ve.unsubscribe)}function Re(ve){(0,_.m)(ve)?ve():ve.unsubscribe()}},2653:(ht,Te,O)=>{O.d(Te,{config:()=>_});const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(ht,Te,O)=>{O.d(Te,{E:()=>Z});const Z=new(O(5592).y)(oe=>oe.complete())},2459:(ht,Te,O)=>{O.d(Te,{D:()=>Oe});var _=O(4829),Z=O(3093),z=O(5137),ce=O(5592),Re=O(4971),ve=O(4674),X=O(7103);function se(me,Ue){if(!me)throw new Error("Iterable cannot be null");return new ce.y(Ke=>{(0,X.f)(Ke,Ue,()=>{const Je=me[Symbol.asyncIterator]();(0,X.f)(Ke,Ue,()=>{Je.next().then(Ee=>{Ee.done?Ke.complete():Ke.next(Ee.value)})},0,!0)})})}var $e=O(8382),Pe=O(4026),Xe=O(4266),He=O(3664),tt=O(5726),Ze=O(9853),Ct=O(541);function Oe(me,Ue){return Ue?function he(me,Ue){if(null!=me){if((0,$e.c)(me))return function ue(me,Ue){return(0,_.Xf)(me).pipe((0,z.R)(Ue),(0,Z.Q)(Ue))}(me,Ue);if((0,Xe.z)(me))return function pe(me,Ue){return new ce.y(Ke=>{let Je=0;return Ue.schedule(function(){Je===me.length?Ke.complete():(Ke.next(me[Je++]),Ke.closed||this.schedule())})})}(me,Ue);if((0,Pe.t)(me))return function oe(me,Ue){return(0,_.Xf)(me).pipe((0,z.R)(Ue),(0,Z.Q)(Ue))}(me,Ue);if((0,tt.D)(me))return se(me,Ue);if((0,He.T)(me))return function ne(me,Ue){return new ce.y(Ke=>{let Je;return(0,X.f)(Ke,Ue,()=>{Je=me[Re.h](),(0,X.f)(Ke,Ue,()=>{let Ee,vt;try{({value:Ee,done:vt}=Je.next())}catch($t){return void Ke.error($t)}vt?Ke.complete():Ke.next(Ee)},0,!0)}),()=>(0,ve.m)(Je?.return)&&Je.return()})}(me,Ue);if((0,Ct.L)(me))return function pt(me,Ue){return se((0,Ct.Q)(me),Ue)}(me,Ue)}throw(0,Ze.z)(me)}(me,Ue):(0,_.Xf)(me)}},4829:(ht,Te,O)=>{O.d(Te,{Xf:()=>$e});var _=O(7582),Z=O(4266),z=O(4026),ue=O(5592),oe=O(8382),ce=O(5726),pe=O(9853),Re=O(3664),ve=O(541),X=O(4674),ne=O(3894),se=O(4850);function $e(he){if(he instanceof ue.y)return he;if(null!=he){if((0,oe.c)(he))return function Pe(he){return new ue.y(Oe=>{const me=he[se.L]();if((0,X.m)(me.subscribe))return me.subscribe(Oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(he);if((0,Z.z)(he))return function Xe(he){return new ue.y(Oe=>{for(let me=0;me<he.length&&!Oe.closed;me++)Oe.next(he[me]);Oe.complete()})}(he);if((0,z.t)(he))return function He(he){return new ue.y(Oe=>{he.then(me=>{Oe.closed||(Oe.next(me),Oe.complete())},me=>Oe.error(me)).then(null,ne.h)})}(he);if((0,ce.D)(he))return Ze(he);if((0,Re.T)(he))return function tt(he){return new ue.y(Oe=>{for(const me of he)if(Oe.next(me),Oe.closed)return;Oe.complete()})}(he);if((0,ve.L)(he))return function Ct(he){return Ze((0,ve.Q)(he))}(he)}throw(0,pe.z)(he)}function Ze(he){return new ue.y(Oe=>{(function pt(he,Oe){var me,Ue,Ke,Je;return(0,_.mG)(this,void 0,void 0,function*(){try{for(me=(0,_.KL)(he);!(Ue=yield me.next()).done;)if(Oe.next(Ue.value),Oe.closed)return}catch(Ee){Ke={error:Ee}}finally{try{Ue&&!Ue.done&&(Je=me.return)&&(yield Je.call(me))}finally{if(Ke)throw Ke.error}}Oe.complete()})})(he,Oe).catch(me=>Oe.error(me))})}},3019:(ht,Te,O)=>{O.d(Te,{T:()=>ce});var _=O(7537),Z=O(4829),z=O(6232),ue=O(4564),oe=O(2459);function ce(...pe){const Re=(0,ue.yG)(pe),ve=(0,ue._6)(pe,1/0),X=pe;return X.length?1===X.length?(0,Z.Xf)(X[0]):(0,_.J)(ve)((0,oe.D)(X,Re)):z.E}},2096:(ht,Te,O)=>{O.d(Te,{of:()=>z});var _=O(4564),Z=O(2459);function z(...ue){const oe=(0,_.yG)(ue);return(0,Z.D)(ue,oe)}},8251:(ht,Te,O)=>{O.d(Te,{x:()=>Z});var _=O(305);function Z(ue,oe,ce,pe,Re){return new z(ue,oe,ce,pe,Re)}class z extends _.Lv{constructor(oe,ce,pe,Re,ve,X){super(oe),this.onFinalize=ve,this.shouldUnsubscribe=X,this._next=ce?function(ne){try{ce(ne)}catch(se){oe.error(se)}}:super._next,this._error=Re?function(ne){try{Re(ne)}catch(se){oe.error(se)}finally{this.unsubscribe()}}:super._error,this._complete=pe?function(){try{pe()}catch(ne){oe.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},3572:(ht,Te,O)=>{O.d(Te,{d:()=>z});var _=O(9360),Z=O(8251);function z(ue){return(0,_.e)((oe,ce)=>{let pe=!1;oe.subscribe((0,Z.x)(ce,Re=>{pe=!0,ce.next(Re)},()=>{pe||ce.next(ue),ce.complete()}))})}},3997:(ht,Te,O)=>{O.d(Te,{x:()=>ue});var _=O(2737),Z=O(9360),z=O(8251);function ue(ce,pe=_.y){return ce=ce??oe,(0,Z.e)((Re,ve)=>{let X,ne=!0;Re.subscribe((0,z.x)(ve,se=>{const $e=pe(se);(ne||!ce(X,$e))&&(ne=!1,X=$e,ve.next(se))}))})}function oe(ce,pe){return ce===pe}},2181:(ht,Te,O)=>{O.d(Te,{h:()=>z});var _=O(9360),Z=O(8251);function z(ue,oe){return(0,_.e)((ce,pe)=>{let Re=0;ce.subscribe((0,Z.x)(pe,ve=>ue.call(oe,ve,Re++)&&pe.next(ve)))})}},1374:(ht,Te,O)=>{O.d(Te,{P:()=>pe});var _=O(6973),Z=O(2181),z=O(8180),ue=O(3572),oe=O(3026),ce=O(2737);function pe(Re,ve){const X=arguments.length>=2;return ne=>ne.pipe(Re?(0,Z.h)((se,$e)=>Re(se,$e,ne)):ce.y,(0,z.q)(1),X?(0,ue.d)(ve):(0,oe.T)(()=>new _.K))}},7398:(ht,Te,O)=>{O.d(Te,{U:()=>z});var _=O(9360),Z=O(8251);function z(ue,oe){return(0,_.e)((ce,pe)=>{let Re=0;ce.subscribe((0,Z.x)(pe,ve=>{pe.next(ue.call(oe,ve,Re++))}))})}},7537:(ht,Te,O)=>{O.d(Te,{J:()=>z});var _=O(1631),Z=O(2737);function z(ue=1/0){return(0,_.z)(Z.y,ue)}},1631:(ht,Te,O)=>{O.d(Te,{z:()=>Re});var _=O(7398),Z=O(4829),z=O(9360),ue=O(7103),oe=O(8251),pe=O(4674);function Re(ve,X,ne=1/0){return(0,pe.m)(X)?Re((se,$e)=>(0,_.U)((Pe,Xe)=>X(se,Pe,$e,Xe))((0,Z.Xf)(ve(se,$e))),ne):("number"==typeof X&&(ne=X),(0,z.e)((se,$e)=>function ce(ve,X,ne,se,$e,Pe,Xe,He){const tt=[];let Ze=0,Ct=0,pt=!1;const he=()=>{pt&&!tt.length&&!Ze&&X.complete()},Oe=Ue=>Ze<se?me(Ue):tt.push(Ue),me=Ue=>{Pe&&X.next(Ue),Ze++;let Ke=!1;(0,Z.Xf)(ne(Ue,Ct++)).subscribe((0,oe.x)(X,Je=>{$e?.(Je),Pe?Oe(Je):X.next(Je)},()=>{Ke=!0},void 0,()=>{if(Ke)try{for(Ze--;tt.length&&Ze<se;){const Je=tt.shift();Xe?(0,ue.f)(X,Xe,()=>me(Je)):me(Je)}he()}catch(Je){X.error(Je)}}))};return ve.subscribe((0,oe.x)(X,Oe,()=>{pt=!0,he()})),()=>{He?.()}}(se,$e,ve,ne)))}},3093:(ht,Te,O)=>{O.d(Te,{Q:()=>ue});var _=O(7103),Z=O(9360),z=O(8251);function ue(oe,ce=0){return(0,Z.e)((pe,Re)=>{pe.subscribe((0,z.x)(Re,ve=>(0,_.f)(Re,oe,()=>Re.next(ve),ce),()=>(0,_.f)(Re,oe,()=>Re.complete(),ce),ve=>(0,_.f)(Re,oe,()=>Re.error(ve),ce)))})}},6699:(ht,Te,O)=>{O.d(Te,{R:()=>ue});var _=O(9360),Z=O(8251);function ue(oe,ce){return(0,_.e)(function z(oe,ce,pe,Re,ve){return(X,ne)=>{let se=pe,$e=ce,Pe=0;X.subscribe((0,Z.x)(ne,Xe=>{const He=Pe++;$e=se?oe($e,Xe,He):(se=!0,Xe),Re&&ne.next($e)},ve&&(()=>{se&&ne.next($e),ne.complete()})))}}(oe,ce,arguments.length>=2,!0))}},3020:(ht,Te,O)=>{O.d(Te,{B:()=>oe});var _=O(4829),Z=O(8645),z=O(305),ue=O(9360);function oe(pe={}){const{connector:Re=(()=>new Z.x),resetOnError:ve=!0,resetOnComplete:X=!0,resetOnRefCountZero:ne=!0}=pe;return se=>{let $e,Pe,Xe,He=0,tt=!1,Ze=!1;const Ct=()=>{Pe?.unsubscribe(),Pe=void 0},pt=()=>{Ct(),$e=Xe=void 0,tt=Ze=!1},he=()=>{const Oe=$e;pt(),Oe?.unsubscribe()};return(0,ue.e)((Oe,me)=>{He++,!Ze&&!tt&&Ct();const Ue=Xe=Xe??Re();me.add(()=>{He--,0===He&&!Ze&&!tt&&(Pe=ce(he,ne))}),Ue.subscribe(me),!$e&&He>0&&($e=new z.Hp({next:Ke=>Ue.next(Ke),error:Ke=>{Ze=!0,Ct(),Pe=ce(pt,ve,Ke),Ue.error(Ke)},complete:()=>{tt=!0,Ct(),Pe=ce(pt,X),Ue.complete()}}),(0,_.Xf)(Oe).subscribe($e))})(se)}}function ce(pe,Re,...ve){if(!0===Re)return void pe();if(!1===Re)return;const X=new z.Hp({next:()=>{X.unsubscribe(),pe()}});return(0,_.Xf)(Re(...ve)).subscribe(X)}},5137:(ht,Te,O)=>{O.d(Te,{R:()=>Z});var _=O(9360);function Z(z,ue=0){return(0,_.e)((oe,ce)=>{ce.add(z.schedule(()=>oe.subscribe(ce),ue))})}},4664:(ht,Te,O)=>{O.d(Te,{w:()=>ue});var _=O(4829),Z=O(9360),z=O(8251);function ue(oe,ce){return(0,Z.e)((pe,Re)=>{let ve=null,X=0,ne=!1;const se=()=>ne&&!ve&&Re.complete();pe.subscribe((0,z.x)(Re,$e=>{ve?.unsubscribe();let Pe=0;const Xe=X++;(0,_.Xf)(oe($e,Xe)).subscribe(ve=(0,z.x)(Re,He=>Re.next(ce?ce($e,He,Xe,Pe++):He),()=>{ve=null,se()}))},()=>{ne=!0,se()}))})}},8180:(ht,Te,O)=>{O.d(Te,{q:()=>ue});var _=O(6232),Z=O(9360),z=O(8251);function ue(oe){return oe<=0?()=>_.E:(0,Z.e)((ce,pe)=>{let Re=0;ce.subscribe((0,z.x)(pe,ve=>{++Re<=oe&&(pe.next(ve),oe<=Re&&pe.complete())}))})}},9397:(ht,Te,O)=>{O.d(Te,{b:()=>oe});var _=O(4674),Z=O(9360),z=O(8251),ue=O(2737);function oe(ce,pe,Re){const ve=(0,_.m)(ce)||pe||Re?{next:ce,error:pe,complete:Re}:ce;return ve?(0,Z.e)((X,ne)=>{var se;null===(se=ve.subscribe)||void 0===se||se.call(ve);let $e=!0;X.subscribe((0,z.x)(ne,Pe=>{var Xe;null===(Xe=ve.next)||void 0===Xe||Xe.call(ve,Pe),ne.next(Pe)},()=>{var Pe;$e=!1,null===(Pe=ve.complete)||void 0===Pe||Pe.call(ve),ne.complete()},Pe=>{var Xe;$e=!1,null===(Xe=ve.error)||void 0===Xe||Xe.call(ve,Pe),ne.error(Pe)},()=>{var Pe,Xe;$e&&(null===(Pe=ve.unsubscribe)||void 0===Pe||Pe.call(ve)),null===(Xe=ve.finalize)||void 0===Xe||Xe.call(ve)}))}):ue.y}},3026:(ht,Te,O)=>{O.d(Te,{T:()=>ue});var _=O(6973),Z=O(9360),z=O(8251);function ue(ce=oe){return(0,Z.e)((pe,Re)=>{let ve=!1;pe.subscribe((0,z.x)(Re,X=>{ve=!0,Re.next(X)},()=>ve?Re.complete():Re.error(ce())))})}function oe(){return new _.K}},1954:(ht,Te,O)=>{O.d(Te,{o:()=>oe});var _=O(7394);class Z extends _.w0{constructor(pe,Re){super()}schedule(pe,Re=0){return this}}const z={setInterval(ce,pe,...Re){const{delegate:ve}=z;return ve?.setInterval?ve.setInterval(ce,pe,...Re):setInterval(ce,pe,...Re)},clearInterval(ce){const{delegate:pe}=z;return(pe?.clearInterval||clearInterval)(ce)},delegate:void 0};var ue=O(9039);class oe extends Z{constructor(pe,Re){super(pe,Re),this.scheduler=pe,this.work=Re,this.pending=!1}schedule(pe,Re=0){var ve;if(this.closed)return this;this.state=pe;const X=this.id,ne=this.scheduler;return null!=X&&(this.id=this.recycleAsyncId(ne,X,Re)),this.pending=!0,this.delay=Re,this.id=null!==(ve=this.id)&&void 0!==ve?ve:this.requestAsyncId(ne,this.id,Re),this}requestAsyncId(pe,Re,ve=0){return z.setInterval(pe.flush.bind(pe,this),ve)}recycleAsyncId(pe,Re,ve=0){if(null!=ve&&this.delay===ve&&!1===this.pending)return Re;null!=Re&&z.clearInterval(Re)}execute(pe,Re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(pe,Re);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(pe,Re){let X,ve=!1;try{this.work(pe)}catch(ne){ve=!0,X=ne||new Error("Scheduled action threw falsy error")}if(ve)return this.unsubscribe(),X}unsubscribe(){if(!this.closed){const{id:pe,scheduler:Re}=this,{actions:ve}=Re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(ve,this),null!=pe&&(this.id=this.recycleAsyncId(Re,pe,null)),this.delay=null,super.unsubscribe()}}}},2631:(ht,Te,O)=>{O.d(Te,{v:()=>z});var _=O(4552);class Z{constructor(oe,ce=Z.now){this.schedulerActionCtor=oe,this.now=ce}schedule(oe,ce=0,pe){return new this.schedulerActionCtor(this,oe).schedule(pe,ce)}}Z.now=_.l.now;class z extends Z{constructor(oe,ce=Z.now){super(oe,ce),this.actions=[],this._active=!1}flush(oe){const{actions:ce}=this;if(this._active)return void ce.push(oe);let pe;this._active=!0;do{if(pe=oe.execute(oe.state,oe.delay))break}while(oe=ce.shift());if(this._active=!1,pe){for(;oe=ce.shift();)oe.unsubscribe();throw pe}}}},6321:(ht,Te,O)=>{O.d(Te,{z:()=>z});var _=O(1954);const z=new(O(2631).v)(_.o)},4552:(ht,Te,O)=>{O.d(Te,{l:()=>_});const _={now:()=>(_.delegate||Date).now(),delegate:void 0}},7599:(ht,Te,O)=>{O.d(Te,{z:()=>_});const _={setTimeout(Z,z,...ue){const{delegate:oe}=_;return oe?.setTimeout?oe.setTimeout(Z,z,...ue):setTimeout(Z,z,...ue)},clearTimeout(Z){const{delegate:z}=_;return(z?.clearTimeout||clearTimeout)(Z)},delegate:void 0}},4971:(ht,Te,O)=>{O.d(Te,{h:()=>Z});const Z=function _(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(ht,Te,O)=>{O.d(Te,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(ht,Te,O)=>{O.d(Te,{K:()=>Z});const Z=(0,O(2306).d)(z=>function(){z(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(ht,Te,O)=>{O.d(Te,{_6:()=>ce,jO:()=>ue,yG:()=>oe});var _=O(4674);function z(pe){return pe[pe.length-1]}function ue(pe){return(0,_.m)(z(pe))?pe.pop():void 0}function oe(pe){return function Z(pe){return pe&&(0,_.m)(pe.schedule)}(z(pe))?pe.pop():void 0}function ce(pe,Re){return"number"==typeof z(pe)?pe.pop():Re}},7453:(ht,Te,O)=>{O.d(Te,{D:()=>oe});const{isArray:_}=Array,{getPrototypeOf:Z,prototype:z,keys:ue}=Object;function oe(pe){if(1===pe.length){const Re=pe[0];if(_(Re))return{args:Re,keys:null};if(function ce(pe){return pe&&"object"==typeof pe&&Z(pe)===z}(Re)){const ve=ue(Re);return{args:ve.map(X=>Re[X]),keys:ve}}}return{args:pe,keys:null}}},9039:(ht,Te,O)=>{function _(Z,z){if(Z){const ue=Z.indexOf(z);0<=ue&&Z.splice(ue,1)}}O.d(Te,{P:()=>_})},2306:(ht,Te,O)=>{function _(Z){const ue=Z(oe=>{Error.call(oe),oe.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}O.d(Te,{d:()=>_})},2714:(ht,Te,O)=>{function _(Z,z){return Z.reduce((ue,oe,ce)=>(ue[oe]=z[ce],ue),{})}O.d(Te,{n:()=>_})},1441:(ht,Te,O)=>{O.d(Te,{O:()=>ue,x:()=>z});var _=O(2653);let Z=null;function z(oe){if(_.config.useDeprecatedSynchronousErrorHandling){const ce=!Z;if(ce&&(Z={errorThrown:!1,error:null}),oe(),ce){const{errorThrown:pe,error:Re}=Z;if(Z=null,pe)throw Re}}else oe()}function ue(oe){_.config.useDeprecatedSynchronousErrorHandling&&Z&&(Z.errorThrown=!0,Z.error=oe)}},7103:(ht,Te,O)=>{function _(Z,z,ue,oe=0,ce=!1){const pe=z.schedule(function(){ue(),ce?Z.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(Z.add(pe),!ce)return pe}O.d(Te,{f:()=>_})},2737:(ht,Te,O)=>{function _(Z){return Z}O.d(Te,{y:()=>_})},4266:(ht,Te,O)=>{O.d(Te,{z:()=>_});const _=Z=>Z&&"number"==typeof Z.length&&"function"!=typeof Z},5726:(ht,Te,O)=>{O.d(Te,{D:()=>Z});var _=O(4674);function Z(z){return Symbol.asyncIterator&&(0,_.m)(z?.[Symbol.asyncIterator])}},4674:(ht,Te,O)=>{function _(Z){return"function"==typeof Z}O.d(Te,{m:()=>_})},8382:(ht,Te,O)=>{O.d(Te,{c:()=>z});var _=O(4850),Z=O(4674);function z(ue){return(0,Z.m)(ue[_.L])}},3664:(ht,Te,O)=>{O.d(Te,{T:()=>z});var _=O(4971),Z=O(4674);function z(ue){return(0,Z.m)(ue?.[_.h])}},4026:(ht,Te,O)=>{O.d(Te,{t:()=>Z});var _=O(4674);function Z(z){return(0,_.m)(z?.then)}},541:(ht,Te,O)=>{O.d(Te,{L:()=>ue,Q:()=>z});var _=O(7582),Z=O(4674);function z(oe){return(0,_.FC)(this,arguments,function*(){const pe=oe.getReader();try{for(;;){const{value:Re,done:ve}=yield(0,_.qq)(pe.read());if(ve)return yield(0,_.qq)(void 0);yield yield(0,_.qq)(Re)}}finally{pe.releaseLock()}})}function ue(oe){return(0,Z.m)(oe?.getReader)}},9360:(ht,Te,O)=>{O.d(Te,{A:()=>Z,e:()=>z});var _=O(4674);function Z(ue){return(0,_.m)(ue?.lift)}function z(ue){return oe=>{if(Z(oe))return oe.lift(function(ce){try{return ue(ce,this)}catch(pe){this.error(pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(ht,Te,O)=>{O.d(Te,{Z:()=>ue});var _=O(7398);const{isArray:Z}=Array;function ue(oe){return(0,_.U)(ce=>function z(oe,ce){return Z(ce)?oe(...ce):oe(ce)}(oe,ce))}},2420:(ht,Te,O)=>{function _(){}O.d(Te,{Z:()=>_})},8407:(ht,Te,O)=>{O.d(Te,{U:()=>z,z:()=>Z});var _=O(2737);function Z(...ue){return z(ue)}function z(ue){return 0===ue.length?_.y:1===ue.length?ue[0]:function(ce){return ue.reduce((pe,Re)=>Re(pe),ce)}}},3894:(ht,Te,O)=>{O.d(Te,{h:()=>z});var _=O(2653),Z=O(7599);function z(ue){Z.z.setTimeout(()=>{const{onUnhandledError:oe}=_.config;if(!oe)throw ue;oe(ue)})}},9853:(ht,Te,O)=>{function _(Z){return new TypeError(`You provided ${null!==Z&&"object"==typeof Z?"an invalid object":`'${Z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(Te,{z:()=>_})},6814:(ht,Te,O)=>{O.d(Te,{Do:()=>He,EM:()=>vr,HT:()=>ue,JF:()=>Yr,K0:()=>ce,Mx:()=>mr,O5:()=>Ei,PM:()=>Pi,S$:()=>$e,V_:()=>Re,Ye:()=>tt,b0:()=>Xe,bD:()=>Di,ez:()=>wn,q:()=>z,w_:()=>oe});var _=O(5879);let Z=null;function z(){return Z}function ue(E){Z||(Z=E)}class oe{}const ce=new _.OlP("DocumentToken");let pe=(()=>{class E{historyGo(A){throw new Error("Not implemented")}static#e=this.\u0275fac=function(N){return new(N||E)};static#t=this.\u0275prov=_.Yz7({token:E,factory:function(){return(0,_.f3M)(ve)},providedIn:"platform"})}return E})();const Re=new _.OlP("Location Initialized");let ve=(()=>{class E extends pe{constructor(){super(),this._doc=(0,_.f3M)(ce),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z().getBaseHref(this._doc)}onPopState(A){const N=z().getGlobalEventTarget(this._doc,"window");return N.addEventListener("popstate",A,!1),()=>N.removeEventListener("popstate",A)}onHashChange(A){const N=z().getGlobalEventTarget(this._doc,"window");return N.addEventListener("hashchange",A,!1),()=>N.removeEventListener("hashchange",A)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(A){this._location.pathname=A}pushState(A,N,ee){this._history.pushState(A,N,ee)}replaceState(A,N,ee){this._history.replaceState(A,N,ee)}forward(){this._history.forward()}back(){this._history.back()}historyGo(A=0){this._history.go(A)}getState(){return this._history.state}static#e=this.\u0275fac=function(N){return new(N||E)};static#t=this.\u0275prov=_.Yz7({token:E,factory:function(){return new E},providedIn:"platform"})}return E})();function X(E,L){if(0==E.length)return L;if(0==L.length)return E;let A=0;return E.endsWith("/")&&A++,L.startsWith("/")&&A++,2==A?E+L.substring(1):1==A?E+L:E+"/"+L}function ne(E){const L=E.match(/#|\?|$/),A=L&&L.index||E.length;return E.slice(0,A-("/"===E[A-1]?1:0))+E.slice(A)}function se(E){return E&&"?"!==E[0]?"?"+E:E}let $e=(()=>{class E{historyGo(A){throw new Error("Not implemented")}static#e=this.\u0275fac=function(N){return new(N||E)};static#t=this.\u0275prov=_.Yz7({token:E,factory:function(){return(0,_.f3M)(Xe)},providedIn:"root"})}return E})();const Pe=new _.OlP("appBaseHref");let Xe=(()=>{class E extends $e{constructor(A,N){super(),this._platformLocation=A,this._removeListenerFns=[],this._baseHref=N??this._platformLocation.getBaseHrefFromDOM()??(0,_.f3M)(ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(A){this._removeListenerFns.push(this._platformLocation.onPopState(A),this._platformLocation.onHashChange(A))}getBaseHref(){return this._baseHref}prepareExternalUrl(A){return X(this._baseHref,A)}path(A=!1){const N=this._platformLocation.pathname+se(this._platformLocation.search),ee=this._platformLocation.hash;return ee&&A?`${N}${ee}`:N}pushState(A,N,ee,De){const Ve=this.prepareExternalUrl(ee+se(De));this._platformLocation.pushState(A,N,Ve)}replaceState(A,N,ee,De){const Ve=this.prepareExternalUrl(ee+se(De));this._platformLocation.replaceState(A,N,Ve)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(A=0){this._platformLocation.historyGo?.(A)}static#e=this.\u0275fac=function(N){return new(N||E)(_.LFG(pe),_.LFG(Pe,8))};static#t=this.\u0275prov=_.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})(),He=(()=>{class E extends $e{constructor(A,N){super(),this._platformLocation=A,this._baseHref="",this._removeListenerFns=[],null!=N&&(this._baseHref=N)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(A){this._removeListenerFns.push(this._platformLocation.onPopState(A),this._platformLocation.onHashChange(A))}getBaseHref(){return this._baseHref}path(A=!1){let N=this._platformLocation.hash;return null==N&&(N="#"),N.length>0?N.substring(1):N}prepareExternalUrl(A){const N=X(this._baseHref,A);return N.length>0?"#"+N:N}pushState(A,N,ee,De){let Ve=this.prepareExternalUrl(ee+se(De));0==Ve.length&&(Ve=this._platformLocation.pathname),this._platformLocation.pushState(A,N,Ve)}replaceState(A,N,ee,De){let Ve=this.prepareExternalUrl(ee+se(De));0==Ve.length&&(Ve=this._platformLocation.pathname),this._platformLocation.replaceState(A,N,Ve)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(A=0){this._platformLocation.historyGo?.(A)}static#e=this.\u0275fac=function(N){return new(N||E)(_.LFG(pe),_.LFG(Pe,8))};static#t=this.\u0275prov=_.Yz7({token:E,factory:E.\u0275fac})}return E})(),tt=(()=>{class E{constructor(A){this._subject=new _.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=A;const N=this._locationStrategy.getBaseHref();this._basePath=function he(E){if(new RegExp("^(https?:)?//").test(E)){const[,A]=E.split(/\/\/[^\/]+/);return A}return E}(ne(pt(N))),this._locationStrategy.onPopState(ee=>{this._subject.emit({url:this.path(!0),pop:!0,state:ee.state,type:ee.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(A=!1){return this.normalize(this._locationStrategy.path(A))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(A,N=""){return this.path()==this.normalize(A+se(N))}normalize(A){return E.stripTrailingSlash(function Ct(E,L){if(!E||!L.startsWith(E))return L;const A=L.substring(E.length);return""===A||["/",";","?","#"].includes(A[0])?A:L}(this._basePath,pt(A)))}prepareExternalUrl(A){return A&&"/"!==A[0]&&(A="/"+A),this._locationStrategy.prepareExternalUrl(A)}go(A,N="",ee=null){this._locationStrategy.pushState(ee,"",A,N),this._notifyUrlChangeListeners(this.prepareExternalUrl(A+se(N)),ee)}replaceState(A,N="",ee=null){this._locationStrategy.replaceState(ee,"",A,N),this._notifyUrlChangeListeners(this.prepareExternalUrl(A+se(N)),ee)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(A=0){this._locationStrategy.historyGo?.(A)}onUrlChange(A){return this._urlChangeListeners.push(A),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(N=>{this._notifyUrlChangeListeners(N.url,N.state)})),()=>{const N=this._urlChangeListeners.indexOf(A);this._urlChangeListeners.splice(N,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(A="",N){this._urlChangeListeners.forEach(ee=>ee(A,N))}subscribe(A,N,ee){return this._subject.subscribe({next:A,error:N,complete:ee})}static#e=this.normalizeQueryParams=se;static#t=this.joinWithSlash=X;static#n=this.stripTrailingSlash=ne;static#r=this.\u0275fac=function(N){return new(N||E)(_.LFG($e))};static#i=this.\u0275prov=_.Yz7({token:E,factory:function(){return function Ze(){return new tt((0,_.LFG)($e))}()},providedIn:"root"})}return E})();function pt(E){return E.replace(/\/index.html$/,"")}function mr(E,L){L=encodeURIComponent(L);for(const A of E.split(";")){const N=A.indexOf("="),[ee,De]=-1==N?[A,""]:[A.slice(0,N),A.slice(N+1)];if(ee.trim()===L)return decodeURIComponent(De)}return null}let Ei=(()=>{class E{constructor(A,N){this._viewContainer=A,this._context=new Sa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=N}set ngIf(A){this._context.$implicit=this._context.ngIf=A,this._updateView()}set ngIfThen(A){ia("ngIfThen",A),this._thenTemplateRef=A,this._thenViewRef=null,this._updateView()}set ngIfElse(A){ia("ngIfElse",A),this._elseTemplateRef=A,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(A,N){return!0}static#e=this.\u0275fac=function(N){return new(N||E)(_.Y36(_.s_b),_.Y36(_.Rgc))};static#t=this.\u0275dir=_.lG2({type:E,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return E})();class Sa{constructor(){this.$implicit=null,this.ngIf=null}}function ia(E,L){if(L&&!L.createEmbeddedView)throw new Error(`${E} must be a TemplateRef, but received '${(0,_.AaK)(L)}'.`)}let wn=(()=>{class E{static#e=this.\u0275fac=function(N){return new(N||E)};static#t=this.\u0275mod=_.oAB({type:E});static#n=this.\u0275inj=_.cJS({})}return E})();const Di="browser",$i="server";function Pi(E){return E===$i}let vr=(()=>{class E{static#e=this.\u0275prov=(0,_.Yz7)({token:E,providedIn:"root",factory:()=>new Zr((0,_.LFG)(ce),window)})}return E})();class Zr{constructor(L,A){this.document=L,this.window=A,this.offset=()=>[0,0]}setOffset(L){this.offset=Array.isArray(L)?()=>L:L}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(L){this.supportsScrolling()&&this.window.scrollTo(L[0],L[1])}scrollToAnchor(L){if(!this.supportsScrolling())return;const A=function wi(E,L){const A=E.getElementById(L)||E.getElementsByName(L)[0];if(A)return A;if("function"==typeof E.createTreeWalker&&E.body&&"function"==typeof E.body.attachShadow){const N=E.createTreeWalker(E.body,NodeFilter.SHOW_ELEMENT);let ee=N.currentNode;for(;ee;){const De=ee.shadowRoot;if(De){const Ve=De.getElementById(L)||De.querySelector(`[name="${L}"]`);if(Ve)return Ve}ee=N.nextNode()}}return null}(this.document,L);A&&(this.scrollToElement(A),A.focus())}setHistoryScrollRestoration(L){this.supportsScrolling()&&(this.window.history.scrollRestoration=L)}scrollToElement(L){const A=L.getBoundingClientRect(),N=A.left+this.window.pageXOffset,ee=A.top+this.window.pageYOffset,De=this.offset();this.window.scrollTo(N-De[0],ee-De[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Yr{}},5879:(ht,Te,O)=>{O.d(Te,{$8M:()=>xu,$WT:()=>Ri,$Z:()=>l_,AFp:()=>Zp,AaK:()=>se,CHM:()=>tc,CRH:()=>nE,EJc:()=>fb,EpF:()=>nv,F4k:()=>rv,FYo:()=>te,FiY:()=>Bu,GfV:()=>yt,Gpc:()=>Xe,HDt:()=>wE,JOm:()=>uu,KtG:()=>fa,LFG:()=>qe,Lbi:()=>jf,Lck:()=>KD,MMx:()=>Ry,NdJ:()=>Lg,Ojb:()=>Qp,OlP:()=>$n,Oqu:()=>$g,P3R:()=>Ph,PXZ:()=>Bb,Q6J:()=>Rg,QGY:()=>kg,Qsj:()=>Se,R0b:()=>Cs,RDi:()=>Sp,Rgc:()=>uh,SBq:()=>k,Sil:()=>gb,Suo:()=>tE,TTD:()=>cn,TgZ:()=>op,VuI:()=>IT,X6Q:()=>Kb,XFs:()=>lt,Xpm:()=>js,Xq5:()=>F_,Xts:()=>Pl,Y36:()=>Nd,YKP:()=>Ay,YNc:()=>q_,Yjl:()=>lo,Yz7:()=>Lt,Z0I:()=>sn,ZZ4:()=>wm,_Bn:()=>Sy,_UZ:()=>Ng,_c5:()=>uT,_uU:()=>Nv,aQg:()=>bm,c2e:()=>DE,cJS:()=>gn,cg1:()=>zg,dDg:()=>kb,dqk:()=>Xt,eFA:()=>xE,eJc:()=>cm,ekj:()=>Vg,eoX:()=>RE,f3M:()=>ct,g9A:()=>Vh,h0i:()=>Bl,hGG:()=>lT,iGM:()=>eE,ifc:()=>ae,ip1:()=>CE,jDz:()=>Py,kL8:()=>Jv,lG2:()=>rs,lqb:()=>ba,lri:()=>AE,n5z:()=>Es,oAB:()=>Vs,oxw:()=>cv,q4F:()=>Mt,qFp:()=>DT,qLn:()=>nl,qOj:()=>Cg,qZA:()=>ap,rWj:()=>ME,rg0:()=>ee,sBO:()=>Zb,s_b:()=>mp,soG:()=>vp,tb:()=>vm,tp0:()=>Mc,uIk:()=>wg,vHH:()=>he,vpe:()=>jc,wAp:()=>zd,xp6:()=>c_,z2F:()=>Yd,zSh:()=>Lf,zs3:()=>fc});var _=O(8645),Z=O(7394),z=O(5592),ue=O(3019),oe=O(5619),ce=O(2096),pe=O(3020),Re=O(4664),ve=O(3997);function X(e){for(let t in e)if(e[t]===X)return t;throw Error("Could not find renamed property on target object.")}function ne(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function se(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(se).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function $e(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Pe=X({__forward_ref__:X});function Xe(e){return e.__forward_ref__=Xe,e.toString=function(){return se(this())},e}function He(e){return tt(e)?e():e}function tt(e){return"function"==typeof e&&e.hasOwnProperty(Pe)&&e.__forward_ref__===Xe}function Ze(e){return e&&!!e.\u0275providers}const pt="https://g.co/ng/security#xss";class he extends Error{constructor(t,n){super(function Oe(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function me(e){return"string"==typeof e?e:null==e?"":String(e)}function vt(e,t){throw new he(-201,!1)}function st(e,t){null==e&&function V(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Lt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function gn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Mn(e){return ar(e,pr)||ar(e,ei)}function sn(e){return null!==Mn(e)}function ar(e,t){return e.hasOwnProperty(t)?e[t]:null}function Lr(e){return e&&(e.hasOwnProperty(Un)||e.hasOwnProperty(Mr))?e[Un]:null}const pr=X({\u0275prov:X}),Un=X({\u0275inj:X}),ei=X({ngInjectableDef:X}),Mr=X({ngInjectorDef:X});var lt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(lt||{});let Tt;function Ht(e){const t=Tt;return Tt=e,t}function En(e,t,n){const r=Mn(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&lt.Optional?null:void 0!==t?t:void vt(se(e))}const Xt=globalThis,gr={},jn="__NG_DI_FLAG__",Jn="ngTempTokenPath",re=/\n/gm,$="__source";let H;function fe(e){const t=H;return H=e,t}function We(e,t=lt.Default){if(void 0===H)throw new he(-203,!1);return null===H?En(e,void 0,t):H.get(e,t&lt.Optional?null:void 0,t)}function qe(e,t=lt.Default){return(function wt(){return Tt}()||We)(He(e),t)}function ct(e,t=lt.Default){return qe(e,Wt(t))}function Wt(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Ut(e){const t=[];for(let n=0;n<e.length;n++){const r=He(e[n]);if(Array.isArray(r)){if(0===r.length)throw new he(900,!1);let a,l=lt.Default;for(let f=0;f<r.length;f++){const y=r[f],w=ui(y);"number"==typeof w?-1===w?a=y.token:l|=w:a=y}t.push(qe(a,l))}else t.push(qe(r))}return t}function yn(e,t){return e[jn]=t,e.prototype[jn]=t,e}function ui(e){return e[jn]}function Y(e){return{toString:e}.toString()}var K=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(K||{}),ae=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(ae||{});const ke={},Fe=[],it=X({\u0275cmp:X}),bt=X({\u0275dir:X}),Yt=X({\u0275pipe:X}),en=X({\u0275mod:X}),Dn=X({\u0275fac:X}),mr=X({__NG_ELEMENT_ID__:X}),ts=X({__NG_ENV_ID__:X});function Lo(e,t,n){let r=e.length;for(;;){const a=e.indexOf(t,n);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const l=t.length;if(a+l===r||e.charCodeAt(a+l)<=32)return a}n=a+1}}function Us(e,t,n){let r=0;for(;r<n.length;){const a=n[r];if("number"==typeof a){if(0!==a)break;r++;const l=n[r++],f=n[r++],y=n[r++];e.setAttribute(t,f,y,l)}else{const l=a,f=n[++r];Ur(l)?e.setProperty(t,l,f):e.setAttribute(t,l,f),r++}}return r}function ra(e){return 3===e||4===e||6===e}function Ur(e){return 64===e.charCodeAt(0)}function Ds(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const a=t[r];"number"==typeof a?n=a:0===n||Fo(e,n,a,null,-1===n||2===n?t[++r]:null)}}return e}function Fo(e,t,n,r,a){let l=0,f=e.length;if(-1===t)f=-1;else for(;l<e.length;){const y=e[l++];if("number"==typeof y){if(y===t){f=-1;break}if(y>t){f=l-1;break}}}for(;l<e.length;){const y=e[l];if("number"==typeof y)break;if(y===n){if(null===r)return void(null!==a&&(e[l+1]=a));if(r===e[l+1])return void(e[l+2]=a)}l++,null!==r&&l++,null!==a&&l++}-1!==f&&(e.splice(f,0,t),l=f+1),e.splice(l++,0,n),null!==r&&e.splice(l++,0,r),null!==a&&e.splice(l++,0,a)}const Bs="ng-template";function zn(e,t,n){let r=0,a=!0;for(;r<e.length;){let l=e[r++];if("string"==typeof l&&a){const f=e[r++];if(n&&"class"===l&&-1!==Lo(f.toLowerCase(),t,0))return!0}else{if(1===l){for(;r<e.length&&"string"==typeof(l=e[r++]);)if(l.toLowerCase()===t)return!0;return!1}"number"==typeof l&&(a=!1)}}return!1}function Ei(e){return 4===e.type&&e.value!==Bs}function Sa(e,t,n){return t===(4!==e.type||n?e.value:Bs)}function ia(e,t,n){let r=4;const a=e.attrs||[],l=function Mi(e){for(let t=0;t<e.length;t++)if(ra(e[t]))return t;return e.length}(a);let f=!1;for(let y=0;y<t.length;y++){const w=t[y];if("number"!=typeof w){if(!f)if(4&r){if(r=2|1&r,""!==w&&!Sa(e,w,n)||""===w&&1===t.length){if(zr(r))return!1;f=!0}}else{const P=8&r?w:t[++y];if(8&r&&null!==e.attrs){if(!zn(e.attrs,P,n)){if(zr(r))return!1;f=!0}continue}const q=ws(8&r?"class":w,a,Ei(e),n);if(-1===q){if(zr(r))return!1;f=!0;continue}if(""!==P){let de;de=q>l?"":a[q+1].toLowerCase();const ye=8&r?de:null;if(ye&&-1!==Lo(ye,P,0)||2&r&&P!==de){if(zr(r))return!1;f=!0}}}}else{if(!f&&!zr(r)&&!zr(w))return!1;if(f&&zr(w))continue;f=!1,r=w|1&r}}return zr(r)||f}function zr(e){return 0==(1&e)}function ws(e,t,n,r){if(null===t)return-1;let a=0;if(r||!n){let l=!1;for(;a<t.length;){const f=t[a];if(f===e)return a;if(3===f||6===f)l=!0;else{if(1===f||2===f){let y=t[++a];for(;"string"==typeof y;)y=t[++a];continue}if(4===f)break;if(0===f){a+=4;continue}}a+=l?1:2}return-1}return function Ii(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function co(e,t,n=!1){for(let r=0;r<t.length;r++)if(ia(e,t[r],n))return!0;return!1}function ns(e,t){return e?":not("+t.trim()+")":t}function Ts(e){let t=e[0],n=1,r=2,a="",l=!1;for(;n<e.length;){let f=e[n];if("string"==typeof f)if(2&r){const y=e[++n];a+="["+f+(y.length>0?'="'+y+'"':"")+"]"}else 8&r?a+="."+f:4&r&&(a+=" "+f);else""!==a&&!zr(f)&&(t+=ns(l,a),a=""),r=f,l=l||!zr(r);n++}return""!==a&&(t+=ns(l,a)),t}function js(e){return Y(()=>{const t=sa(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===K.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||ae.Emulated,styles:e.styles||Fe,_:null,schemas:e.schemas||null,tView:null,id:""};fo(n);const r=e.dependencies;return n.directiveDefs=ho(r,!1),n.pipeDefs=ho(r,!0),n.id=function Gr(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const a of n)t=Math.imul(31,t)+a.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function Aa(e){return an(e)||kn(e)}function Bo(e){return null!==e}function Vs(e){return Y(()=>({type:e.type,bootstrap:e.bootstrap||Fe,declarations:e.declarations||Fe,imports:e.imports||Fe,exports:e.exports||Fe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function uo(e,t){if(null==e)return ke;const n={};for(const r in e)if(e.hasOwnProperty(r)){let a=e[r],l=a;Array.isArray(a)&&(l=a[1],a=a[0]),n[a]=r,t&&(t[a]=l)}return n}function rs(e){return Y(()=>{const t=sa(e);return fo(t),t})}function lo(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function an(e){return e[it]||null}function kn(e){return e[bt]||null}function Pr(e){return e[Yt]||null}function Ri(e){const t=an(e)||kn(e)||Pr(e);return null!==t&&t.standalone}function ti(e,t){const n=e[en]||null;if(!n&&!0===t)throw new Error(`Type ${se(e)} does not have '\u0275mod' property.`);return n}function sa(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||ke,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Fe,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:uo(e.inputs,t),outputs:uo(e.outputs)}}function fo(e){e.features?.forEach(t=>t(e))}function ho(e,t){if(!e)return null;const n=t?Pr:Aa;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(Bo)}const mn=0,ot=1,Pt=2,Ln=3,Kr=4,Ci=5,_r=6,Hs=7,wn=8,Di=9,$i=10,Nt=11,tr=12,jo=13,Pi=14,Vn=15,$s=16,Wi=17,vr=18,Zr=19,wi=20,is=21,Yr=22,Ws=23,ss=24,Gt=25,Ss=1,oa=2,yr=7,Nr=9,Rn=11;function Er(e){return Array.isArray(e)&&"object"==typeof e[Ss]}function br(e){return Array.isArray(e)&&!0===e[Ss]}function ni(e){return 0!=(4&e.flags)}function ur(e){return e.componentOffset>-1}function di(e){return 1==(1&e.flags)}function Tr(e){return!!e.template}function go(e){return 0!=(512&e[Pt])}function ri(e,t){return e.hasOwnProperty(Dn)?e[Dn]:null}let Ir=null,ds=!1;function Cr(e){const t=Ir;return Ir=e,t}const Rs={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function vo(e){if(!Yi(e)||e.dirty){if(!e.producerMustRecompute(e)&&!Eo(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function Zi(e){e.dirty=!0,function ca(e){if(void 0===e.liveConsumerNode)return;const t=ds;ds=!0;try{for(const n of e.liveConsumerNode)n.dirty||Zi(n)}finally{ds=t}}(e),e.consumerMarkedDirty?.(e)}function yo(e){return e&&(e.nextProducerIndex=0),Cr(e)}function fs(e,t){if(Cr(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Yi(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Io(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Eo(e){ki(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(vo(n),r!==n.version))return!0}return!1}function Pa(e){if(ki(e),Yi(e))for(let t=0;t<e.producerNode.length;t++)Io(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Io(e,t){if(function Ks(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),ki(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Io(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],a=e.liveConsumerNode[t];ki(a),a.producerIndexOfThis[r]=t}}function Yi(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ki(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let $o=null;function ee(e){const t=Cr(null);try{return e()}finally{Cr(t)}}const Ve=()=>{},Dt=(()=>({...Rs,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:Ve}))();class Cn{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function cn(){return Kt}function Kt(e){return e.type.prototype.ngOnChanges&&(e.setInput=dn),lr}function lr(){const e=qr(this),t=e?.current;if(t){const n=e.previous;if(n===ke)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function dn(e,t,n,r){const a=this.declaredInputs[n],l=qr(e)||function Li(e,t){return e[_n]=t}(e,{previous:ke,current:null}),f=l.current||(l.current={}),y=l.previous,w=y[a];f[a]=new Cn(w&&w.currentValue,t,y===ke),e[r]=t}cn.ngInherit=!0;const _n="__ngSimpleChanges__";function qr(e){return e[_n]||null}const Dr=function(e,t,n){};function zt(e){for(;Array.isArray(e);)e=e[mn];return e}function Do(e,t){return zt(t[e])}function rr(e,t){return zt(t[e.index])}function ec(e,t){return e.data[t]}function Qr(e,t){const n=t[e];return Er(n)?n:n[mn]}function Xr(e,t){return null==t?null:e[t]}function Go(e){e[Wi]=0}function vc(e){1024&e[Pt]||(e[Pt]|=1024,Ko(e,1))}function wo(e){1024&e[Pt]&&(e[Pt]&=-1025,Ko(e,-1))}function Ko(e,t){let n=e[Ln];if(null===n)return;n[Ci]+=t;let r=n;for(n=n[Ln];null!==n&&(1===t&&1===r[Ci]||-1===t&&0===r[Ci]);)n[Ci]+=t,r=n,n=n[Ln]}const at={lFrame:b(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function yc(){return at.bindingsEnabled}function ze(){return at.lFrame.lView}function Vt(){return at.lFrame.tView}function tc(e){return at.lFrame.contextLView=e,e[wn]}function fa(e){return at.lFrame.contextLView=null,e}function wr(){let e=Ic();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ic(){return at.lFrame.currentTNode}function gs(e,t){const n=at.lFrame;n.currentTNode=e,n.isParent=t}function gi(){return at.lFrame.isParent}function Qt(){return at.lFrame.bindingIndex++}function Ti(e,t){const n=at.lFrame;n.bindingIndex=n.bindingRootIndex=e,Si(t)}function Si(e){at.lFrame.currentDirectiveIndex=e}function $r(){return at.lFrame.currentQueryIndex}function qc(e){at.lFrame.currentQueryIndex=e}function Dc(e){const t=e[ot];return 2===t.type?t.declTNode:1===t.type?e[_r]:null}function v(e,t,n){if(n&lt.SkipSelf){let a=t,l=e;for(;!(a=a.parent,null!==a||n&lt.Host||(a=Dc(l),null===a||(l=l[Pi],10&a.type))););if(null===a)return!1;t=a,e=l}const r=at.lFrame=g();return r.currentTNode=t,r.lView=e,!0}function C(e){const t=g(),n=e[ot];at.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function g(){const e=at.lFrame,t=null===e?null:e.child;return null===t?b(e):t}function b(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function M(){const e=at.lFrame;return at.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const B=M;function J(){const e=M();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function nt(){return at.lFrame.selectedIndex}function jt(e){at.lFrame.selectedIndex=e}function dt(){const e=at.lFrame;return ec(e.tView,e.selectedIndex)}let ii=!0;function _s(){return ii}function Bt(e){ii=e}function Zo(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const l=e.data[n].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:y,ngAfterViewInit:w,ngAfterViewChecked:P,ngOnDestroy:F}=l;f&&(e.contentHooks??=[]).push(-n,f),y&&((e.contentHooks??=[]).push(n,y),(e.contentCheckHooks??=[]).push(n,y)),w&&(e.viewHooks??=[]).push(-n,w),P&&((e.viewHooks??=[]).push(n,P),(e.viewCheckHooks??=[]).push(n,P)),null!=F&&(e.destroyHooks??=[]).push(n,F)}}function nc(e,t,n){Ru(e,t,3,n)}function Kn(e,t,n,r){(3&e[Pt])===n&&Ru(e,t,n,r)}function pa(e,t){let n=e[Pt];(3&n)===t&&(n&=8191,n+=1,e[Pt]=n)}function Ru(e,t,n,r){const l=r??-1,f=t.length-1;let y=0;for(let w=void 0!==r?65535&e[Wi]:0;w<f;w++)if("number"==typeof t[w+1]){if(y=t[w],null!=r&&y>=r)break}else t[w]<0&&(e[Wi]+=65536),(y<l||-1==l)&&(wc(e,n,t,w),e[Wi]=(4294901760&e[Wi])+w+2),w++}function ka(e,t){Dr(4,e,t);const n=Cr(null);try{t.call(e)}finally{Cr(n),Dr(5,e,t)}}function wc(e,t,n,r){const a=n[r]<0,l=n[r+1],y=e[a?-n[r]:n[r]];a?e[Pt]>>13<e[Wi]>>16&&(3&e[Pt])===t&&(e[Pt]+=8192,ka(y,l)):ka(y,l)}const Xi=-1;class Ai{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function bc(e){return e!==Xi}function ma(e){return 32767&e}function Xs(e,t){let n=function La(e){return e>>16}(e),r=t;for(;n>0;)r=r[Pi],n--;return r}let Xc=!0;function _a(e){const t=Xc;return Xc=e,t}const Jc=255,xs=5;let Nu=0;const vs={};function Mo(e,t){const n=Ou(e,t);if(-1!==n)return n;const r=t[ot];r.firstCreatePass&&(e.injectorIndex=t.length,va(r.data,e),va(t,null),va(r.blueprint,null));const a=D(e,t),l=e.injectorIndex;if(bc(a)){const f=ma(a),y=Xs(a,t),w=y[ot].data;for(let P=0;P<8;P++)t[l+P]=y[f+P]|w[f+P]}return t[l+8]=a,l}function va(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Ou(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function D(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,a=t;for(;null!==a;){if(r=Tc(a),null===r)return Xi;if(n++,a=a[Pi],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Xi}function T(e,t,n){!function Ao(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(mr)&&(r=n[mr]),null==r&&(r=n[mr]=Nu++);const a=r&Jc;t.data[e+(a>>xs)]|=1<<a}(e,t,n)}function Q(e,t,n){if(n&lt.Optional||void 0!==e)return e;vt()}function le(e,t,n,r){if(n&lt.Optional&&void 0===r&&(r=null),!(n&(lt.Self|lt.Host))){const a=e[Di],l=Ht(void 0);try{return a?a.get(t,r,n&lt.Optional):En(t,r,n&lt.Optional)}finally{Ht(l)}}return Q(r,0,n)}function ge(e,t,n,r=lt.Default,a){if(null!==e){if(2048&t[Pt]&&!(r&lt.Self)){const f=function sc(e,t,n,r,a){let l=e,f=t;for(;null!==l&&null!==f&&2048&f[Pt]&&!(512&f[Pt]);){const y=Be(l,f,n,r|lt.Self,vs);if(y!==vs)return y;let w=l.parent;if(!w){const P=f[wi];if(P){const F=P.get(n,vs,r);if(F!==vs)return F}w=Tc(f),f=f[Pi]}l=w}return a}(e,t,n,r,vs);if(f!==vs)return f}const l=Be(e,t,n,r,vs);if(l!==vs)return l}return le(t,n,r,a)}function Be(e,t,n,r,a){const l=function Zt(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(mr)?e[mr]:void 0;return"number"==typeof t?t>=0?t&Jc:ys:t}(n);if("function"==typeof l){if(!v(t,e,r))return r&lt.Host?Q(a,0,r):le(t,n,r,a);try{let f;if(f=l(r),null!=f||r&lt.Optional)return f;vt()}finally{B()}}else if("number"==typeof l){let f=null,y=Ou(e,t),w=Xi,P=r&lt.Host?t[Vn][_r]:null;for((-1===y||r&lt.SkipSelf)&&(w=-1===y?D(e,t):t[y+8],w!==Xi&&Jr(r,!1)?(f=t[ot],y=ma(w),t=Xs(w,t)):y=-1);-1!==y;){const F=t[ot];if(Ot(l,y,F.data)){const q=ft(y,t,n,f,r,P);if(q!==vs)return q}w=t[y+8],w!==Xi&&Jr(r,t[ot].data[y+8]===P)&&Ot(l,y,t)?(f=F,y=ma(w),t=Xs(w,t)):y=-1}}return a}function ft(e,t,n,r,a,l){const f=t[ot],y=f.data[e+8],F=ut(y,f,n,null==r?ur(y)&&Xc:r!=f&&0!=(3&y.type),a&lt.Host&&l===y);return null!==F?It(t,f,F,y):vs}function ut(e,t,n,r,a){const l=e.providerIndexes,f=t.data,y=1048575&l,w=e.directiveStart,F=l>>20,de=a?y+F:e.directiveEnd;for(let ye=r?y:y+F;ye<de;ye++){const je=f[ye];if(ye<w&&n===je||ye>=w&&je.type===n)return ye}if(a){const ye=f[w];if(ye&&Tr(ye)&&ye.type===n)return w}return null}function It(e,t,n,r){let a=e[n];const l=t.data;if(function ga(e){return e instanceof Ai}(a)){const f=a;f.resolving&&function Ke(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new he(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Ue(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():me(e)}(l[n]));const y=_a(f.canSeeViewProviders);f.resolving=!0;const P=f.injectImpl?Ht(f.injectImpl):null;v(e,r,lt.Default);try{a=e[n]=f.factory(void 0,l,e,r),t.firstCreatePass&&n>=r.directiveStart&&function sl(e,t,n){const{ngOnChanges:r,ngOnInit:a,ngDoCheck:l}=t.type.prototype;if(r){const f=Kt(t);(n.preOrderHooks??=[]).push(e,f),(n.preOrderCheckHooks??=[]).push(e,f)}a&&(n.preOrderHooks??=[]).push(0-e,a),l&&((n.preOrderHooks??=[]).push(e,l),(n.preOrderCheckHooks??=[]).push(e,l))}(n,l[n],t)}finally{null!==P&&Ht(P),_a(y),f.resolving=!1,B()}}return a}function Ot(e,t,n){return!!(n[t+(e>>xs)]&1<<e)}function Jr(e,t){return!(e&lt.Self||e&lt.Host&&t)}class si{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return ge(this._tNode,this._lView,t,Wt(r),n)}}function ys(){return new si(wr(),ze())}function Es(e){return Y(()=>{const t=e.prototype.constructor,n=t[Dn]||Js(t),r=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==r;){const l=a[Dn]||Js(a);if(l&&l!==n)return l;a=Object.getPrototypeOf(a)}return l=>new l})}function Js(e){return tt(e)?()=>{const t=Js(He(e));return t&&t()}:ri(e)}function Tc(e){const t=e[ot],n=t.type;return 2===n?t.declTNode:1===n?e[_r]:null}function xu(e){return function x(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let a=0;for(;a<r;){const l=n[a];if(ra(l))break;if(0===l)a+=2;else if("number"==typeof l)for(a++;a<r&&"string"==typeof n[a];)a++;else{if(l===t)return n[a+1];a+=2}}}return null}(wr(),e)}const eo="__parameters__";function Bi(e,t,n){return Y(()=>{const r=function Zn(e){return function(...n){if(e){const r=e(...n);for(const a in r)this[a]=r[a]}}}(t);function a(...l){if(this instanceof a)return r.apply(this,l),this;const f=new a(...l);return y.annotation=f,y;function y(w,P,F){const q=w.hasOwnProperty(eo)?w[eo]:Object.defineProperty(w,eo,{value:[]})[eo];for(;q.length<=F;)q.push(null);return(q[F]=q[F]||[]).push(f),w}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}function Ua(e,t){e.forEach(n=>Array.isArray(n)?Ua(n,t):t(n))}function Wl(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Uu(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ks(e,t,n){let r=Ea(e,t);return r>=0?e[1|r]=n:(r=~r,function Gl(e,t,n,r){let a=e.length;if(a==t)e.push(n,r);else if(1===a)e.push(r,e[0]),e[0]=n;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function dl(e,t){const n=Ea(e,t);if(n>=0)return e[1|n]}function Ea(e,t){return function fl(e,t,n){let r=0,a=e.length>>n;for(;a!==r;){const l=r+(a-r>>1),f=e[l<<n];if(t===f)return l<<n;f>t?a=l:r=l+1}return~(a<<n)}(e,t,1)}const Bu=yn(Bi("Optional"),8),Mc=yn(Bi("SkipSelf"),4);function qo(e){return 128==(128&e.flags)}var uu=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(uu||{});const lu=new Map;let $u=0;const Oc="__ngContext__";function _i(e,t){Er(t)?(e[Oc]=t[Zr],function ai(e){lu.set(e[Zr],e)}(t)):e[Oc]=t}let ie;function _e(e,t){return ie(e,t)}function rt(e){const t=e[Ln];return br(t)?t[Ln]:t}function or(e){return hu(e[tr])}function Ls(e){return hu(e[Kr])}function hu(e){for(;null!==e&&!br(e);)e=e[Kr];return e}function Xo(e,t,n,r,a){if(null!=r){let l,f=!1;br(r)?l=r:Er(r)&&(f=!0,r=r[mn]);const y=zt(r);0===e&&null!==n?null==a?mh(t,n,y):Da(t,n,y,a||null,!0):1===e&&null!==n?Da(t,n,y,a||null,!0):2===e?function Sl(e,t,n){const r=gu(e,t);r&&function _h(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,y,f):3===e&&t.destroyNode(y),null!=l&&function _f(e,t,n,r,a){const l=n[yr];l!==zt(n)&&Xo(t,e,r,l,a);for(let y=Rn;y<n.length;y++){const w=n[y];_u(w[ot],w,e,t,r,l)}}(t,e,l,n,a)}}function Wa(e,t,n){return e.createElement(t,n)}function dd(e,t){const n=e[Nr],r=n.indexOf(t);wo(t),n.splice(r,1)}function kc(e,t){if(e.length<=Rn)return;const n=Rn+t,r=e[n];if(r){const a=r[$s];null!==a&&a!==e&&dd(a,r),t>0&&(e[n-1][Kr]=r[Kr]);const l=Uu(e,Rn+t);!function ud(e,t){_u(e,t,t[Nt],2,null,null),t[mn]=null,t[_r]=null}(r[ot],r);const f=l[vr];null!==f&&f.detachView(l[ot]),r[Ln]=null,r[Kr]=null,r[Pt]&=-129}return r}function Jo(e,t){if(!(256&t[Pt])){const n=t[Nt];t[Ws]&&Pa(t[Ws]),t[ss]&&Pa(t[ss]),n.destroyNode&&_u(e,t,n,3,null,null),function zu(e){let t=e[tr];if(!t)return pu(e[ot],e);for(;t;){let n=null;if(Er(t))n=t[tr];else{const r=t[Rn];r&&(n=r)}if(!n){for(;t&&!t[Kr]&&t!==e;)Er(t)&&pu(t[ot],t),t=t[Ln];null===t&&(t=e),Er(t)&&pu(t[ot],t),n=t&&t[Kr]}t=n}}(t)}}function pu(e,t){if(!(256&t[Pt])){t[Pt]&=-129,t[Pt]|=256,function gh(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const a=t[n[r]];if(!(a instanceof Ai)){const l=n[r+1];if(Array.isArray(l))for(let f=0;f<l.length;f+=2){const y=a[l[f]],w=l[f+1];Dr(4,y,w);try{w.call(y)}finally{Dr(5,y,w)}}else{Dr(4,a,l);try{l.call(a)}finally{Dr(5,a,l)}}}}}(e,t),function wp(e,t){const n=e.cleanup,r=t[Hs];if(null!==n)for(let l=0;l<n.length-1;l+=2)if("string"==typeof n[l]){const f=n[l+3];f>=0?r[f]():r[-f].unsubscribe(),l+=2}else n[l].call(r[n[l+1]]);null!==r&&(t[Hs]=null);const a=t[is];if(null!==a){t[is]=null;for(let l=0;l<a.length;l++)(0,a[l])()}}(e,t),1===t[ot].type&&t[Nt].destroy();const n=t[$s];if(null!==n&&br(t[Ln])){n!==t[Ln]&&dd(n,t);const r=t[vr];null!==r&&r.detachView(e)}!function Wu(e){lu.delete(e[Zr])}(t)}}function bl(e,t,n){return function Zu(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[mn];{const{componentOffset:a}=r;if(a>-1){const{encapsulation:l}=e.data[r.directiveStart+a];if(l===ae.None||l===ae.Emulated)return null}return rr(r,n)}}(e,t.parent,n)}function Da(e,t,n,r,a){e.insertBefore(t,n,r,a)}function mh(e,t,n){e.appendChild(t,n)}function Oo(e,t,n,r,a){null!==r?Da(e,t,n,r,a):mh(e,t,n)}function gu(e,t){return e.parentNode(t)}let fd,za,vu,yh=function hf(e,t,n){return 40&e.type?rr(e,n):null};function hd(e,t,n,r){const a=bl(e,r,t),l=t[Nt],y=function no(e,t,n){return yh(e,t,n)}(r.parent||t[_r],r,t);if(null!=a)if(Array.isArray(n))for(let w=0;w<n.length;w++)Oo(l,a,n[w],y,!1);else Oo(l,a,n,y,!1);void 0!==fd&&fd(l,r,t,n,a)}function Tl(e,t){if(null!==t){const n=t.type;if(3&n)return rr(t,e);if(4&n)return mu(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Tl(e,r);{const a=e[t.index];return br(a)?mu(-1,a):zt(a)}}if(32&n)return _e(t,e)()||zt(e[t.index]);{const r=pf(e,t);return null!==r?Array.isArray(r)?r[0]:Tl(rt(e[Vn]),r):Tl(e,t.next)}}return null}function pf(e,t){return null!==t?e[Vn][_r].projection[t.projection]:null}function mu(e,t){const n=Rn+e+1;if(n<t.length){const r=t[n],a=r[ot].firstChild;if(null!==a)return Tl(r,a)}return t[yr]}function mf(e,t,n,r,a,l,f){for(;null!=n;){const y=r[n.index],w=n.type;if(f&&0===t&&(y&&_i(zt(y),r),n.flags|=2),32!=(32&n.flags))if(8&w)mf(e,t,n.child,r,a,l,!1),Xo(t,e,a,y,l);else if(32&w){const P=_e(n,r);let F;for(;F=P();)Xo(t,e,a,F,l);Xo(t,e,a,y,l)}else 16&w?Ih(e,t,r,n,a,l):Xo(t,e,a,y,l);n=f?n.projectionNext:n.next}}function _u(e,t,n,r,a,l){mf(n,r,e.firstChild,t,a,l,!1)}function Ih(e,t,n,r,a,l){const f=n[Vn],w=f[_r].projection[r.projection];if(Array.isArray(w))for(let P=0;P<w.length;P++)Xo(t,e,a,w[P],l);else{let P=w;const F=f[Ln];qo(r)&&(P.flags|=128),mf(e,t,P,F,a,l,!0)}}function Ch(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function vf(e,t,n){const{mergedAttrs:r,classes:a,styles:l}=n;null!==r&&Us(e,t,r),null!==a&&Ch(e,t,a),null!==l&&function Tp(e,t,n){e.setAttribute(t,"style",n)}(e,t,l)}function Sp(e){za=e}function Cf(e){return function If(){if(void 0===vu&&(vu=null,Xt.trustedTypes))try{vu=Xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return vu}()?.createScriptURL(e)||e}class Df{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pt})`}}function Fc(e){return e instanceof Df?e.changingThisBreaksApplicationSecurity:e}function Eu(e,t){const n=function Mp(e){return e instanceof Df&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${pt})`)}return n===t}const vd=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Iu=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Iu||{});function Rh(e){const t=Rl();return t?t.sanitize(Iu.URL,e)||"":Eu(e,"URL")?Fc(e):function io(e){return(e=String(e)).match(vd)?e:"unsafe:"+e}(me(e))}function Nf(e){const t=Rl();if(t)return Cf(t.sanitize(Iu.RESOURCE_URL,e)||"");if(Eu(e,"ResourceURL"))return Cf(Fc(e));throw new he(904,!1)}function Ph(e,t,n){return function Bp(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Nf:Rh}(t,n)(e)}function Rl(){const e=ze();return e&&e[$i].sanitizer}class $n{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Lt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Pl=new $n("ENVIRONMENT_INITIALIZER"),Nh=new $n("INJECTOR",-1),Oh=new $n("INJECTOR_DEF_TYPES");class Of{get(t,n=gr){if(n===gr){const r=new Error(`NullInjectorError: No provider for ${se(t)}!`);throw r.name="NullInjectorError",r}return n}}function jp(...e){return{\u0275providers:kh(0,e),\u0275fromNgModule:!0}}function kh(e,...t){const n=[],r=new Set;let a;const l=f=>{n.push(f)};return Ua(t,f=>{const y=f;so(y,l,[],r)&&(a||=[],a.push(y))}),void 0!==a&&Lh(a,l),n}function Lh(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:a}=e[n];Nl(a,l=>{t(l,r)})}}function so(e,t,n,r){if(!(e=He(e)))return!1;let a=null,l=Lr(e);const f=!l&&an(e);if(l||f){if(f&&!f.standalone)return!1;a=e}else{const w=e.ngModule;if(l=Lr(w),!l)return!1;a=w}const y=r.has(a);if(f){if(y)return!1;if(r.add(a),f.dependencies){const w="function"==typeof f.dependencies?f.dependencies():f.dependencies;for(const P of w)so(P,t,n,r)}}else{if(!l)return!1;{if(null!=l.imports&&!y){let P;r.add(a);try{Ua(l.imports,F=>{so(F,t,n,r)&&(P||=[],P.push(F))})}finally{}void 0!==P&&Lh(P,t)}if(!y){const P=ri(a)||(()=>new a);t({provide:a,useFactory:P,deps:Fe},a),t({provide:Oh,useValue:a,multi:!0},a),t({provide:Pl,useValue:()=>qe(a),multi:!0},a)}const w=l.providers;if(null!=w&&!y){const P=e;Nl(w,F=>{t(F,P)})}}}return a!==e&&void 0!==e.providers}function Nl(e,t){for(let n of e)Ze(n)&&(n=n.\u0275providers),Array.isArray(n)?Nl(n,t):t(n)}const Fh=X({provide:String,useValue:X});function xf(e){return null!==e&&"object"==typeof e&&Fh in e}function Cu(e){return"function"==typeof e}const Lf=new $n("Set Injector scope."),Ol={},Hp={};let Ff;function Uf(){return void 0===Ff&&(Ff=new Of),Ff}class ba{}class Id extends ba{get destroyed(){return this._destroyed}constructor(t,n,r,a){super(),this.parent=n,this.source=r,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jh(t,f=>this.processProvider(f)),this.records.set(Nh,Ju(void 0,this)),a.has("environment")&&this.records.set(ba,Ju(void 0,this));const l=this.records.get(Lf);null!=l&&"string"==typeof l.value&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(Oh.multi,Fe,lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=fe(this),r=Ht(void 0);try{return t()}finally{fe(n),Ht(r)}}get(t,n=gr,r=lt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(ts))return t[ts](this);r=Wt(r);const l=fe(this),f=Ht(void 0);try{if(!(r&lt.SkipSelf)){let w=this.records.get(t);if(void 0===w){const P=function Kp(e){return"function"==typeof e||"object"==typeof e&&e instanceof $n}(t)&&Mn(t);w=P&&this.injectableDefInScope(P)?Ju(Bf(t),Ol):null,this.records.set(t,w)}if(null!=w)return this.hydrate(t,w)}return(r&lt.Self?Uf():this.parent).get(t,n=r&lt.Optional&&n===gr?null:n)}catch(y){if("NullInjectorError"===y.name){if((y[Jn]=y[Jn]||[]).unshift(se(t)),l)throw y;return function Fr(e,t,n,r){const a=e[Jn];throw t[$]&&a.unshift(t[$]),e.message=function Vi(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=se(t);if(Array.isArray(t))a=t.map(se).join(" -> ");else if("object"==typeof t){let l=[];for(let f in t)if(t.hasOwnProperty(f)){let y=t[f];l.push(f+":"+("string"==typeof y?JSON.stringify(y):se(y)))}a=`{${l.join(", ")}}`}return`${n}${r?"("+r+")":""}[${a}]: ${e.replace(re,"\n  ")}`}("\n"+e.message,a,n,r),e.ngTokenPath=a,e[Jn]=null,e}(y,t,"R3InjectorError",this.source)}throw y}finally{Ht(f),fe(l)}}resolveInjectorInitializers(){const t=fe(this),n=Ht(void 0);try{const a=this.get(Pl.multi,Fe,lt.Self);for(const l of a)l()}finally{fe(t),Ht(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(se(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,!1)}processProvider(t){let n=Cu(t=He(t))?t:He(t&&t.provide);const r=function Wp(e){return xf(e)?Ju(void 0,e.useValue):Ju(Bh(e),Ol)}(t);if(Cu(t)||!0!==t.multi)this.records.get(n);else{let a=this.records.get(n);a||(a=Ju(void 0,Ol,!0),a.factory=()=>Ut(a.multi),this.records.set(n,a)),n=t,a.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Ol&&(n.value=Hp,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Gp(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=He(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Bf(e){const t=Mn(e),n=null!==t?t.factory:ri(e);if(null!==n)return n;if(e instanceof $n)throw new he(204,!1);if(e instanceof Function)return function $p(e){const t=e.length;if(t>0)throw function Ba(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new he(204,!1);const n=function St(e){return e&&(e[pr]||e[ei])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new he(204,!1)}function Bh(e,t,n){let r;if(Cu(e)){const a=He(e);return ri(a)||Bf(a)}if(xf(e))r=()=>He(e.useValue);else if(function Uh(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Ut(e.deps||[]));else if(function kf(e){return!(!e||!e.useExisting)}(e))r=()=>qe(He(e.useExisting));else{const a=He(e&&(e.useClass||e.provide));if(!function zp(e){return!!e.deps}(e))return ri(a)||Bf(a);r=()=>new a(...Ut(e.deps))}return r}function Ju(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function jh(e,t){for(const n of e)Array.isArray(n)?jh(n,t):n&&Ze(n)?jh(n.\u0275providers,t):t(n)}const Zp=new $n("AppId",{providedIn:"root",factory:()=>Yp}),Yp="ng",Vh=new $n("Platform Initializer"),jf=new $n("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Qp=new $n("CSP nonce",{providedIn:"root",factory:()=>function Lc(){if(void 0!==za)return za;if(typeof document<"u")return document;throw new he(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Hh=(e,t,n)=>null;function Td(e,t,n=!1){return Hh(e,t,n)}class jm{}class Kh{}class u{resolveComponentFactory(t){throw function o(e){const t=Error(`No component factory found for ${se(e)}.`);return t.ngComponent=e,t}(t)}}let h=(()=>{class e{static#e=this.NULL=new u}return e})();function I(){return S(wr(),ze())}function S(e,t){return new k(rr(e,t))}let k=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=I}return e})();function G(e){return e instanceof k?e.nativeElement:e}class te{}let Se=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Me(){const e=ze(),n=Qr(wr().index,e);return(Er(n)?n:e)[Nt]}()}return e})(),Ge=(()=>{class e{static#e=this.\u0275prov=Lt({token:e,providedIn:"root",factory:()=>null})}return e})();class yt{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Mt=new yt("16.2.7"),hn={};function Hm(e,t=null,n=null,r){const a=$m(e,t,n,r);return a.resolveInjectorInitializers(),a}function $m(e,t=null,n=null,r,a=new Set){const l=[n||Fe,jp(e)];return r=r||("object"==typeof e?void 0:se(e)),new Id(l,t||Uf(),r||null,a)}let fc=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=gr;static#t=this.NULL=new Of;static create(n,r){if(Array.isArray(n))return Hm({name:""},r,n,"");{const a=n.name??"";return Hm({name:a},n.parent,n.providers,a)}}static#n=this.\u0275prov=Lt({token:e,providedIn:"any",factory:()=>qe(Nh)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function sg(e){return e.ngOriginalError}class nl{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&sg(t);for(;n&&sg(n);)n=sg(n);return n||null}}function ag(e){return t=>{setTimeout(e,void 0,t)}}const jc=class uI extends _.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let a=t,l=n||(()=>null),f=r;if(t&&"object"==typeof t){const w=t;a=w.next?.bind(w),l=w.error?.bind(w),f=w.complete?.bind(w)}this.__isAsync&&(l=ag(l),a&&(a=ag(a)),f&&(f=ag(f)));const y=super.subscribe({next:a,error:l,complete:f});return t instanceof Z.w0&&t.add(y),y}};function zm(...e){}class Cs{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jc(!1),this.onMicrotaskEmpty=new jc(!1),this.onStable=new jc(!1),this.onError=new jc(!1),typeof Zone>"u")throw new he(908,!1);Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!r&&n,a.shouldCoalesceRunChangeDetection=r,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function lI(){const e="function"==typeof Xt.requestAnimationFrame;let t=Xt[e?"requestAnimationFrame":"setTimeout"],n=Xt[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function hI(e){const t=()=>{!function fI(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Xt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,ug(e),e.isCheckStableRunning=!0,cg(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),ug(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,a,l,f,y)=>{if(function gI(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(y))return n.invokeTask(a,l,f,y);try{return Gm(e),n.invokeTask(a,l,f,y)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||e.shouldCoalesceRunChangeDetection)&&t(),Km(e)}},onInvoke:(n,r,a,l,f,y,w)=>{try{return Gm(e),n.invoke(a,l,f,y,w)}finally{e.shouldCoalesceRunChangeDetection&&t(),Km(e)}},onHasTask:(n,r,a,l)=>{n.hasTask(a,l),r===a&&("microTask"==l.change?(e._hasPendingMicrotasks=l.microTask,ug(e),cg(e)):"macroTask"==l.change&&(e.hasPendingMacrotasks=l.macroTask))},onHandleError:(n,r,a,l)=>(n.handleError(a,l),e.runOutsideAngular(()=>e.onError.emit(l)),!1)})}(a)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Cs.isInAngularZone())throw new he(909,!1)}static assertNotInAngularZone(){if(Cs.isInAngularZone())throw new he(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,a){const l=this._inner,f=l.scheduleEventTask("NgZoneEvent: "+a,t,dI,zm,zm);try{return l.runTask(f,n,r)}finally{l.cancelTask(f)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const dI={};function cg(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ug(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Gm(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Km(e){e._nesting--,cg(e)}class pI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jc,this.onMicrotaskEmpty=new jc,this.onStable=new jc,this.onError=new jc}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,a){return t.apply(n,r)}}const Zm=new $n("",{providedIn:"root",factory:Ym});function Ym(){const e=ct(Cs);let t=!0;const n=new z.y(a=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{a.next(t),a.complete()})}),r=new z.y(a=>{let l;e.runOutsideAngular(()=>{l=e.onStable.subscribe(()=>{Cs.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,a.next(!0))})})});const f=e.onUnstable.subscribe(()=>{Cs.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),f.unsubscribe()}});return(0,ue.T)(n,r.pipe((0,pe.B)()))}function Su(e){return e instanceof Function?e():e}let lg=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Lt({token:e,providedIn:"root",factory:()=>new e})}return e})();function Gf(e){for(;e;){e[Pt]|=64;const t=rt(e);if(go(e)&&!t)return e;e=t}return null}const e_=new $n("",{providedIn:"root",factory:()=>!1});let Yh=null;function i_(e,t){return e[t]??a_()}function s_(e,t){const n=a_();n.producerNode?.length&&(e[t]=Yh,n.lView=e,Yh=o_())}const bI={...Rs,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Gf(e.lView)},lView:null};function o_(){return Object.create(bI)}function a_(){return Yh??=o_(),Yh}const fn={};function c_(e){u_(Vt(),ze(),nt()+e,!1)}function u_(e,t,n,r){if(!r)if(3==(3&t[Pt])){const l=e.preOrderCheckHooks;null!==l&&nc(t,l,n)}else{const l=e.preOrderHooks;null!==l&&Kn(t,l,0,n)}jt(n)}function Nd(e,t=lt.Default){const n=ze();return null===n?qe(e,t):ge(wr(),n,He(e),t)}function l_(){throw new Error("invalid")}function qh(e,t,n,r,a,l,f,y,w,P,F){const q=t.blueprint.slice();return q[mn]=a,q[Pt]=140|r,(null!==P||e&&2048&e[Pt])&&(q[Pt]|=2048),Go(q),q[Ln]=q[Pi]=e,q[wn]=n,q[$i]=f||e&&e[$i],q[Nt]=y||e&&e[Nt],q[Di]=w||e&&e[Di]||null,q[_r]=l,q[Zr]=function sd(){return $u++}(),q[Yr]=F,q[wi]=P,q[Vn]=2==t.type?e[Vn]:q,q}function Od(e,t,n,r,a){let l=e.data[t];if(null===l)l=function dg(e,t,n,r,a){const l=Ic(),f=gi(),w=e.data[t]=function OI(e,t,n,r,a,l){let f=t?t.injectorIndex:-1,y=0;return function Fi(){return null!==at.skipHydrationRootTNode}()&&(y|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:f,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:a,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?l:l&&l.parent,n,t,r,a);return null===e.firstChild&&(e.firstChild=w),null!==l&&(f?null==l.child&&null!==w.parent&&(l.child=w):null===l.next&&(l.next=w,w.prev=l)),w}(e,t,n,r,a),function bo(){return at.lFrame.inI18n}()&&(l.flags|=32);else if(64&l.type){l.type=n,l.value=r,l.attrs=a;const f=function Ui(){const e=at.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();l.injectorIndex=null===f?-1:f.injectorIndex}return gs(l,!0),l}function Kf(e,t,n,r){if(0===n)return-1;const a=t.length;for(let l=0;l<n;l++)t.push(r),e.blueprint.push(r),e.data.push(null);return a}function d_(e,t,n,r,a){const l=i_(t,Ws),f=nt(),y=2&r;try{jt(-1),y&&t.length>Gt&&u_(e,t,Gt,!1),Dr(y?2:0,a);const P=y?l:null,F=yo(P);try{null!==P&&(P.dirty=!1),n(r,a)}finally{fs(P,F)}}finally{y&&null===t[Ws]&&s_(t,Ws),jt(f),Dr(y?3:1,a)}}function fg(e,t,n){if(ni(t)){const r=Cr(null);try{const l=t.directiveEnd;for(let f=t.directiveStart;f<l;f++){const y=e.data[f];y.contentQueries&&y.contentQueries(1,n[f],f)}}finally{Cr(r)}}}function hg(e,t,n){yc()&&(function jI(e,t,n,r){const a=n.directiveStart,l=n.directiveEnd;ur(n)&&function KI(e,t,n){const r=rr(t,e),a=f_(n);let f=16;n.signals?f=4096:n.onPush&&(f=64);const y=Qh(e,qh(e,a,null,f,r,t,null,e[$i].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=y}(t,n,e.data[a+n.componentOffset]),e.firstCreatePass||Mo(n,t),_i(r,t);const f=n.initialInputs;for(let y=a;y<l;y++){const w=e.data[y],P=It(t,e,y,n);_i(P,t),null!==f&&ZI(0,y-a,P,w,0,f),Tr(w)&&(Qr(n.index,t)[wn]=It(t,e,y,n))}}(e,t,n,rr(n,t)),64==(64&n.flags)&&__(e,t,n))}function pg(e,t,n=rr){const r=t.localNames;if(null!==r){let a=t.index+1;for(let l=0;l<r.length;l+=2){const f=r[l+1],y=-1===f?n(t,e):e[f];e[a++]=y}}}function f_(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=gg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function gg(e,t,n,r,a,l,f,y,w,P,F){const q=Gt+r,de=q+a,ye=function SI(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:fn);return n}(q,de),je="function"==typeof P?P():P;return ye[ot]={type:e,blueprint:ye,template:n,queries:null,viewQuery:y,declTNode:t,data:ye.slice().fill(null,q),bindingStartIndex:q,expandoStartIndex:de,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:w,consts:je,incompleteFirstPass:!1,ssrId:F}}let h_=e=>null;function p_(e,t,n,r){for(let a in e)if(e.hasOwnProperty(a)){n=null===n?{}:n;const l=e[a];null===r?g_(n,t,a,l):r.hasOwnProperty(a)&&g_(n,t,r[a],l)}return n}function g_(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function mg(e,t,n,r){if(yc()){const a=null===r?null:{"":-1},l=function HI(e,t){const n=e.directiveRegistry;let r=null,a=null;if(n)for(let l=0;l<n.length;l++){const f=n[l];if(co(t,f.selectors,!1))if(r||(r=[]),Tr(f))if(null!==f.findHostDirectiveDefs){const y=[];a=a||new Map,f.findHostDirectiveDefs(f,y,a),r.unshift(...y,f),_g(e,t,y.length)}else r.unshift(f),_g(e,t,0);else a=a||new Map,f.findHostDirectiveDefs?.(f,r,a),r.push(f)}return null===r?null:[r,a]}(e,n);let f,y;null===l?f=y=null:[f,y]=l,null!==f&&m_(e,t,n,f,a,y),a&&function $I(e,t,n){if(t){const r=e.localNames=[];for(let a=0;a<t.length;a+=2){const l=n[t[a+1]];if(null==l)throw new he(-301,!1);r.push(t[a],l)}}}(n,r,a)}n.mergedAttrs=Ds(n.mergedAttrs,n.attrs)}function m_(e,t,n,r,a,l){for(let P=0;P<r.length;P++)T(Mo(n,t),e,r[P].type);!function zI(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let P=0;P<r.length;P++){const F=r[P];F.providersResolver&&F.providersResolver(F)}let f=!1,y=!1,w=Kf(e,t,r.length,null);for(let P=0;P<r.length;P++){const F=r[P];n.mergedAttrs=Ds(n.mergedAttrs,F.hostAttrs),GI(e,n,t,w,F),WI(w,F,a),null!==F.contentQueries&&(n.flags|=4),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(n.flags|=64);const q=F.type.prototype;!f&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),f=!0),!y&&(q.ngOnChanges||q.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),y=!0),w++}!function xI(e,t,n){const a=t.directiveEnd,l=e.data,f=t.attrs,y=[];let w=null,P=null;for(let F=t.directiveStart;F<a;F++){const q=l[F],de=n?n.get(q):null,je=de?de.outputs:null;w=p_(q.inputs,F,w,de?de.inputs:null),P=p_(q.outputs,F,P,je);const et=null===w||null===f||Ei(t)?null:YI(w,F,f);y.push(et)}null!==w&&(w.hasOwnProperty("class")&&(t.flags|=8),w.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=y,t.inputs=w,t.outputs=P}(e,n,l)}function __(e,t,n){const r=n.directiveStart,a=n.directiveEnd,l=n.index,f=function xa(){return at.lFrame.currentDirectiveIndex}();try{jt(l);for(let y=r;y<a;y++){const w=e.data[y],P=t[y];Si(y),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&VI(w,P)}}finally{jt(-1),Si(f)}}function VI(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function _g(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function WI(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Tr(t)&&(n[""]=e)}}function GI(e,t,n,r,a){e.data[r]=a;const l=a.factory||(a.factory=ri(a.type)),f=new Ai(l,Tr(a),Nd);e.blueprint[r]=f,n[r]=f,function UI(e,t,n,r,a){const l=a.hostBindings;if(l){let f=e.hostBindingOpCodes;null===f&&(f=e.hostBindingOpCodes=[]);const y=~t.index;(function BI(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(f)!=y&&f.push(y),f.push(n,r,l)}}(e,t,r,Kf(e,n,a.hostVars,fn),a)}function Vc(e,t,n,r,a,l){const f=rr(e,t);!function vg(e,t,n,r,a,l,f){if(null==l)e.removeAttribute(t,a,n);else{const y=null==f?me(l):f(l,r||"",a);e.setAttribute(t,a,y,n)}}(t[Nt],f,l,e.value,n,r,a)}function ZI(e,t,n,r,a,l){const f=l[t];if(null!==f)for(let y=0;y<f.length;)v_(r,n,f[y++],f[y++],f[y++])}function v_(e,t,n,r,a){const l=Cr(null);try{const f=e.inputTransforms;null!==f&&f.hasOwnProperty(r)&&(a=f[r].call(t,a)),null!==e.setInput?e.setInput(t,a,n,r):t[r]=a}finally{Cr(l)}}function YI(e,t,n){let r=null,a=0;for(;a<n.length;){const l=n[a];if(0!==l)if(5!==l){if("number"==typeof l)break;if(e.hasOwnProperty(l)){null===r&&(r=[]);const f=e[l];for(let y=0;y<f.length;y+=2)if(f[y]===t){r.push(l,f[y+1],n[a+1]);break}}a+=2}else a+=2;else a+=4}return r}function y_(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function E_(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const l=n[r+1];if(-1!==l){const f=e.data[l];qc(n[r]),f.contentQueries(2,t[l],l)}}}function Qh(e,t){return e[tr]?e[jo][Kr]=t:e[tr]=t,e[jo]=t,t}function yg(e,t,n){qc(0);const r=Cr(null);try{t(e,n)}finally{Cr(r)}}function I_(e){return e[Hs]||(e[Hs]=[])}function C_(e){return e.cleanup||(e.cleanup=[])}function w_(e,t){const n=e[Di],r=n?n.get(nl,null):null;r&&r.handleError(t)}function Eg(e,t,n,r,a){for(let l=0;l<n.length;){const f=n[l++],y=n[l++];v_(e.data[f],t[f],r,y,a)}}function qI(e,t){const n=Qr(t,e),r=n[ot];!function QI(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const a=n[mn];null!==a&&null===n[Yr]&&(n[Yr]=Td(a,n[Di])),Ig(r,n,n[wn])}function Ig(e,t,n){C(t);try{const r=e.viewQuery;null!==r&&yg(1,r,n);const a=e.template;null!==a&&d_(e,t,a,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&E_(e,t),e.staticViewQueries&&yg(2,e.viewQuery,n);const l=e.components;null!==l&&function XI(e,t){for(let n=0;n<t.length;n++)qI(e,t[n])}(t,l)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Pt]&=-5,J()}}let b_=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,a){const l=typeof Zone>"u"?null:Zone.current,f=function De(e,t,n){const r=Object.create(Dt);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const a=f=>{r.cleanupFn=f};return r.ref={notify:()=>Zi(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Eo(r))return;r.hasRun=!0;const f=yo(r);try{r.cleanupFn(),r.cleanupFn=Ve,r.fn(a)}finally{fs(r,f)}},cleanup:()=>r.cleanupFn()},r.ref}(n,P=>{this.all.has(P)&&this.queue.set(P,l)},a);let y;this.all.add(f),f.notify();const w=()=>{f.cleanup(),y?.(),this.all.delete(f),this.queue.delete(f)};return y=r?.onDestroy(w),{destroy:w}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Lt({token:e,providedIn:"root",factory:()=>new e})}return e})();function Xh(e,t,n){let r=n?e.styles:null,a=n?e.classes:null,l=0;if(null!==t)for(let f=0;f<t.length;f++){const y=t[f];"number"==typeof y?l=y:1==l?a=$e(a,y):2==l&&(r=$e(r,y+": "+t[++f]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=a:e.classesWithoutHost=a}function Zf(e,t,n,r,a=!1){for(;null!==n;){const l=t[n.index];null!==l&&r.push(zt(l)),br(l)&&T_(l,r);const f=n.type;if(8&f)Zf(e,t,n.child,r);else if(32&f){const y=_e(n,t);let w;for(;w=y();)r.push(w)}else if(16&f){const y=pf(t,n);if(Array.isArray(y))r.push(...y);else{const w=rt(t[Vn]);Zf(w[ot],w,y,r,!0)}}n=a?n.projectionNext:n.next}return r}function T_(e,t){for(let n=Rn;n<e.length;n++){const r=e[n],a=r[ot].firstChild;null!==a&&Zf(r[ot],r,a,t)}e[yr]!==e[mn]&&t.push(e[yr])}function Jh(e,t,n,r=!0){const a=t[$i],l=a.rendererFactory,f=a.afterRenderEventManager;l.begin?.(),f?.begin();try{S_(e,t,e.template,n)}catch(w){throw r&&w_(t,w),w}finally{l.end?.(),a.effectManager?.flush(),f?.end()}}function S_(e,t,n,r){const a=t[Pt];if(256!=(256&a)){t[$i].effectManager?.flush(),C(t);try{Go(t),function ms(e){return at.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&d_(e,t,n,2,r);const f=3==(3&a);if(f){const P=e.preOrderCheckHooks;null!==P&&nc(t,P,null)}else{const P=e.preOrderHooks;null!==P&&Kn(t,P,0,null),pa(t,0)}if(function t0(e){for(let t=or(e);null!==t;t=Ls(t)){if(!t[oa])continue;const n=t[Nr];for(let r=0;r<n.length;r++){vc(n[r])}}}(t),A_(t,2),null!==e.contentQueries&&E_(e,t),f){const P=e.contentCheckHooks;null!==P&&nc(t,P)}else{const P=e.contentHooks;null!==P&&Kn(t,P,1),pa(t,1)}!function TI(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=i_(t,ss);try{for(let a=0;a<n.length;a++){const l=n[a];if(l<0)jt(~l);else{const f=l,y=n[++a],w=n[++a];Ti(y,f),r.dirty=!1;const P=yo(r);try{w(2,t[f])}finally{fs(r,P)}}}}finally{null===t[ss]&&s_(t,ss),jt(-1)}}(e,t);const y=e.components;null!==y&&R_(t,y,0);const w=e.viewQuery;if(null!==w&&yg(2,w,r),f){const P=e.viewCheckHooks;null!==P&&nc(t,P)}else{const P=e.viewHooks;null!==P&&Kn(t,P,2),pa(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Pt]&=-73,wo(t)}finally{J()}}}function A_(e,t){for(let n=or(e);null!==n;n=Ls(n))for(let r=Rn;r<n.length;r++)M_(n[r],t)}function n0(e,t,n){M_(Qr(t,e),n)}function M_(e,t){if(!function Sr(e){return 128==(128&e[Pt])}(e))return;const n=e[ot],r=e[Pt];if(80&r&&0===t||1024&r||2===t)S_(n,e,n.template,e[wn]);else if(e[Ci]>0){A_(e,1);const a=n.components;null!==a&&R_(e,a,1)}}function R_(e,t,n){for(let r=0;r<t.length;r++)n0(e,t[r],n)}class Yf{get rootNodes(){const t=this._lView,n=t[ot];return Zf(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[wn]}set context(t){this._lView[wn]=t}get destroyed(){return 256==(256&this._lView[Pt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Ln];if(br(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(kc(t,r),Uu(n,r))}this._attachedToViewContainer=!1}Jo(this._lView[ot],this._lView)}onDestroy(t){!function ir(e,t){if(256==(256&e[Pt]))throw new he(911,!1);null===e[is]&&(e[is]=[]),e[is].push(t)}(this._lView,t)}markForCheck(){Gf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pt]&=-129}reattach(){this._lView[Pt]|=128}detectChanges(){Jh(this._lView[ot],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new he(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function wl(e,t){_u(e,t,t[Nt],2,null,null)}(this._lView[ot],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new he(902,!1);this._appRef=t}}class r0 extends Yf{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Jh(t[ot],t,t[wn],!1)}checkNoChanges(){}get context(){return null}}class P_ extends h{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=an(t);return new qf(n,this.ngModule)}}function N_(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class o0{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Wt(r);const a=this.injector.get(t,hn,r);return a!==hn||n===hn?a:this.parentInjector.get(t,n,r)}}class qf extends Kh{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=N_(t.inputs);if(null!==n)for(const a of r)n.hasOwnProperty(a.propName)&&(a.transform=n[a.propName]);return r}get outputs(){return N_(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Uo(e){return e.map(Ts).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,a){let l=(a=a||this.ngModule)instanceof ba?a:a?.injector;l&&null!==this.componentDef.getStandaloneInjector&&(l=this.componentDef.getStandaloneInjector(l)||l);const f=l?new o0(t,l):t,y=f.get(te,null);if(null===y)throw new he(407,!1);const q={rendererFactory:y,sanitizer:f.get(Ge,null),effectManager:f.get(b_,null),afterRenderEventManager:f.get(lg,null)},de=y.createRenderer(null,this.componentDef),ye=this.componentDef.selectors[0][0]||"div",je=r?function AI(e,t,n,r){const l=r.get(e_,!1)||n===ae.ShadowDom,f=e.selectRootElement(t,l);return function MI(e){h_(e)}(f),f}(de,r,this.componentDef.encapsulation,f):Wa(de,ye,function s0(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(ye)),kt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Qe=null;null!==je&&(Qe=Td(je,f,!0));const rn=gg(0,null,null,1,0,null,null,null,null,null,null),vn=qh(null,rn,null,kt,null,null,q,de,f,null,Qe);let fr,na;C(vn);try{const Mu=this.componentDef;let qd,Sm=null;Mu.findHostDirectiveDefs?(qd=[],Sm=new Map,Mu.findHostDirectiveDefs(Mu,qd,Sm),qd.push(Mu)):qd=[Mu];const wT=function c0(e,t){const n=e[ot],r=Gt;return e[r]=t,Od(n,r,2,"#host",null)}(vn,je),bT=function u0(e,t,n,r,a,l,f){const y=a[ot];!function l0(e,t,n,r){for(const a of e)t.mergedAttrs=Ds(t.mergedAttrs,a.hostAttrs);null!==t.mergedAttrs&&(Xh(t,t.mergedAttrs,!0),null!==n&&vf(r,n,t))}(r,e,t,f);let w=null;null!==t&&(w=Td(t,a[Di]));const P=l.rendererFactory.createRenderer(t,n);let F=16;n.signals?F=4096:n.onPush&&(F=64);const q=qh(a,f_(n),null,F,a[e.index],e,l,P,null,null,w);return y.firstCreatePass&&_g(y,e,r.length-1),Qh(a,q),a[e.index]=q}(wT,je,Mu,qd,vn,q,de);na=ec(rn,Gt),je&&function f0(e,t,n,r){if(r)Us(e,n,["ng-version",Mt.full]);else{const{attrs:a,classes:l}=function li(e){const t=[],n=[];let r=1,a=2;for(;r<e.length;){let l=e[r];if("string"==typeof l)2===a?""!==l&&t.push(l,e[++r]):8===a&&n.push(l);else{if(!zr(a))break;a=l}r++}return{attrs:t,classes:n}}(t.selectors[0]);a&&Us(e,n,a),l&&l.length>0&&Ch(e,n,l.join(" "))}}(de,Mu,je,r),void 0!==n&&function h0(e,t,n){const r=e.projection=[];for(let a=0;a<t.length;a++){const l=n[a];r.push(null!=l?Array.from(l):null)}}(na,this.ngContentSelectors,n),fr=function d0(e,t,n,r,a,l){const f=wr(),y=a[ot],w=rr(f,a);m_(y,a,f,n,null,r);for(let F=0;F<n.length;F++)_i(It(a,y,f.directiveStart+F,f),a);__(y,a,f),w&&_i(w,a);const P=It(a,y,f.directiveStart+f.componentOffset,f);if(e[wn]=a[wn]=P,null!==l)for(const F of l)F(P,t);return fg(y,f,e),P}(bT,Mu,qd,Sm,vn,[p0]),Ig(rn,vn,null)}finally{J()}return new a0(this.componentType,fr,S(na,vn),vn,na)}}class a0 extends jm{constructor(t,n,r,a,l){super(),this.location=r,this._rootLView=a,this._tNode=l,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new r0(a),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let a;if(null!==r&&(a=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const l=this._rootLView;Eg(l[ot],l,a,t,n),this.previousInputValues.set(t,n),Gf(Qr(this._tNode.index,l))}}get injector(){return new si(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function p0(){const e=wr();Zo(ze()[ot],e)}function Cg(e){let t=function O_(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let a;if(Tr(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new he(903,!1);a=t.\u0275dir}if(a){if(n){r.push(a);const f=e;f.inputs=ep(e.inputs),f.inputTransforms=ep(e.inputTransforms),f.declaredInputs=ep(e.declaredInputs),f.outputs=ep(e.outputs);const y=a.hostBindings;y&&v0(e,y);const w=a.viewQuery,P=a.contentQueries;if(w&&m0(e,w),P&&_0(e,P),ne(e.inputs,a.inputs),ne(e.declaredInputs,a.declaredInputs),ne(e.outputs,a.outputs),null!==a.inputTransforms&&(null===f.inputTransforms&&(f.inputTransforms={}),ne(f.inputTransforms,a.inputTransforms)),Tr(a)&&a.data.animation){const F=e.data;F.animation=(F.animation||[]).concat(a.data.animation)}}const l=a.features;if(l)for(let f=0;f<l.length;f++){const y=l[f];y&&y.ngInherit&&y(e),y===Cg&&(n=!1)}}t=Object.getPrototypeOf(t)}!function g0(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const a=e[r];a.hostVars=t+=a.hostVars,a.hostAttrs=Ds(a.hostAttrs,n=Ds(n,a.hostAttrs))}}(r)}function ep(e){return e===ke?{}:e===Fe?[]:e}function m0(e,t){const n=e.viewQuery;e.viewQuery=n?(r,a)=>{t(r,a),n(r,a)}:t}function _0(e,t){const n=e.contentQueries;e.contentQueries=n?(r,a,l)=>{t(r,a,l),n(r,a,l)}:t}function v0(e,t){const n=e.hostBindings;e.hostBindings=n?(r,a)=>{t(r,a),n(r,a)}:t}function F_(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const a=t[r];Array.isArray(a)&&a[2]&&(n[r]=a[2])}e.inputTransforms=n}function tp(e){return!!Dg(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Dg(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ao(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function wg(e,t,n,r){const a=ze();return ao(a,Qt(),t)&&(Vt(),Vc(dt(),a,e,t,n,r)),wg}function q_(e,t,n,r,a,l,f,y){const w=ze(),P=Vt(),F=e+Gt,q=P.firstCreatePass?function $0(e,t,n,r,a,l,f,y,w){const P=t.consts,F=Od(t,e,4,f||null,Xr(P,y));mg(t,n,F,Xr(P,w)),Zo(t,F);const q=F.tView=gg(2,F,r,a,l,t.directiveRegistry,t.pipeRegistry,null,t.schemas,P,null);return null!==t.queries&&(t.queries.template(t,F),q.queries=t.queries.embeddedTView(F)),F}(F,P,w,t,n,r,a,l,f):P.data[F];gs(q,!1);const de=Q_(P,w,q,e);_s()&&hd(P,w,de,q),_i(de,w),Qh(w,w[F]=y_(de,w,de,q)),di(q)&&hg(P,w,q),null!=f&&pg(w,q,y)}let Q_=function X_(e,t,n,r){return Bt(!0),t[Nt].createComment("")};function Rg(e,t,n){const r=ze();return ao(r,Qt(),t)&&function Ta(e,t,n,r,a,l,f,y){const w=rr(t,n);let F,P=t.inputs;!y&&null!=P&&(F=P[r])?(Eg(e,n,F,r,a),ur(t)&&function LI(e,t){const n=Qr(t,e);16&n[Pt]||(n[Pt]|=64)}(n,t.index)):3&t.type&&(r=function kI(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),a=null!=f?f(a,t.value||"",r):a,l.setProperty(w,r,a))}(Vt(),dt(),r,e,t,r[Nt],n,!1),Rg}function Pg(e,t,n,r,a){const f=a?"class":"style";Eg(e,n,t.inputs[f],f,r)}function op(e,t,n,r){const a=ze(),l=Vt(),f=Gt+e,y=a[Nt],w=l.firstCreatePass?function Z0(e,t,n,r,a,l){const f=t.consts,w=Od(t,e,2,r,Xr(f,a));return mg(t,n,w,Xr(f,l)),null!==w.attrs&&Xh(w,w.attrs,!1),null!==w.mergedAttrs&&Xh(w,w.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,w),w}(f,l,a,t,n,r):l.data[f],P=J_(l,a,w,y,t,e);a[f]=P;const F=di(w);return gs(w,!0),vf(y,P,w),32!=(32&w.flags)&&_s()&&hd(l,a,P,w),0===function Ns(){return at.lFrame.elementDepthCount}()&&_i(P,a),function Tn(){at.lFrame.elementDepthCount++}(),F&&(hg(l,a,w),fg(l,w,a)),null!==r&&pg(a,w),op}function ap(){let e=wr();gi()?function Na(){at.lFrame.isParent=!1}():(e=e.parent,gs(e,!1));const t=e;(function Ec(e){return at.skipHydrationRootTNode===e})(t)&&function da(){at.skipHydrationRootTNode=null}(),function pi(){at.lFrame.elementDepthCount--}();const n=Vt();return n.firstCreatePass&&(Zo(n,e),ni(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function rc(e){return 0!=(8&e.flags)}(t)&&Pg(n,t,ze(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Qc(e){return 0!=(16&e.flags)}(t)&&Pg(n,t,ze(),t.stylesWithoutHost,!1),ap}function Ng(e,t,n,r){return op(e,t,n,r),ap(),Ng}let J_=(e,t,n,r,a,l)=>(Bt(!0),Wa(r,a,function Os(){return at.lFrame.currentNamespace}()));function nv(){return ze()}function kg(e){return!!e&&"function"==typeof e.then}function rv(e){return!!e&&"function"==typeof e.subscribe}function Lg(e,t,n,r){const a=ze(),l=Vt(),f=wr();return function sv(e,t,n,r,a,l,f){const y=di(r),P=e.firstCreatePass&&C_(e),F=t[wn],q=I_(t);let de=!0;if(3&r.type||f){const et=rr(r,t),_t=f?f(et):et,kt=q.length,Qe=f?vn=>f(zt(vn[r.index])):r.index;let rn=null;if(!f&&y&&(rn=function eC(e,t,n,r){const a=e.cleanup;if(null!=a)for(let l=0;l<a.length-1;l+=2){const f=a[l];if(f===n&&a[l+1]===r){const y=t[Hs],w=a[l+2];return y.length>w?y[w]:null}"string"==typeof f&&(l+=2)}return null}(e,t,a,r.index)),null!==rn)(rn.__ngLastListenerFn__||rn).__ngNextListenerFn__=l,rn.__ngLastListenerFn__=l,de=!1;else{l=av(r,t,F,l,!1);const vn=n.listen(_t,a,l);q.push(l,vn),P&&P.push(a,Qe,kt,kt+1)}}else l=av(r,t,F,l,!1);const ye=r.outputs;let je;if(de&&null!==ye&&(je=ye[a])){const et=je.length;if(et)for(let _t=0;_t<et;_t+=2){const fr=t[je[_t]][je[_t+1]].subscribe(l),na=q.length;q.push(l,fr),P&&P.push(a,r.index,na,-(na+1))}}}(l,a,a[Nt],f,e,t,r),Lg}function ov(e,t,n,r){try{return Dr(6,t,n),!1!==n(r)}catch(a){return w_(e,a),!1}finally{Dr(7,t,n)}}function av(e,t,n,r,a){return function l(f){if(f===Function)return r;Gf(e.componentOffset>-1?Qr(e.index,t):t);let w=ov(t,n,r,f),P=l.__ngNextListenerFn__;for(;P;)w=ov(t,n,P,f)&&w,P=P.__ngNextListenerFn__;return a&&!1===w&&f.preventDefault(),w}}function cv(e=1){return function Ce(e){return(at.lFrame.contextLView=function Ie(e,t){for(;e>0;)t=t[Pi],e--;return t}(e,at.lFrame.contextLView))[wn]}(e)}function cp(e,t){return e<<17|t<<2}function rl(e){return e>>17&32767}function Ug(e){return 2|e}function Fl(e){return(131068&e)>>2}function Bg(e,t){return-131069&e|t<<2}function jg(e){return 1|e}function vv(e,t,n,r,a){const l=e[n+1],f=null===t;let y=r?rl(l):Fl(l),w=!1;for(;0!==y&&(!1===w||f);){const F=e[y+1];uC(e[y],t)&&(w=!0,e[y+1]=r?jg(F):Ug(F)),y=r?rl(F):Fl(F)}w&&(e[n+1]=r?Ug(l):jg(l))}function uC(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ea(e,t)>=0}function Vg(e,t){return function hc(e,t,n,r){const a=ze(),l=Vt(),f=function dr(e){const t=at.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);l.firstUpdatePass&&function Sv(e,t,n,r){const a=e.data;if(null===a[n+1]){const l=a[nt()],f=function Tv(e,t){return t>=e.expandoStartIndex}(e,n);(function Pv(e,t){return 0!=(e.flags&(t?8:16))})(l,r)&&null===t&&!f&&(t=!1),t=function vC(e,t,n,r){const a=function qi(e){const t=at.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let l=r?t.residualClasses:t.residualStyles;if(null===a)0===(r?t.classBindings:t.styleBindings)&&(n=th(n=Hg(null,e,t,n,r),t.attrs,r),l=null);else{const f=t.directiveStylingLast;if(-1===f||e[f]!==a)if(n=Hg(a,e,t,n,r),null===l){let w=function yC(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Fl(r))return e[rl(r)]}(e,t,r);void 0!==w&&Array.isArray(w)&&(w=Hg(null,e,t,w[1],r),w=th(w,t.attrs,r),function EC(e,t,n,r){e[rl(n?t.classBindings:t.styleBindings)]=r}(e,t,r,w))}else l=function IC(e,t,n){let r;const a=t.directiveEnd;for(let l=1+t.directiveStylingLast;l<a;l++)r=th(r,e[l].hostAttrs,n);return th(r,t.attrs,n)}(e,t,r)}return void 0!==l&&(r?t.residualClasses=l:t.residualStyles=l),n}(a,l,t,r),function aC(e,t,n,r,a,l){let f=l?t.classBindings:t.styleBindings,y=rl(f),w=Fl(f);e[r]=n;let F,P=!1;if(Array.isArray(n)?(F=n[1],(null===F||Ea(n,F)>0)&&(P=!0)):F=n,a)if(0!==w){const de=rl(e[y+1]);e[r+1]=cp(de,y),0!==de&&(e[de+1]=Bg(e[de+1],r)),e[y+1]=function sC(e,t){return 131071&e|t<<17}(e[y+1],r)}else e[r+1]=cp(y,0),0!==y&&(e[y+1]=Bg(e[y+1],r)),y=r;else e[r+1]=cp(w,0),0===y?y=r:e[w+1]=Bg(e[w+1],r),w=r;P&&(e[r+1]=Ug(e[r+1])),vv(e,F,r,!0),vv(e,F,r,!1),function cC(e,t,n,r,a){const l=a?e.residualClasses:e.residualStyles;null!=l&&"string"==typeof t&&Ea(l,t)>=0&&(n[r+1]=jg(n[r+1]))}(t,F,e,r,l),f=cp(y,w),l?t.classBindings=f:t.styleBindings=f}(a,l,t,n,f,r)}}(l,e,f,r),t!==fn&&ao(a,f,t)&&function Mv(e,t,n,r,a,l,f,y){if(!(3&t.type))return;const w=e.data,P=w[y+1],F=function oC(e){return 1==(1&e)}(P)?Rv(w,t,n,a,Fl(P),f):void 0;up(F)||(up(l)||function iC(e){return 2==(2&e)}(P)&&(l=Rv(w,null,n,a,y,f)),function bp(e,t,n,r,a){if(t)a?e.addClass(n,r):e.removeClass(n,r);else{let l=-1===r.indexOf("-")?void 0:uu.DashCase;null==a?e.removeStyle(n,r,l):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),l|=uu.Important),e.setStyle(n,r,a,l))}}(r,f,Do(nt(),n),a,l))}(l,l.data[nt()],a,a[Nt],e,a[f+1]=function bC(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=se(Fc(e)))),e}(t,n),r,f)}(e,t,null,!0),Vg}function Hg(e,t,n,r,a){let l=null;const f=n.directiveEnd;let y=n.directiveStylingLast;for(-1===y?y=n.directiveStart:y++;y<f&&(l=t[y],r=th(r,l.hostAttrs,a),l!==e);)y++;return null!==e&&(n.directiveStylingLast=y),r}function th(e,t,n){const r=n?1:2;let a=-1;if(null!==t)for(let l=0;l<t.length;l++){const f=t[l];"number"==typeof f?a=f:a===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ks(e,f,!!n||t[++l]))}return void 0===e?null:e}function Rv(e,t,n,r,a,l){const f=null===t;let y;for(;a>0;){const w=e[a],P=Array.isArray(w),F=P?w[1]:w,q=null===F;let de=n[a+1];de===fn&&(de=q?Fe:void 0);let ye=q?dl(de,r):F===r?de:void 0;if(P&&!up(ye)&&(ye=dl(w,r)),up(ye)&&(y=ye,f))return y;const je=e[a+1];a=f?rl(je):Fl(je)}if(null!==t){let w=l?t.residualClasses:t.residualStyles;null!=w&&(y=dl(w,r))}return y}function up(e){return void 0!==e}function Nv(e,t=""){const n=ze(),r=Vt(),a=e+Gt,l=r.firstCreatePass?Od(r,a,1,t,null):r.data[a],f=Ov(r,n,l,t,e);n[a]=f,_s()&&hd(r,n,f,l),gs(l,!1)}let Ov=(e,t,n,r,a)=>(Bt(!0),function dc(e,t){return e.createText(t)}(t[Nt],r));function $g(e){return Wg("",e,""),$g}function Wg(e,t,n){const r=ze(),a=function kd(e,t,n,r){return ao(e,Qt(),n)?t+me(n)+r:fn}(r,e,t,n);return a!==fn&&function Au(e,t,n){const r=Do(t,e);!function Dl(e,t,n){e.setValue(t,n)}(e[Nt],r,n)}(r,nt(),a),Wg}const Ul=void 0;var KC=["en",[["a","p"],["AM","PM"],Ul],[["AM","PM"],Ul,Ul],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ul,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ul,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ul,"{1} 'at' {0}",Ul],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function GC(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Wd={};function zg(e){const t=function ZC(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=ey(t);if(n)return n;const r=t.split("-")[0];if(n=ey(r),n)return n;if("en"===r)return KC;throw new he(701,!1)}function Jv(e){return zg(e)[zd.PluralCase]}function ey(e){return e in Wd||(Wd[e]=Xt.ng&&Xt.ng.common&&Xt.ng.common.locales&&Xt.ng.common.locales[e]),Wd[e]}var zd=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(zd||{});const Gd="en-US";let ty=Gd;function Zg(e,t,n,r,a){if(e=He(e),Array.isArray(e))for(let l=0;l<e.length;l++)Zg(e[l],t,n,r,a);else{const l=Vt(),f=ze(),y=wr();let w=Cu(e)?e:He(e.provide);const P=Bh(e),F=1048575&y.providerIndexes,q=y.directiveStart,de=y.providerIndexes>>20;if(Cu(e)||!e.multi){const ye=new Ai(P,a,Nd),je=qg(w,t,a?F:F+de,q);-1===je?(T(Mo(y,f),l,w),Yg(l,e,t.length),t.push(w),y.directiveStart++,y.directiveEnd++,a&&(y.providerIndexes+=1048576),n.push(ye),f.push(ye)):(n[je]=ye,f[je]=ye)}else{const ye=qg(w,t,F+de,q),je=qg(w,t,F,F+de),_t=je>=0&&n[je];if(a&&!_t||!a&&!(ye>=0&&n[ye])){T(Mo(y,f),l,w);const kt=function GD(e,t,n,r,a){const l=new Ai(e,n,Nd);return l.multi=[],l.index=t,l.componentProviders=0,Ty(l,a,r&&!n),l}(a?zD:WD,n.length,a,r,P);!a&&_t&&(n[je].providerFactory=kt),Yg(l,e,t.length,0),t.push(w),y.directiveStart++,y.directiveEnd++,a&&(y.providerIndexes+=1048576),n.push(kt),f.push(kt)}else Yg(l,e,ye>-1?ye:je,Ty(n[a?je:ye],P,!a&&r));!a&&r&&_t&&n[je].componentProviders++}}}function Yg(e,t,n,r){const a=Cu(t),l=function Vp(e){return!!e.useClass}(t);if(a||l){const w=(l?He(t.useClass):t).prototype.ngOnDestroy;if(w){const P=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const F=P.indexOf(n);-1===F?P.push(n,[r,w]):P[F+1].push(r,w)}else P.push(n,w)}}}function Ty(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function qg(e,t,n,r){for(let a=n;a<r;a++)if(t[a]===e)return a;return-1}function WD(e,t,n,r){return Qg(this.multi,[])}function zD(e,t,n,r){const a=this.multi;let l;if(this.providerFactory){const f=this.providerFactory.componentProviders,y=It(n,n[ot],this.providerFactory.index,r);l=y.slice(0,f),Qg(a,l);for(let w=f;w<y.length;w++)l.push(y[w])}else l=[],Qg(a,l);return l}function Qg(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Sy(e,t=[]){return n=>{n.providersResolver=(r,a)=>function $D(e,t,n){const r=Vt();if(r.firstCreatePass){const a=Tr(e);Zg(n,r.data,r.blueprint,a,!0),Zg(t,r.data,r.blueprint,a,!1)}}(r,a?a(e):e,t)}}class Bl{}class Ay{}function KD(e,t){return new Xg(e,t??null,[])}class Xg extends Bl{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new P_(this);const a=ti(t);this._bootstrapComponents=Su(a.bootstrap),this._r3Injector=$m(t,n,[{provide:Bl,useValue:this},{provide:h,useValue:this.componentFactoryResolver},...r],se(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Jg extends Ay{constructor(t){super(),this.moduleType=t}create(t){return new Xg(this.moduleType,t,[])}}class My extends Bl{constructor(t){super(),this.componentFactoryResolver=new P_(this),this.instance=null;const n=new Id([...t.providers,{provide:Bl,useValue:this},{provide:h,useValue:this.componentFactoryResolver}],t.parent||Uf(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Ry(e,t,n=null){return new My({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let YD=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=kh(0,n.type),a=r.length>0?Ry([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,a)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Lt({token:e,providedIn:"environment",factory:()=>new e(qe(ba))})}return e})();function Py(e){e.getStandaloneInjector=t=>t.get(YD).getOrCreateStandaloneInjector(e)}function Iw(){return this._results[Symbol.iterator]()}class tm{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new jc)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=tm.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Iw)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const a=function to(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function $l(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let a=e[r],l=t[r];if(n&&(a=n(a),l=n(l)),l!==a)return!1}return!0}(r._results,a,n))&&(r._results=a,r.length=a.length,r.last=a[this.length-1],r.first=a[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Dw(e,t,n,r=!0){const a=t[ot];if(function Gu(e,t,n,r){const a=Rn+r,l=n.length;r>0&&(n[a-1][Kr]=t),r<l-Rn?(t[Kr]=n[a],Wl(n,Rn+r,t)):(n.push(t),t[Kr]=null),t[Ln]=n;const f=t[$s];null!==f&&n!==f&&function Ku(e,t){const n=e[Nr];t[Vn]!==t[Ln][Ln][Vn]&&(e[oa]=!0),null===n?e[Nr]=[t]:n.push(t)}(f,t);const y=t[vr];null!==y&&y.insertView(e),t[Pt]|=128}(a,t,e,n),r){const l=mu(n,e),f=t[Nt],y=gu(f,e[yr]);null!==y&&function ld(e,t,n,r,a,l){r[mn]=a,r[_r]=t,_u(e,r,n,1,a,l)}(a,e[_r],f,t,y,l)}}let uh=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Tw}return e})();const ww=uh,bw=class extends ww{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const a=function Cw(e,t,n,r){const a=t.tView,y=qh(e,a,n,4096&e[Pt]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);y[$s]=e[t.index];const P=e[vr];return null!==P&&(y[vr]=P.createEmbeddedView(a)),Ig(a,y,n),y}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new Yf(a)}};function Tw(){return pp(wr(),ze())}function pp(e,t){return 4&e.type?new bw(t,e,S(e,t)):null}let mp=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Nw}return e})();function Nw(){return Yy(wr(),ze())}const Ow=mp,Ky=class extends Ow{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return S(this._hostTNode,this._hostLView)}get injector(){return new si(this._hostTNode,this._hostLView)}get parentInjector(){const t=D(this._hostTNode,this._hostLView);if(bc(t)){const n=Xs(t,this._hostLView),r=ma(t);return new si(n[ot].data[r+8],n)}return new si(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Zy(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Rn}createEmbeddedView(t,n,r){let a,l;"number"==typeof r?a=r:null!=r&&(a=r.index,l=r.injector);const y=t.createEmbeddedViewImpl(n||{},l,null);return this.insertImpl(y,a,false),y}createComponent(t,n,r,a,l){const f=t&&!function eu(e){return"function"==typeof e}(t);let y;if(f)y=n;else{const et=n||{};y=et.index,r=et.injector,a=et.projectableNodes,l=et.environmentInjector||et.ngModuleRef}const w=f?t:new qf(an(t)),P=r||this.parentInjector;if(!l&&null==w.ngModule){const _t=(f?P:this.parentInjector).get(ba,null);_t&&(l=_t)}an(w.componentType??{});const ye=w.create(P,a,null,l);return this.insertImpl(ye.hostView,y,false),ye}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const a=t._lView;if(function Kc(e){return br(e[Ln])}(a)){const w=this.indexOf(t);if(-1!==w)this.detach(w);else{const P=a[Ln],F=new Ky(P,P[_r],P[Ln]);F.detach(F.indexOf(t))}}const f=this._adjustIndex(n),y=this._lContainer;return Dw(y,a,f,!r),t.attachToViewContainerRef(),Wl(nm(y),f,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Zy(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=kc(this._lContainer,n);r&&(Uu(nm(this._lContainer),n),Jo(r[ot],r))}detach(t){const n=this._adjustIndex(t,-1),r=kc(this._lContainer,n);return r&&null!=Uu(nm(this._lContainer),n)?new Yf(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Zy(e){return e[8]}function nm(e){return e[8]||(e[8]=[])}function Yy(e,t){let n;const r=t[e.index];return br(r)?n=r:(n=y_(r,t,null,e),t[e.index]=n,Qh(t,n)),qy(n,t,e,r),new Ky(n,e,t)}let qy=function Qy(e,t,n,r){if(e[yr])return;let a;a=8&n.type?zt(r):function xw(e,t){const n=e[Nt],r=n.createComment(""),a=rr(t,e);return Da(n,gu(n,a),r,function vh(e,t){return e.nextSibling(t)}(n,a),!1),r}(t,n),e[yr]=a};class rm{constructor(t){this.queryList=t,this.matches=null}clone(){return new rm(this.queryList)}setDirty(){this.queryList.setDirty()}}class im{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,a=[];for(let l=0;l<r;l++){const f=n.getByIndex(l);a.push(this.queries[f.indexInDeclarationView].clone())}return new im(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==sE(t,n).matches&&this.queries[n].setDirty()}}class Xy{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class sm{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const a=null!==n?n.length:0,l=this.getByIndex(r).embeddedTView(t,a);l&&(l.indexInDeclarationView=r,null!==n?n.push(l):n=[l])}return null!==n?new sm(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class om{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new om(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let a=0;a<r.length;a++){const l=r[a];this.matchTNodeWithReadOption(t,n,Fw(n,l)),this.matchTNodeWithReadOption(t,n,ut(n,t,l,!1,!1))}else r===uh?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,ut(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const a=this.metadata.read;if(null!==a)if(a===k||a===mp||a===uh&&4&n.type)this.addMatch(n.index,-2);else{const l=ut(n,t,a,!1,!1);null!==l&&this.addMatch(n.index,l)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function Fw(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Bw(e,t,n,r){return-1===n?function Uw(e,t){return 11&e.type?S(e,t):4&e.type?pp(e,t):null}(t,e):-2===n?function jw(e,t,n){return n===k?S(t,e):n===uh?pp(t,e):n===mp?Yy(t,e):void 0}(e,t,r):It(e,e[ot],n,t)}function Jy(e,t,n,r){const a=t[vr].queries[r];if(null===a.matches){const l=e.data,f=n.matches,y=[];for(let w=0;w<f.length;w+=2){const P=f[w];y.push(P<0?null:Bw(t,l[P],f[w+1],n.metadata.read))}a.matches=y}return a.matches}function am(e,t,n,r){const a=e.queries.getByIndex(n),l=a.matches;if(null!==l){const f=Jy(e,t,a,n);for(let y=0;y<l.length;y+=2){const w=l[y];if(w>0)r.push(f[y/2]);else{const P=l[y+1],F=t[-w];for(let q=Rn;q<F.length;q++){const de=F[q];de[$s]===de[Ln]&&am(de[ot],de,P,r)}if(null!==F[Nr]){const q=F[Nr];for(let de=0;de<q.length;de++){const ye=q[de];am(ye[ot],ye,P,r)}}}}}return r}function eE(e){const t=ze(),n=Vt(),r=$r();qc(r+1);const a=sE(n,r);if(e.dirty&&function Gc(e){return 4==(4&e[Pt])}(t)===(2==(2&a.metadata.flags))){if(null===a.matches)e.reset([]);else{const l=a.crossesNgTemplate?am(n,t,r,[]):Jy(n,t,a,r);e.reset(l,G),e.notifyOnChanges()}return!0}return!1}function tE(e,t,n,r){const a=Vt();if(a.firstCreatePass){const l=wr();(function iE(e,t,n){null===e.queries&&(e.queries=new sm),e.queries.track(new om(t,n))})(a,new Xy(t,n,r),l.index),function $w(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(a,e),2==(2&n)&&(a.staticContentQueries=!0)}!function rE(e,t,n){const r=new tm(4==(4&n));(function NI(e,t,n,r){const a=I_(t);a.push(n),e.firstCreatePass&&C_(e).push(r,a.length-1)})(e,t,r,r.destroy),null===t[vr]&&(t[vr]=new im),t[vr].queries.push(new rm(r))}(a,ze(),n)}function nE(){return function Hw(e,t){return e[vr].queries[t].queryList}(ze(),$r())}function sE(e,t){return e.queries.getByIndex(t)}function cm(e){return!!ti(e)}const CE=new $n("Application Initializer");let hm=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=ct(CE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const a of this.appInits){const l=a();if(kg(l))n.push(l);else if(rv(l)){const f=new Promise((y,w)=>{l.subscribe({complete:y,error:w})});n.push(f)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(a=>{this.reject(a)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Lt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),DE=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Lt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const vp=new $n("LocaleId",{providedIn:"root",factory:()=>ct(vp,lt.Optional|lt.SkipSelf)||function db(){return typeof $localize<"u"&&$localize.locale||Gd}()}),fb=new $n("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let wE=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new oe.X(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Lt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class pb{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let gb=(()=>{class e{compileModuleSync(n){return new Jg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),l=Su(ti(n).declarations).reduce((f,y)=>{const w=an(y);return w&&f.push(new qf(w)),f},[]);return new pb(r,l)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Lt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const AE=new $n(""),ME=new $n("");let mm,kb=(()=>{class e{constructor(n,r,a){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,mm||(function Lb(e){mm=e}(a),a.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Cs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,a){let l=-1;r&&r>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==l),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:l,updateCb:a})}whenStable(n,r,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,a){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(qe(Cs),qe(RE),qe(ME))};static#t=this.\u0275prov=Lt({token:e,factory:e.\u0275fac})}return e})(),RE=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return mm?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Lt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),il=null;const PE=new $n("AllowMultipleToken"),_m=new $n("PlatformDestroyListeners"),vm=new $n("appBootstrapListener");class Bb{constructor(t,n){this.name=t,this.token=n}}function xE(e,t,n=[]){const r=`Platform: ${t}`,a=new $n(r);return(l=[])=>{let f=ym();if(!f||f.injector.get(PE,!1)){const y=[...n,...l,{provide:a,useValue:!0}];e?e(y):function jb(e){if(il&&!il.get(PE,!1))throw new he(400,!1);(function NE(){!function Qa(e){$o=e}(()=>{throw new he(600,!1)})})(),il=e;const t=e.get(LE);(function OE(e){e.get(Vh,null)?.forEach(n=>n())})(e)}(function kE(e=[],t){return fc.create({name:t,providers:[{provide:Lf,useValue:"platform"},{provide:_m,useValue:new Set([()=>il=null])},...e]})}(y,r))}return function Hb(e){const t=ym();if(!t)throw new he(401,!1);return t}()}}function ym(){return il?.get(LE)??null}let LE=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function $b(e="zone.js",t){return"noop"===e?new pI:"zone.js"===e?new Cs(t):e}(r?.ngZone,function FE(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return a.run(()=>{const l=function ZD(e,t,n){return new Xg(e,t,n)}(n.moduleType,this.injector,function HE(e){return[{provide:Cs,useFactory:e},{provide:Pl,multi:!0,useFactory:()=>{const t=ct(zb,{optional:!0});return()=>t.initialize()}},{provide:VE,useFactory:Wb},{provide:Zm,useFactory:Ym}]}(()=>a)),f=l.injector.get(nl,null);return a.runOutsideAngular(()=>{const y=a.onError.subscribe({next:w=>{f.handleError(w)}});l.onDestroy(()=>{Ep(this._modules,l),y.unsubscribe()})}),function UE(e,t,n){try{const r=n();return kg(r)?r.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(f,a,()=>{const y=l.injector.get(hm);return y.runInitializers(),y.donePromise.then(()=>(function ny(e){st(e,"Expected localeId to be defined"),"string"==typeof e&&(ty=e.toLowerCase().replace(/_/g,"-"))}(l.injector.get(vp,Gd)||Gd),this._moduleDoBootstrap(l),l))})})}bootstrapModule(n,r=[]){const a=BE({},r);return function Fb(e,t,n){const r=new Jg(n);return Promise.resolve(r)}(0,0,n).then(l=>this.bootstrapModuleFactory(l,a))}_moduleDoBootstrap(n){const r=n.injector.get(Yd);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(a=>r.bootstrap(a));else{if(!n.instance.ngDoBootstrap)throw new he(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new he(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(_m,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(qe(fc))};static#t=this.\u0275prov=Lt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function BE(e,t){return Array.isArray(t)?t.reduce(BE,e):{...e,...t}}let Yd=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ct(VE),this.zoneIsStable=ct(Zm),this.componentTypes=[],this.components=[],this.isStable=ct(wE).hasPendingTasks.pipe((0,Re.w)(n=>n?(0,ce.of)(!1):this.zoneIsStable),(0,ve.x)(),(0,pe.B)()),this._injector=ct(ba)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const a=n instanceof Kh;if(!this._injector.get(hm).done)throw!a&&Ri(n),new he(405,!1);let f;f=a?n:this._injector.get(h).resolveComponentFactory(n),this.componentTypes.push(f.componentType);const y=function Ub(e){return e.isBoundToModule}(f)?void 0:this._injector.get(Bl),P=f.create(fc.NULL,[],r||f.selector,y),F=P.location.nativeElement,q=P.injector.get(AE,null);return q?.registerApplication(F),P.onDestroy(()=>{this.detachView(P.hostView),Ep(this.components,P),q?.unregisterApplication(F)}),this._loadComponent(P),P}tick(){if(this._runningTick)throw new he(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Ep(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(vm,[]);r.push(...this._bootstrapListeners),r.forEach(a=>a(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ep(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new he(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Lt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ep(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const VE=new $n("",{providedIn:"root",factory:()=>ct(nl).handleError.bind(void 0)});function Wb(){const e=ct(Cs),t=ct(nl);return n=>e.runOutsideAngular(()=>t.handleError(n))}let zb=(()=>{class e{constructor(){this.zone=ct(Cs),this.applicationRef=ct(Yd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Lt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Kb(){return!1}let Zb=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Yb}return e})();function Yb(e){return function qb(e,t,n){if(ur(e)&&!n){const r=Qr(e.index,t);return new Yf(r,r)}return 47&e.type?new Yf(t[Vn],t):null}(wr(),ze(),16==(16&e))}class GE{constructor(){}supports(t){return tp(t)}create(t){return new nT(t)}}const tT=(e,t)=>t;class nT{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||tT}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,a=0,l=null;for(;n||r;){const f=!r||n&&n.currentIndex<ZE(r,a,l)?n:r,y=ZE(f,a,l),w=f.currentIndex;if(f===r)a--,r=r._nextRemoved;else if(n=n._next,null==f.previousIndex)a++;else{l||(l=[]);const P=y-a,F=w-a;if(P!=F){for(let de=0;de<P;de++){const ye=de<l.length?l[de]:l[de]=0,je=ye+de;F<=je&&je<P&&(l[de]=ye+1)}l[f.previousIndex]=F-P}}y!==w&&t(f,y,w)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!tp(t))throw new he(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,l,f,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let y=0;y<this.length;y++)l=t[y],f=this._trackByFn(y,l),null!==n&&Object.is(n.trackById,f)?(r&&(n=this._verifyReinsertion(n,l,f,y)),Object.is(n.item,l)||this._addIdentityChange(n,l)):(n=this._mismatch(n,l,f,y),r=!0),n=n._next}else a=0,function b0(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,y=>{f=this._trackByFn(a,y),null!==n&&Object.is(n.trackById,f)?(r&&(n=this._verifyReinsertion(n,y,f,a)),Object.is(n.item,y)||this._addIdentityChange(n,y)):(n=this._mismatch(n,y,f,a),r=!0),n=n._next,a++}),this.length=a;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,a){let l;return null===t?l=this._itTail:(l=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,l,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,a))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,l,a)):t=this._addAfter(new rT(n,r),l,a),t}_verifyReinsertion(t,n,r,a){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==l?t=this._reinsertAfter(l,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,l=t._nextRemoved;return null===a?this._removalsHead=l:a._nextRemoved=l,null===l?this._removalsTail=a:l._prevRemoved=a,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const a=null===n?this._itHead:n._next;return t._next=a,t._prev=n,null===a?this._itTail=t:a._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new KE),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new KE),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class rT{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iT{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class KE{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new iT,this.map.set(n,r)),r.add(t)}get(t,n){const a=this.map.get(t);return a?a.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ZE(e,t,n){const r=e.previousIndex;if(null===r)return r;let a=0;return n&&r<n.length&&(a=n[r]),r+t+a}class YE{constructor(){}supports(t){return t instanceof Map||Dg(t)}create(){return new sT}}class sT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Dg(t)))throw new he(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,a)=>{if(n&&n.key===a)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const l=this._getOrCreateRecordForKey(a,r);n=this._insertBeforeOrAppend(n,l)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,n);const l=a._prev,f=a._next;return l&&(l._next=f),f&&(f._prev=l),a._next=null,a._prev=null,a}const r=new oT(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class oT{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function qE(){return new wm([new GE])}let wm=(()=>{class e{static#e=this.\u0275prov=Lt({token:e,providedIn:"root",factory:qE});constructor(n){this.factories=n}static create(n,r){if(null!=r){const a=r.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||qE()),deps:[[e,new Mc,new Bu]]}}find(n){const r=this.factories.find(a=>a.supports(n));if(null!=r)return r;throw new he(901,!1)}}return e})();function QE(){return new bm([new YE])}let bm=(()=>{class e{static#e=this.\u0275prov=Lt({token:e,providedIn:"root",factory:QE});constructor(n){this.factories=n}static create(n,r){if(r){const a=r.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||QE()),deps:[[e,new Mc,new Bu]]}}find(n){const r=this.factories.find(a=>a.supports(n));if(r)return r;throw new he(901,!1)}}return e})();const uT=xE(null,"core",[]);let lT=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||e)(qe(Yd))};static#t=this.\u0275mod=Vs({type:e});static#n=this.\u0275inj=gn({})}return e})();function IT(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function DT(e){const t=an(e);if(!t)return null;const n=new qf(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},3399:(ht,Te,O)=>{O.d(Te,{Z:()=>Xe});var _=O(9058),Z=O(4537),z=O(4268),ue=O(7879);class oe{constructor(tt,Ze){this._delegate=tt,this.firebase=Ze,(0,z._addComponent)(tt,new Z.wA("app-compat",()=>this,"PUBLIC")),this.container=tt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(tt){this._delegate.automaticDataCollectionEnabled=tt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(tt=>{this._delegate.checkDestroyed(),tt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(tt,Ze=z._DEFAULT_ENTRY_NAME){var Ct;this._delegate.checkDestroyed();const pt=this._delegate.container.getProvider(tt);return!pt.isInitialized()&&"EXPLICIT"===(null===(Ct=pt.getComponent())||void 0===Ct?void 0:Ct.instantiationMode)&&pt.initialize(),pt.getImmediate({identifier:Ze})}_removeServiceInstance(tt,Ze=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(tt).clearInstance(Ze)}_addComponent(tt){(0,z._addComponent)(this._delegate,tt)}_addOrOverwriteComponent(tt){(0,z._addOrOverwriteComponent)(this._delegate,tt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pe=new _.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),X=function ve(){const He=function Re(He){const tt={},Ze={__esModule:!0,initializeApp:function he(Ke,Je={}){const Ee=z.initializeApp(Ke,Je);if((0,_.r3)(tt,Ee.name))return tt[Ee.name];const vt=new He(Ee,Ze);return tt[Ee.name]=vt,vt},app:pt,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function me(Ke){const Je=Ke.name,Ee=Je.replace("-compat","");if(z._registerComponent(Ke)&&"PUBLIC"===Ke.type){const vt=($t=pt())=>{if("function"!=typeof $t[Ee])throw pe.create("invalid-app-argument",{appName:Je});return $t[Ee]()};void 0!==Ke.serviceProps&&(0,_.ZB)(vt,Ke.serviceProps),Ze[Ee]=vt,He.prototype[Ee]=function(...$t){return this._getService.bind(this,Je).apply(this,Ke.multipleInstances?$t:[])}}return"PUBLIC"===Ke.type?Ze[Ee]:null},removeApp:function Ct(Ke){delete tt[Ke]},useAsService:function Ue(Ke,Je){return"serverAuth"===Je?null:Je},modularAPIs:z}};function pt(Ke){if(!(0,_.r3)(tt,Ke=Ke||z._DEFAULT_ENTRY_NAME))throw pe.create("no-app",{appName:Ke});return tt[Ke]}return Ze.default=Ze,Object.defineProperty(Ze,"apps",{get:function Oe(){return Object.keys(tt).map(Ke=>tt[Ke])}}),pt.App=He,Ze}(oe);return He.INTERNAL=Object.assign(Object.assign({},He.INTERNAL),{createFirebaseNamespace:ve,extendNamespace:function tt(Ze){(0,_.ZB)(He,Ze)},createSubscribe:_.ne,ErrorFactory:_.LL,deepExtend:_.ZB}),He}(),ne=new ue.Yd("@firebase/app-compat");if((0,_.jU)()&&void 0!==self.firebase){ne.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const He=self.firebase.SDK_VERSION;He&&He.indexOf("LITE")>=0&&ne.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xe=X;!function Pe(He){(0,z.registerVersion)("@firebase/app-compat","0.2.13",He)}()},4268:(ht,Te,O)=>{O.r(Te),O.d(Te,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>Xn,_DEFAULT_ENTRY_NAME:()=>lt,_addComponent:()=>En,_addOrOverwriteComponent:()=>Qn,_apps:()=>wt,_clearComponents:()=>on,_components:()=>Ht,_getProvider:()=>xn,_registerComponent:()=>Xt,_removeServiceInstance:()=>ji,deleteApp:()=>qn,getApp:()=>Yn,getApps:()=>ci,initializeApp:()=>Jt,onLog:()=>gr,registerVersion:()=>In,setLogLevel:()=>jn});var _=O(5861),Z=O(4537),z=O(7879),ue=O(9058);const oe=(Y,K)=>K.some(ae=>Y instanceof ae);let ce,pe;const X=new WeakMap,ne=new WeakMap,se=new WeakMap,$e=new WeakMap,Pe=new WeakMap;let tt={get(Y,K,ae){if(Y instanceof IDBTransaction){if("done"===K)return ne.get(Y);if("objectStoreNames"===K)return Y.objectStoreNames||se.get(Y);if("store"===K)return ae.objectStoreNames[1]?void 0:ae.objectStore(ae.objectStoreNames[0])}return he(Y[K])},set:(Y,K,ae)=>(Y[K]=ae,!0),has:(Y,K)=>Y instanceof IDBTransaction&&("done"===K||"store"===K)||K in Y};function pt(Y){return"function"==typeof Y?function Ct(Y){return Y!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Y)?function(...K){return Y.apply(Oe(this),K),he(X.get(this))}:function(...K){return he(Y.apply(Oe(this),K))}:function(K,...ae){const ke=Y.call(Oe(this),K,...ae);return se.set(ke,K.sort?K.sort():[K]),he(ke)}}(Y):(Y instanceof IDBTransaction&&function He(Y){if(ne.has(Y))return;const K=new Promise((ae,ke)=>{const Fe=()=>{Y.removeEventListener("complete",it),Y.removeEventListener("error",bt),Y.removeEventListener("abort",bt)},it=()=>{ae(),Fe()},bt=()=>{ke(Y.error||new DOMException("AbortError","AbortError")),Fe()};Y.addEventListener("complete",it),Y.addEventListener("error",bt),Y.addEventListener("abort",bt)});ne.set(Y,K)}(Y),oe(Y,function Re(){return ce||(ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Y,tt):Y)}function he(Y){if(Y instanceof IDBRequest)return function Xe(Y){const K=new Promise((ae,ke)=>{const Fe=()=>{Y.removeEventListener("success",it),Y.removeEventListener("error",bt)},it=()=>{ae(he(Y.result)),Fe()},bt=()=>{ke(Y.error),Fe()};Y.addEventListener("success",it),Y.addEventListener("error",bt)});return K.then(ae=>{ae instanceof IDBCursor&&X.set(ae,Y)}).catch(()=>{}),Pe.set(K,Y),K}(Y);if($e.has(Y))return $e.get(Y);const K=pt(Y);return K!==Y&&($e.set(Y,K),Pe.set(K,Y)),K}const Oe=Y=>Pe.get(Y),Ke=["get","getKey","getAll","getAllKeys","count"],Je=["put","add","delete","clear"],Ee=new Map;function vt(Y,K){if(!(Y instanceof IDBDatabase)||K in Y||"string"!=typeof K)return;if(Ee.get(K))return Ee.get(K);const ae=K.replace(/FromIndex$/,""),ke=K!==ae,Fe=Je.includes(ae);if(!(ae in(ke?IDBIndex:IDBObjectStore).prototype)||!Fe&&!Ke.includes(ae))return;const it=function(){var bt=(0,_.Z)(function*(Yt,...en){const Dn=this.transaction(Yt,Fe?"readwrite":"readonly");let mr=Dn.store;return ke&&(mr=mr.index(en.shift())),(yield Promise.all([mr[ae](...en),Fe&&Dn.done]))[0]});return function(en){return bt.apply(this,arguments)}}();return Ee.set(K,it),it}!function Ze(Y){tt=Y(tt)}(Y=>({...Y,get:(K,ae,ke)=>vt(K,ae)||Y.get(K,ae,ke),has:(K,ae)=>!!vt(K,ae)||Y.has(K,ae)}));class $t{constructor(K){this.container=K}getPlatformInfoString(){return this.container.getProviders().map(ae=>{if(function Wn(Y){const K=Y.getComponent();return"VERSION"===K?.type}(ae)){const ke=ae.getImmediate();return`${ke.library}/${ke.version}`}return null}).filter(ae=>ae).join(" ")}}const An="@firebase/app",At=new z.Yd("@firebase/app"),lt="[DEFAULT]",Tt={[An]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},wt=new Map,Ht=new Map;function En(Y,K){try{Y.container.addComponent(K)}catch(ae){At.debug(`Component ${K.name} failed to register with FirebaseApp ${Y.name}`,ae)}}function Qn(Y,K){Y.container.addOrOverwriteComponent(K)}function Xt(Y){const K=Y.name;if(Ht.has(K))return At.debug(`There were multiple attempts to register component ${K}.`),!1;Ht.set(K,Y);for(const ae of wt.values())En(ae,Y);return!0}function xn(Y,K){const ae=Y.container.getProvider("heartbeat").getImmediate({optional:!0});return ae&&ae.triggerHeartbeat(),Y.container.getProvider(K)}function ji(Y,K,ae=lt){xn(Y,K).clearInstance(ae)}function on(){Ht.clear()}const Rt=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Rr{constructor(K,ae,ke){this._isDeleted=!1,this._options=Object.assign({},K),this._config=Object.assign({},ae),this._name=ae.name,this._automaticDataCollectionEnabled=ae.automaticDataCollectionEnabled,this._container=ke,this.container.addComponent(new Z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this.checkDestroyed(),this._automaticDataCollectionEnabled=K}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(K){this._isDeleted=K}checkDestroyed(){if(this.isDeleted)throw Rt.create("app-deleted",{appName:this._name})}}const Xn="9.23.0";function Jt(Y,K={}){let ae=Y;"object"!=typeof K&&(K={name:K});const ke=Object.assign({name:lt,automaticDataCollectionEnabled:!1},K),Fe=ke.name;if("string"!=typeof Fe||!Fe)throw Rt.create("bad-app-name",{appName:String(Fe)});if(ae||(ae=(0,ue.aH)()),!ae)throw Rt.create("no-options");const it=wt.get(Fe);if(it){if((0,ue.vZ)(ae,it.options)&&(0,ue.vZ)(ke,it.config))return it;throw Rt.create("duplicate-app",{appName:Fe})}const bt=new Z.H0(Fe);for(const en of Ht.values())bt.addComponent(en);const Yt=new Rr(ae,ke,bt);return wt.set(Fe,Yt),Yt}function Yn(Y=lt){const K=wt.get(Y);if(!K&&Y===lt&&(0,ue.aH)())return Jt();if(!K)throw Rt.create("no-app",{appName:Y});return K}function ci(){return Array.from(wt.values())}function qn(Y){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,_.Z)(function*(Y){const K=Y.name;wt.has(K)&&(wt.delete(K),yield Promise.all(Y.container.getProviders().map(ae=>ae.delete())),Y.isDeleted=!0)})).apply(this,arguments)}function In(Y,K,ae){var ke;let Fe=null!==(ke=Tt[Y])&&void 0!==ke?ke:Y;ae&&(Fe+=`-${ae}`);const it=Fe.match(/\s|\//),bt=K.match(/\s|\//);if(it||bt){const Yt=[`Unable to register library "${Fe}" with version "${K}":`];return it&&Yt.push(`library name "${Fe}" contains illegal characters (whitespace or "/")`),it&&bt&&Yt.push("and"),bt&&Yt.push(`version name "${K}" contains illegal characters (whitespace or "/")`),void At.warn(Yt.join(" "))}Xt(new Z.wA(`${Fe}-version`,()=>({library:Fe,version:K}),"VERSION"))}function gr(Y,K){if(null!==Y&&"function"!=typeof Y)throw Rt.create("invalid-log-argument");(0,z.Am)(Y,K)}function jn(Y){(0,z.Ub)(Y)}const Jn="firebase-heartbeat-database",er=1,re="firebase-heartbeat-store";let j=null;function $(){return j||(j=function me(Y,K,{blocked:ae,upgrade:ke,blocking:Fe,terminated:it}={}){const bt=indexedDB.open(Y,K),Yt=he(bt);return ke&&bt.addEventListener("upgradeneeded",en=>{ke(he(bt.result),en.oldVersion,en.newVersion,he(bt.transaction),en)}),ae&&bt.addEventListener("blocked",en=>ae(en.oldVersion,en.newVersion,en)),Yt.then(en=>{it&&en.addEventListener("close",()=>it()),Fe&&en.addEventListener("versionchange",Dn=>Fe(Dn.oldVersion,Dn.newVersion,Dn))}).catch(()=>{}),Yt}(Jn,er,{upgrade:(Y,K)=>{0===K&&Y.createObjectStore(re)}}).catch(Y=>{throw Rt.create("idb-open",{originalErrorMessage:Y.message})})),j}function W(){return(W=(0,_.Z)(function*(Y){try{return yield(yield $()).transaction(re).objectStore(re).get(qe(Y))}catch(K){if(K instanceof ue.ZR)At.warn(K.message);else{const ae=Rt.create("idb-get",{originalErrorMessage:K?.message});At.warn(ae.message)}}})).apply(this,arguments)}function fe(Y,K){return We.apply(this,arguments)}function We(){return(We=(0,_.Z)(function*(Y,K){try{const ke=(yield $()).transaction(re,"readwrite");yield ke.objectStore(re).put(K,qe(Y)),yield ke.done}catch(ae){if(ae instanceof ue.ZR)At.warn(ae.message);else{const ke=Rt.create("idb-set",{originalErrorMessage:ae?.message});At.warn(ke.message)}}})).apply(this,arguments)}function qe(Y){return`${Y.name}!${Y.options.appId}`}class Wt{constructor(K){this.container=K,this._heartbeatsCache=null;const ae=this.container.getProvider("app").getImmediate();this._storage=new ui(ae),this._heartbeatsCachePromise=this._storage.read().then(ke=>(this._heartbeatsCache=ke,ke))}triggerHeartbeat(){var K=this;return(0,_.Z)(function*(){const ke=K.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Fe=Ut();if(null===K._heartbeatsCache&&(K._heartbeatsCache=yield K._heartbeatsCachePromise),K._heartbeatsCache.lastSentHeartbeatDate!==Fe&&!K._heartbeatsCache.heartbeats.some(it=>it.date===Fe))return K._heartbeatsCache.heartbeats.push({date:Fe,agent:ke}),K._heartbeatsCache.heartbeats=K._heartbeatsCache.heartbeats.filter(it=>{const bt=new Date(it.date).valueOf();return Date.now()-bt<=2592e6}),K._storage.overwrite(K._heartbeatsCache)})()}getHeartbeatsHeader(){var K=this;return(0,_.Z)(function*(){if(null===K._heartbeatsCache&&(yield K._heartbeatsCachePromise),null===K._heartbeatsCache||0===K._heartbeatsCache.heartbeats.length)return"";const ae=Ut(),{heartbeatsToSend:ke,unsentEntries:Fe}=function yn(Y,K=1024){const ae=[];let ke=Y.slice();for(const Fe of Y){const it=ae.find(bt=>bt.agent===Fe.agent);if(it){if(it.dates.push(Fe.date),Fr(ae)>K){it.dates.pop();break}}else if(ae.push({agent:Fe.agent,dates:[Fe.date]}),Fr(ae)>K){ae.pop();break}ke=ke.slice(1)}return{heartbeatsToSend:ae,unsentEntries:ke}}(K._heartbeatsCache.heartbeats),it=(0,ue.L)(JSON.stringify({version:2,heartbeats:ke}));return K._heartbeatsCache.lastSentHeartbeatDate=ae,Fe.length>0?(K._heartbeatsCache.heartbeats=Fe,yield K._storage.overwrite(K._heartbeatsCache)):(K._heartbeatsCache.heartbeats=[],K._storage.overwrite(K._heartbeatsCache)),it})()}}function Ut(){return(new Date).toISOString().substring(0,10)}class ui{constructor(K){this.app=K,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,_.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var K=this;return(0,_.Z)(function*(){return(yield K._canUseIndexedDBPromise)&&(yield function H(Y){return W.apply(this,arguments)}(K.app))||{heartbeats:[]}})()}overwrite(K){var ae=this;return(0,_.Z)(function*(){var ke;if(yield ae._canUseIndexedDBPromise){const it=yield ae.read();return fe(ae.app,{lastSentHeartbeatDate:null!==(ke=K.lastSentHeartbeatDate)&&void 0!==ke?ke:it.lastSentHeartbeatDate,heartbeats:K.heartbeats})}})()}add(K){var ae=this;return(0,_.Z)(function*(){var ke;if(yield ae._canUseIndexedDBPromise){const it=yield ae.read();return fe(ae.app,{lastSentHeartbeatDate:null!==(ke=K.lastSentHeartbeatDate)&&void 0!==ke?ke:it.lastSentHeartbeatDate,heartbeats:[...it.heartbeats,...K.heartbeats]})}})()}}function Fr(Y){return(0,ue.L)(JSON.stringify({version:2,heartbeats:Y})).length}!function Vi(Y){Xt(new Z.wA("platform-logger",K=>new $t(K),"PRIVATE")),Xt(new Z.wA("heartbeat",K=>new Wt(K),"PRIVATE")),In(An,"0.9.13",Y),In(An,"0.9.13","esm2017"),In("fire-js","")}("")},4097:(ht,Te,O)=>{O.d(Te,{C6:()=>_.getApps,Mq:()=>_.getApp});var _=O(4268);(0,_.registerVersion)("firebase","9.23.0","app")},120:(ht,Te,O)=>{O.d(Te,{Z:()=>_.Z});var _=O(3399);_.Z.registerVersion("firebase","9.23.0","app-compat")},8977:(ht,Te,O)=>{O.r(Te);var _=O(5861),Z=O(3399),z=O(9058),ue=O(4268),oe=O(7582),ce=O(7879),pe=O(4537);const ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Xe=function $e(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},He=function Pe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},tt=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ct=new ce.Yd("@firebase/auth");function he(p,...c){Ct.logLevel<=ce.in.ERROR&&Ct.error(`Auth (${ue.SDK_VERSION}): ${p}`,...c)}function Oe(p,...c){throw Je(p,...c)}function me(p,...c){return Je(p,...c)}function Ue(p,c,d){const m=Object.assign(Object.assign({},He()),{[c]:d});return new z.LL("auth","Firebase",m).create(c,{appName:p.name})}function Ke(p,c,d){if(!(c instanceof d))throw d.name!==c.constructor.name&&Oe(p,"argument-error"),Ue(p,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Je(p,...c){if("string"!=typeof p){const d=c[0],m=[...c.slice(1)];return m[0]&&(m[0].appName=p.name),p._errorFactory.create(d,...m)}return tt.create(p,...c)}function Ee(p,c,...d){if(!p)throw Je(c,...d)}function vt(p){const c="INTERNAL ASSERTION FAILED: "+p;throw he(c),new Error(c)}function $t(p,c){p||vt(c)}function Wn(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function An(){return"http:"===On()||"https:"===On()}function On(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class Ar{constructor(c,d){this.shortDelay=c,this.longDelay=d,$t(d>c,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function At(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(An()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function be(p,c){$t(p.emulator,"Emulator should always be set here");const{url:d}=p.emulator;return c?`${d}${c.startsWith("/")?c.slice(1):c}`:d}class we{static initialize(c,d,m){this.fetchImpl=c,d&&(this.headersImpl=d),m&&(this.responseImpl=m)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void vt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void vt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void vt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xe=new Ar(3e4,6e4);function Le(p,c){return p.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:p.tenantId}):c}function Ne(p,c,d,m){return st.apply(this,arguments)}function st(){return(st=(0,_.Z)(function*(p,c,d,m,R={}){return V(p,R,(0,_.Z)(function*(){let U={},ie={};m&&("GET"===c?ie=m:U={body:JSON.stringify(m)});const _e=(0,z.xO)(Object.assign({key:p.config.apiKey},ie)).slice(1),Ye=yield p._getAdditionalHeaders();return Ye["Content-Type"]="application/json",p.languageCode&&(Ye["X-Firebase-Locale"]=p.languageCode),we.fetch()(Lt(p,p.config.apiHost,d,_e),Object.assign({method:c,headers:Ye,referrerPolicy:"no-referrer"},U))}))})).apply(this,arguments)}function V(p,c,d){return pn.apply(this,arguments)}function pn(){return(pn=(0,_.Z)(function*(p,c,d){p._canInitEmulator=!1;const m=Object.assign(Object.assign({},Ae),c);try{const R=new xt(p),U=yield Promise.race([d(),R.promise]);R.clearNetworkTimeout();const ie=yield U.json();if("needConfirmation"in ie)throw gn(p,"account-exists-with-different-credential",ie);if(U.ok&&!("errorMessage"in ie))return ie;{const _e=U.ok?ie.errorMessage:ie.error.message,[Ye,rt]=_e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ye)throw gn(p,"credential-already-in-use",ie);if("EMAIL_EXISTS"===Ye)throw gn(p,"email-already-in-use",ie);if("USER_DISABLED"===Ye)throw gn(p,"user-disabled",ie);const mt=m[Ye]||Ye.toLowerCase().replace(/[_\s]+/g,"-");if(rt)throw Ue(p,mt,rt);Oe(p,mt)}}catch(R){if(R instanceof z.ZR)throw R;Oe(p,"network-request-failed",{message:String(R)})}})).apply(this,arguments)}function Et(p,c,d,m){return tn.apply(this,arguments)}function tn(){return(tn=(0,_.Z)(function*(p,c,d,m,R={}){const U=yield Ne(p,c,d,m,R);return"mfaPendingCredential"in U&&Oe(p,"multi-factor-auth-required",{_serverResponse:U}),U})).apply(this,arguments)}function Lt(p,c,d,m){const R=`${c}${d}?${m}`;return p.config.emulator?be(p.config,R):`${p.config.apiScheme}://${R}`}class xt{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((d,m)=>{this.timer=setTimeout(()=>m(me(this.auth,"network-request-failed")),xe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gn(p,c,d){const m={appName:p.name};d.email&&(m.email=d.email),d.phoneNumber&&(m.phoneNumber=d.phoneNumber);const R=me(p,c,m);return R.customData._tokenResponse=d,R}function sn(){return(sn=(0,_.Z)(function*(p,c){return Ne(p,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function St(){return(St=(0,_.Z)(function*(p,c){return Ne(p,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function pr(){return(pr=(0,_.Z)(function*(p,c){return Ne(p,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function Un(p){if(p)try{const c=new Date(Number(p));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function lt(){return(lt=(0,_.Z)(function*(p,c=!1){const d=(0,z.m9)(p),m=yield d.getIdToken(c),R=wt(m);Ee(R&&R.exp&&R.auth_time&&R.iat,d.auth,"internal-error");const U="object"==typeof R.firebase?R.firebase:void 0,ie=U?.sign_in_provider;return{claims:R,token:m,authTime:Un(Tt(R.auth_time)),issuedAtTime:Un(Tt(R.iat)),expirationTime:Un(Tt(R.exp)),signInProvider:ie||null,signInSecondFactor:U?.sign_in_second_factor||null}})).apply(this,arguments)}function Tt(p){return 1e3*Number(p)}function wt(p){const[c,d,m]=p.split(".");if(void 0===c||void 0===d||void 0===m)return he("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,z.tV)(d);return R?JSON.parse(R):(he("Failed to decode base64 JWT payload"),null)}catch(R){return he("Caught error parsing JWT payload as JSON",R?.toString()),null}}function En(p,c){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,_.Z)(function*(p,c,d=!1){if(d)return c;try{return yield c}catch(m){throw m instanceof z.ZR&&function Xt({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}(m)&&p.auth.currentUser===p&&(yield p.auth.signOut()),m}})).apply(this,arguments)}class xn{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var d;if(c){const m=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),m}{this.errorBackoff=3e4;const R=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(c=!1){var d=this;if(!this.isRunning)return;const m=this.getInterval(c);this.timerId=setTimeout((0,_.Z)(function*(){yield d.iteration()}),m)}iteration(){var c=this;return(0,_.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&c.schedule(!0))}c.schedule()})()}}class ji{constructor(c,d){this.createdAt=c,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=Un(this.lastLoginAt),this.creationTime=Un(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function on(p){return cr.apply(this,arguments)}function cr(){return cr=(0,_.Z)(function*(p){var c;const d=p.auth,m=yield p.getIdToken(),R=yield En(p,function Lr(p,c){return pr.apply(this,arguments)}(d,{idToken:m}));Ee(R?.users.length,d,"internal-error");const U=R.users[0];p._notifyReloadListener(U);const ie=null!==(c=U.providerUserInfo)&&void 0!==c&&c.length?function Jt(p){return p.map(c=>{var{providerId:d}=c,m=(0,oe._T)(c,["providerId"]);return{providerId:d,uid:m.rawId||"",displayName:m.displayName||null,email:m.email||null,phoneNumber:m.phoneNumber||null,photoURL:m.photoUrl||null}})}(U.providerUserInfo):[],_e=function Xn(p,c){return[...p.filter(m=>!c.some(R=>R.providerId===m.providerId)),...c]}(p.providerData,ie),mt=!!p.isAnonymous&&!(p.email&&U.passwordHash||_e?.length),gt={uid:U.localId,displayName:U.displayName||null,photoURL:U.photoUrl||null,email:U.email||null,emailVerified:U.emailVerified||!1,phoneNumber:U.phoneNumber||null,tenantId:U.tenantId||null,providerData:_e,metadata:new ji(U.createdAt,U.lastLoginAt),isAnonymous:mt};Object.assign(p,gt)}),cr.apply(this,arguments)}function Rr(){return(Rr=(0,_.Z)(function*(p){const c=(0,z.m9)(p);yield on(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function ci(){return(ci=(0,_.Z)(function*(p,c){const d=yield V(p,{},(0,_.Z)(function*(){const m=(0,z.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:R,apiKey:U}=p.config,ie=Lt(p,R,"/v1/token",`key=${U}`),_e=yield p._getAdditionalHeaders();return _e["Content-Type"]="application/x-www-form-urlencoded",we.fetch()(ie,{method:"POST",headers:_e,body:m})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}class qn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){Ee(c.idToken,"internal-error"),Ee(typeof c.idToken<"u","internal-error"),Ee(typeof c.refreshToken<"u","internal-error");const d="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function Ht(p){const c=wt(p);return Ee(c,"internal-error"),Ee(typeof c.exp<"u","internal-error"),Ee(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,d)}getToken(c,d=!1){var m=this;return(0,_.Z)(function*(){return Ee(!m.accessToken||m.refreshToken,c,"user-token-expired"),d||!m.accessToken||m.isExpired?m.refreshToken?(yield m.refresh(c,m.refreshToken),m.accessToken):null:m.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,d){var m=this;return(0,_.Z)(function*(){const{accessToken:R,refreshToken:U,expiresIn:ie}=yield function Yn(p,c){return ci.apply(this,arguments)}(c,d);m.updateTokensAndExpiration(R,U,Number(ie))})()}updateTokensAndExpiration(c,d,m){this.refreshToken=d||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*m}static fromJSON(c,d){const{refreshToken:m,accessToken:R,expirationTime:U}=d,ie=new qn;return m&&(Ee("string"==typeof m,"internal-error",{appName:c}),ie.refreshToken=m),R&&(Ee("string"==typeof R,"internal-error",{appName:c}),ie.accessToken=R),U&&(Ee("number"==typeof U,"internal-error",{appName:c}),ie.expirationTime=U),ie}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new qn,this.toJSON())}_performRefresh(){return vt("not implemented")}}function Bn(p,c){Ee("string"==typeof p||typeof p>"u","internal-error",{appName:c})}class In{constructor(c){var{uid:d,auth:m,stsTokenManager:R}=c,U=(0,oe._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=m,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=U.displayName||null,this.email=U.email||null,this.emailVerified=U.emailVerified||!1,this.phoneNumber=U.phoneNumber||null,this.photoURL=U.photoURL||null,this.isAnonymous=U.isAnonymous||!1,this.tenantId=U.tenantId||null,this.providerData=U.providerData?[...U.providerData]:[],this.metadata=new ji(U.createdAt||void 0,U.lastLoginAt||void 0)}getIdToken(c){var d=this;return(0,_.Z)(function*(){const m=yield En(d,d.stsTokenManager.getToken(d.auth,c));return Ee(m,d.auth,"internal-error"),d.accessToken!==m&&(d.accessToken=m,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),m})()}getIdTokenResult(c){return function Mr(p){return lt.apply(this,arguments)}(this,c)}reload(){return function Rt(p){return Rr.apply(this,arguments)}(this)}_assign(c){this!==c&&(Ee(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(d=>Object.assign({},d)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const d=new In(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(c){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,d=!1){var m=this;return(0,_.Z)(function*(){let R=!1;c.idToken&&c.idToken!==m.stsTokenManager.accessToken&&(m.stsTokenManager.updateFromServerResponse(c),R=!0),d&&(yield on(m)),yield m.auth._persistUserIfCurrent(m),R&&m.auth._notifyListenersIfCurrent(m)})()}delete(){var c=this;return(0,_.Z)(function*(){const d=yield c.getIdToken();return yield En(c,function Mn(p,c){return sn.apply(this,arguments)}(c.auth,{idToken:d})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,d){var m,R,U,ie,_e,Ye,rt,mt;const gt=null!==(m=d.displayName)&&void 0!==m?m:void 0,or=null!==(R=d.email)&&void 0!==R?R:void 0,Ls=null!==(U=d.phoneNumber)&&void 0!==U?U:void 0,hu=null!==(ie=d.photoURL)&&void 0!==ie?ie:void 0,Xo=null!==(_e=d.tenantId)&&void 0!==_e?_e:void 0,dc=null!==(Ye=d._redirectEventId)&&void 0!==Ye?Ye:void 0,Dl=null!==(rt=d.createdAt)&&void 0!==rt?rt:void 0,$a=null!==(mt=d.lastLoginAt)&&void 0!==mt?mt:void 0,{uid:Wa,emailVerified:ud,isAnonymous:ld,providerData:wl,stsTokenManager:zu}=d;Ee(Wa&&zu,c,"internal-error");const Gu=qn.fromJSON(this.name,zu);Ee("string"==typeof Wa,c,"internal-error"),Bn(gt,c.name),Bn(or,c.name),Ee("boolean"==typeof ud,c,"internal-error"),Ee("boolean"==typeof ld,c,"internal-error"),Bn(Ls,c.name),Bn(hu,c.name),Bn(Xo,c.name),Bn(dc,c.name),Bn(Dl,c.name),Bn($a,c.name);const Ku=new In({uid:Wa,auth:c,email:or,emailVerified:ud,displayName:gt,isAnonymous:ld,photoURL:hu,phoneNumber:Ls,tenantId:Xo,stsTokenManager:Gu,createdAt:Dl,lastLoginAt:$a});return wl&&Array.isArray(wl)&&(Ku.providerData=wl.map(dd=>Object.assign({},dd))),dc&&(Ku._redirectEventId=dc),Ku}static _fromIdTokenResponse(c,d,m=!1){return(0,_.Z)(function*(){const R=new qn;R.updateFromServerResponse(d);const U=new In({uid:d.localId,auth:c,stsTokenManager:R,isAnonymous:m});return yield on(U),U})()}}const gr=new Map;function jn(p){$t(p instanceof Function,"Expected a class definition");let c=gr.get(p);return c?($t(c instanceof p,"Instance stored in cache mismatched with class"),c):(c=new p,gr.set(p,c),c)}const er=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,_.Z)(function*(){return!0})()}_set(d,m){var R=this;return(0,_.Z)(function*(){R.storage[d]=m})()}_get(d){var m=this;return(0,_.Z)(function*(){const R=m.storage[d];return void 0===R?null:R})()}_remove(d){var m=this;return(0,_.Z)(function*(){delete m.storage[d]})()}_addListener(d,m){}_removeListener(d,m){}}return p.type="NONE",p})();function re(p,c,d){return`firebase:${p}:${c}:${d}`}class j{constructor(c,d,m){this.persistence=c,this.auth=d,this.userKey=m;const{config:R,name:U}=this.auth;this.fullUserKey=re(this.userKey,R.apiKey,U),this.fullPersistenceKey=re("persistence",R.apiKey,U),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,_.Z)(function*(){const d=yield c.persistence._get(c.fullUserKey);return d?In._fromJSON(c.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var d=this;return(0,_.Z)(function*(){if(d.persistence===c)return;const m=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=c,m?d.setCurrentUser(m):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,d,m="authUser"){return(0,_.Z)(function*(){if(!d.length)return new j(jn(er),c,m);const R=(yield Promise.all(d.map(function(){var rt=(0,_.Z)(function*(mt){if(yield mt._isAvailable())return mt});return function(mt){return rt.apply(this,arguments)}}()))).filter(rt=>rt);let U=R[0]||jn(er);const ie=re(m,c.config.apiKey,c.name);let _e=null;for(const rt of d)try{const mt=yield rt._get(ie);if(mt){const gt=In._fromJSON(c,mt);rt!==U&&(_e=gt),U=rt;break}}catch{}const Ye=R.filter(rt=>rt._shouldAllowMigration);return U._shouldAllowMigration&&Ye.length?(U=Ye[0],_e&&(yield U._set(ie,_e.toJSON())),yield Promise.all(d.map(function(){var rt=(0,_.Z)(function*(mt){if(mt!==U)try{yield mt._remove(ie)}catch{}});return function(mt){return rt.apply(this,arguments)}}())),new j(U,c,m)):new j(U,c,m)})()}}function $(p){const c=p.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(We(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(H(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(Ft(c))return"Blackberry";if(ct(c))return"Webos";if(W(c))return"Safari";if((c.includes("chrome/")||fe(c))&&!c.includes("edge/"))return"Chrome";if(qe(c))return"Android";{const m=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===m?.length)return m[1]}return"Other"}function H(p=(0,z.z$)()){return/firefox\//i.test(p)}function W(p=(0,z.z$)()){const c=p.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function fe(p=(0,z.z$)()){return/crios\//i.test(p)}function We(p=(0,z.z$)()){return/iemobile/i.test(p)}function qe(p=(0,z.z$)()){return/android/i.test(p)}function Ft(p=(0,z.z$)()){return/blackberry/i.test(p)}function ct(p=(0,z.z$)()){return/webos/i.test(p)}function Wt(p=(0,z.z$)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function Fr(p=(0,z.z$)()){return Wt(p)||qe(p)||ct(p)||Ft(p)||/windows phone/i.test(p)||We(p)}function Y(p,c=[]){let d;switch(p){case"Browser":d=$((0,z.z$)());break;case"Worker":d=`${$((0,z.z$)())}-${p}`;break;default:d=p}const m=c.length?c.join(","):"FirebaseCore-web";return`${d}/JsCore/${ue.SDK_VERSION}/${m}`}function ae(){return(ae=(0,_.Z)(function*(p){return(yield Ne(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ke(p,c){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,_.Z)(function*(p,c){return Ne(p,"GET","/v2/recaptchaConfig",Le(p,c))})).apply(this,arguments)}function it(p){return void 0!==p&&void 0!==p.getResponse}function bt(p){return void 0!==p&&void 0!==p.enterprise}class Yt{constructor(c){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.emailPasswordEnabled=c.recaptchaEnforcementState.some(d=>"EMAIL_PASSWORD_PROVIDER"===d.provider&&"OFF"!==d.enforcementState)}}function Dn(p){return new Promise((c,d)=>{const m=document.createElement("script");m.setAttribute("src",p),m.onload=c,m.onerror=R=>{const U=me("internal-error");U.customData=R,d(U)},m.type="text/javascript",m.charset="UTF-8",function en(){var p,c;return null!==(c=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==c?c:document}().appendChild(m)})}function mr(p){return`__${p}${Math.floor(1e6*Math.random())}`}class ra{constructor(c){this.type="recaptcha-enterprise",this.auth=zn(c)}verify(c="verify",d=!1){var m=this;return(0,_.Z)(function*(){function U(){return U=(0,_.Z)(function*(_e){if(!d){if(null==_e.tenantId&&null!=_e._agentRecaptchaConfig)return _e._agentRecaptchaConfig.siteKey;if(null!=_e.tenantId&&void 0!==_e._tenantRecaptchaConfigs[_e.tenantId])return _e._tenantRecaptchaConfigs[_e.tenantId].siteKey}return new Promise(function(){var Ye=(0,_.Z)(function*(rt,mt){ke(_e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(gt=>{if(void 0!==gt.recaptchaKey){const or=new Yt(gt);return null==_e.tenantId?_e._agentRecaptchaConfig=or:_e._tenantRecaptchaConfigs[_e.tenantId]=or,rt(or.siteKey)}mt(new Error("recaptcha Enterprise site key undefined"))}).catch(gt=>{mt(gt)})});return function(rt,mt){return Ye.apply(this,arguments)}}())}),U.apply(this,arguments)}function ie(_e,Ye,rt){const mt=window.grecaptcha;bt(mt)?mt.enterprise.ready(()=>{mt.enterprise.execute(_e,{action:c}).then(gt=>{Ye(gt)}).catch(()=>{Ye("NO_RECAPTCHA")})}):rt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((_e,Ye)=>{(function R(_e){return U.apply(this,arguments)})(m.auth).then(rt=>{if(!d&&bt(window.grecaptcha))ie(rt,_e,Ye);else{if(typeof window>"u")return void Ye(new Error("RecaptchaVerifier is only supported in browser"));Dn("https://www.google.com/recaptcha/enterprise.js?render="+rt).then(()=>{ie(rt,_e,Ye)}).catch(mt=>{Ye(mt)})}}).catch(rt=>{Ye(rt)})})})()}}function Ur(p,c,d){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,_.Z)(function*(p,c,d,m=!1){const R=new ra(p);let U;try{U=yield R.verify(d)}catch{U=yield R.verify(d,!0)}const ie=Object.assign({},c);return Object.assign(ie,m?{captchaResp:U}:{captchaResponse:U}),Object.assign(ie,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ie,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ie})).apply(this,arguments)}class Fo{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,d){const m=U=>new Promise((ie,_e)=>{try{ie(c(U))}catch(Ye){_e(Ye)}});m.onAbort=d,this.queue.push(m);const R=this.queue.length-1;return()=>{this.queue[R]=()=>Promise.resolve()}}runMiddleware(c){var d=this;return(0,_.Z)(function*(){if(d.auth.currentUser===c)return;const m=[];try{for(const R of d.queue)yield R(c),R.onAbort&&m.push(R.onAbort)}catch(R){m.reverse();for(const U of m)try{U()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:R?.message})}})()}}class Bs{constructor(c,d,m,R){this.app=c,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=m,this.config=R,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ei(this),this.idTokenSubscription=new Ei(this),this.beforeStateQueue=new Fo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=R.sdkClientVersion}_initializeWithPersistence(c,d){var m=this;return d&&(this._popupRedirectResolver=jn(d)),this._initializationPromise=this.queue((0,_.Z)(function*(){var R,U;if(!m._deleted&&(m.persistenceManager=yield j.create(m,c),!m._deleted)){if(null!==(R=m._popupRedirectResolver)&&void 0!==R&&R._shouldInitProactively)try{yield m._popupRedirectResolver._initialize(m)}catch{}yield m.initializeCurrentUser(d),m.lastNotifiedUid=(null===(U=m.currentUser)||void 0===U?void 0:U.uid)||null,!m._deleted&&(m._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,_.Z)(function*(){if(c._deleted)return;const d=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||d){if(c.currentUser&&d&&c.currentUser.uid===d.uid)return c._currentUser._assign(d),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(d,!0)}})()}initializeCurrentUser(c){var d=this;return(0,_.Z)(function*(){var m;const R=yield d.assertedPersistence.getCurrentUser();let U=R,ie=!1;if(c&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const _e=null===(m=d.redirectUser)||void 0===m?void 0:m._redirectEventId,Ye=U?._redirectEventId,rt=yield d.tryRedirectSignIn(c);(!_e||_e===Ye)&&rt?.user&&(U=rt.user,ie=!0)}if(!U)return d.directlySetCurrentUser(null);if(!U._redirectEventId){if(ie)try{yield d.beforeStateQueue.runMiddleware(U)}catch(_e){U=R,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(_e))}return U?d.reloadAndSetCurrentUserOrClear(U):d.directlySetCurrentUser(null)}return Ee(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===U._redirectEventId?d.directlySetCurrentUser(U):d.reloadAndSetCurrentUserOrClear(U)})()}tryRedirectSignIn(c){var d=this;return(0,_.Z)(function*(){let m=null;try{m=yield d._popupRedirectResolver._completeRedirectFn(d,c,!0)}catch{yield d._setRedirectUser(null)}return m})()}reloadAndSetCurrentUserOrClear(c){var d=this;return(0,_.Z)(function*(){try{yield on(c)}catch(m){if("auth/network-request-failed"!==m?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function hr(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var c=this;return(0,_.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var d=this;return(0,_.Z)(function*(){const m=c?(0,z.m9)(c):null;return m&&Ee(m.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(m&&m._clone(d))})()}_updateCurrentUser(c,d=!1){var m=this;return(0,_.Z)(function*(){if(!m._deleted)return c&&Ee(m.tenantId===c.tenantId,m,"tenant-id-mismatch"),d||(yield m.beforeStateQueue.runMiddleware(c)),m.queue((0,_.Z)(function*(){yield m.directlySetCurrentUser(c),m.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,_.Z)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var d=this;return this.queue((0,_.Z)(function*(){yield d.assertedPersistence.setPersistence(jn(c))}))}initializeRecaptchaConfig(){var c=this;return(0,_.Z)(function*(){const d=yield ke(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),m=new Yt(d);null==c.tenantId?c._agentRecaptchaConfig=m:c._tenantRecaptchaConfigs[c.tenantId]=m,m.emailPasswordEnabled&&new ra(c).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new z.LL("auth","Firebase",c())}onAuthStateChanged(c,d,m){return this.registerStateListener(this.authStateSubscription,c,d,m)}beforeAuthStateChanged(c,d){return this.beforeStateQueue.pushCallback(c,d)}onIdTokenChanged(c,d,m){return this.registerStateListener(this.idTokenSubscription,c,d,m)}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,d){var m=this;return(0,_.Z)(function*(){const R=yield m.getOrInitRedirectPersistenceManager(d);return null===c?R.removeCurrentUser():R.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var d=this;return(0,_.Z)(function*(){if(!d.redirectPersistenceManager){const m=c&&jn(c)||d._popupRedirectResolver;Ee(m,d,"argument-error"),d.redirectPersistenceManager=yield j.create(d,[jn(m._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(c){var d=this;return(0,_.Z)(function*(){var m,R;return d._isInitialized&&(yield d.queue((0,_.Z)(function*(){}))),(null===(m=d._currentUser)||void 0===m?void 0:m._redirectEventId)===c?d._currentUser:(null===(R=d.redirectUser)||void 0===R?void 0:R._redirectEventId)===c?d.redirectUser:null})()}_persistUserIfCurrent(c){var d=this;return(0,_.Z)(function*(){if(c===d.currentUser)return d.queue((0,_.Z)(function*(){return d.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const m=null!==(d=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==m&&(this.lastNotifiedUid=m,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,d,m,R){if(this._deleted)return()=>{};const U="function"==typeof d?d:d.next.bind(d),ie=this._isInitialized?Promise.resolve():this._initializationPromise;return Ee(ie,this,"internal-error"),ie.then(()=>U(this.currentUser)),"function"==typeof d?c.addObserver(d,m,R):c.addObserver(d)}directlySetCurrentUser(c){var d=this;return(0,_.Z)(function*(){d.currentUser&&d.currentUser!==c&&d._currentUser._stopProactiveRefresh(),c&&d.isProactiveRefreshEnabled&&c._startProactiveRefresh(),d.currentUser=c,c?yield d.assertedPersistence.setCurrentUser(c):yield d.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=Y(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,_.Z)(function*(){var d;const m={"X-Client-Version":c.clientVersion};c.app.options.appId&&(m["X-Firebase-gmpid"]=c.app.options.appId);const R=yield null===(d=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();R&&(m["X-Firebase-Client"]=R);const U=yield c._getAppCheckToken();return U&&(m["X-Firebase-AppCheck"]=U),m})()}_getAppCheckToken(){var c=this;return(0,_.Z)(function*(){var d;const m=yield null===(d=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return m?.error&&function pt(p,...c){Ct.logLevel<=ce.in.WARN&&Ct.warn(`Auth (${ue.SDK_VERSION}): ${p}`,...c)}(`Error while retrieving App Check token: ${m.error}`),m?.token})()}}function zn(p){return(0,z.m9)(p)}class Ei{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,z.ne)(d=>this.observer=d)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ws(p){const c=p.indexOf(":");return c<0?"":p.substr(0,c+1)}function bs(p){if(!p)return null;const c=Number(p);return isNaN(c)?null:c}class Ii{constructor(c,d){this.providerId=c,this.signInMethod=d}toJSON(){return vt("not implemented")}_getIdTokenResponse(c){return vt("not implemented")}_linkToIdToken(c,d){return vt("not implemented")}_getReauthenticationResolver(c){return vt("not implemented")}}function Hi(p,c){return ns.apply(this,arguments)}function ns(){return(ns=(0,_.Z)(function*(p,c){return Ne(p,"POST","/v1/accounts:resetPassword",Le(p,c))})).apply(this,arguments)}function Ts(p,c){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,_.Z)(function*(p,c){return Ne(p,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function js(){return(js=(0,_.Z)(function*(p,c){return Ne(p,"POST","/v1/accounts:update",Le(p,c))})).apply(this,arguments)}function Br(p,c){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,_.Z)(function*(p,c){return Et(p,"POST","/v1/accounts:signInWithPassword",Le(p,c))})).apply(this,arguments)}function Bo(p,c){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,_.Z)(function*(p,c){return Ne(p,"POST","/v1/accounts:sendOobCode",Le(p,c))})).apply(this,arguments)}function uo(){return(uo=(0,_.Z)(function*(p,c){return Bo(p,c)})).apply(this,arguments)}function rs(p,c){return lo.apply(this,arguments)}function lo(){return(lo=(0,_.Z)(function*(p,c){return Bo(p,c)})).apply(this,arguments)}function an(p,c){return kn.apply(this,arguments)}function kn(){return(kn=(0,_.Z)(function*(p,c){return Bo(p,c)})).apply(this,arguments)}function Ri(){return(Ri=(0,_.Z)(function*(p,c){return Bo(p,c)})).apply(this,arguments)}function sa(){return(sa=(0,_.Z)(function*(p,c){return Et(p,"POST","/v1/accounts:signInWithEmailLink",Le(p,c))})).apply(this,arguments)}function ho(){return(ho=(0,_.Z)(function*(p,c){return Et(p,"POST","/v1/accounts:signInWithEmailLink",Le(p,c))})).apply(this,arguments)}class po extends Ii{constructor(c,d,m,R=null){super("password",m),this._email=c,this._password=d,this._tenantId=R}static _fromEmailAndPassword(c,d){return new po(c,d,"password")}static _fromEmailAndCode(c,d,m=null){return new po(c,d,"emailLink",m)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(c){var d=this;return(0,_.Z)(function*(){var m;switch(d.signInMethod){case"password":const R={returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(m=c._getRecaptchaConfig())&&void 0!==m&&m.emailPasswordEnabled){const U=yield Ur(c,R,"signInWithPassword");return Br(c,U)}return Br(c,R).catch(function(){var U=(0,_.Z)(function*(ie){if("auth/missing-recaptcha-token"===ie.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const _e=yield Ur(c,R,"signInWithPassword");return Br(c,_e)}return Promise.reject(ie)});return function(ie){return U.apply(this,arguments)}}());case"emailLink":return function ti(p,c){return sa.apply(this,arguments)}(c,{email:d._email,oobCode:d._password});default:Oe(c,"internal-error")}})()}_linkToIdToken(c,d){var m=this;return(0,_.Z)(function*(){switch(m.signInMethod){case"password":return Ts(c,{idToken:d,returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function fo(p,c){return ho.apply(this,arguments)}(c,{idToken:d,email:m._email,oobCode:m._password});default:Oe(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function Gr(p,c){return mn.apply(this,arguments)}function mn(){return(mn=(0,_.Z)(function*(p,c){return Et(p,"POST","/v1/accounts:signInWithIdp",Le(p,c))})).apply(this,arguments)}class Pt extends Ii{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const d=new Pt(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(d.idToken=c.idToken),c.accessToken&&(d.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(d.nonce=c.nonce),c.pendingToken&&(d.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(d.accessToken=c.oauthToken,d.secret=c.oauthTokenSecret):Oe("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:m,signInMethod:R}=d,U=(0,oe._T)(d,["providerId","signInMethod"]);if(!m||!R)return null;const ie=new Pt(m,R);return ie.idToken=U.idToken||void 0,ie.accessToken=U.accessToken||void 0,ie.secret=U.secret,ie.nonce=U.nonce,ie.pendingToken=U.pendingToken||null,ie}_getIdTokenResponse(c){return Gr(c,this.buildRequest())}_linkToIdToken(c,d){const m=this.buildRequest();return m.idToken=d,Gr(c,m)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,Gr(c,d)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),c.postBody=(0,z.xO)(d)}return c}}function Kr(){return(Kr=(0,_.Z)(function*(p,c){return Ne(p,"POST","/v1/accounts:sendVerificationCode",Le(p,c))})).apply(this,arguments)}function _r(){return(_r=(0,_.Z)(function*(p,c){return Et(p,"POST","/v1/accounts:signInWithPhoneNumber",Le(p,c))})).apply(this,arguments)}function wn(){return(wn=(0,_.Z)(function*(p,c){const d=yield Et(p,"POST","/v1/accounts:signInWithPhoneNumber",Le(p,c));if(d.temporaryProof)throw gn(p,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const Di={USER_NOT_FOUND:"user-not-found"};function Nt(){return(Nt=(0,_.Z)(function*(p,c){return Et(p,"POST","/v1/accounts:signInWithPhoneNumber",Le(p,Object.assign(Object.assign({},c),{operation:"REAUTH"})),Di)})).apply(this,arguments)}class tr extends Ii{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,d){return new tr({verificationId:c,verificationCode:d})}static _fromTokenResponse(c,d){return new tr({phoneNumber:c,temporaryProof:d})}_getIdTokenResponse(c){return function Ci(p,c){return _r.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,d){return function Hs(p,c){return wn.apply(this,arguments)}(c,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function $i(p,c){return Nt.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:d,verificationId:m,verificationCode:R}=this.params;return c&&d?{temporaryProof:c,phoneNumber:d}:{sessionInfo:m,code:R}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:d,verificationCode:m,phoneNumber:R,temporaryProof:U}=c;return m||d||R||U?new tr({verificationId:d,verificationCode:m,phoneNumber:R,temporaryProof:U}):null}}class Vn{constructor(c){var d,m,R,U,ie,_e;const Ye=(0,z.zd)((0,z.pd)(c)),rt=null!==(d=Ye.apiKey)&&void 0!==d?d:null,mt=null!==(m=Ye.oobCode)&&void 0!==m?m:null,gt=function jo(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(R=Ye.mode)&&void 0!==R?R:null);Ee(rt&&mt&&gt,"argument-error"),this.apiKey=rt,this.operation=gt,this.code=mt,this.continueUrl=null!==(U=Ye.continueUrl)&&void 0!==U?U:null,this.languageCode=null!==(ie=Ye.languageCode)&&void 0!==ie?ie:null,this.tenantId=null!==(_e=Ye.tenantId)&&void 0!==_e?_e:null}static parseLink(c){const d=function Pi(p){const c=(0,z.zd)((0,z.pd)(p)).link,d=c?(0,z.zd)((0,z.pd)(c)).deep_link_id:null,m=(0,z.zd)((0,z.pd)(p)).deep_link_id;return(m?(0,z.zd)((0,z.pd)(m)).link:null)||m||d||c||p}(c);try{return new Vn(d)}catch{return null}}}let Wi=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(d,m){return po._fromEmailAndPassword(d,m)}static credentialWithLink(d,m){const R=Vn.parseLink(m);return Ee(R,"argument-error"),po._fromEmailAndCode(d,R.code,R.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class vr{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class Zr extends vr{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class wi extends Zr{static credentialFromJSON(c){const d="string"==typeof c?JSON.parse(c):c;return Ee("providerId"in d&&"signInMethod"in d,"argument-error"),Pt._fromParams(d)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return Ee(c.idToken||c.accessToken,"argument-error"),Pt._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return wi.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return wi.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:d,oauthAccessToken:m,oauthTokenSecret:R,pendingToken:U,nonce:ie,providerId:_e}=c;if(!m&&!R&&!d&&!U||!_e)return null;try{return new wi(_e)._credential({idToken:d,accessToken:m,nonce:ie,pendingToken:U})}catch{return null}}}let is=(()=>{class p extends Zr{constructor(){super("facebook.com")}static credential(d){return Pt._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),Yr=(()=>{class p extends Zr{constructor(){super("google.com"),this.addScope("profile")}static credential(d,m){return Pt._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:m})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:m,oauthAccessToken:R}=d;if(!m&&!R)return null;try{return p.credential(m,R)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),Ws=(()=>{class p extends Zr{constructor(){super("github.com")}static credential(d){return Pt._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class Gt extends Ii{constructor(c,d){super(c,c),this.pendingToken=d}_getIdTokenResponse(c){return Gr(c,this.buildRequest())}_linkToIdToken(c,d){const m=this.buildRequest();return m.idToken=d,Gr(c,m)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,Gr(c,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:m,signInMethod:R,pendingToken:U}=d;return m&&R&&U&&m===R?new Gt(m,U):null}static _create(c,d){return new Gt(c,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ss extends vr{constructor(c){Ee(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return Ss.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return Ss.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const d=Gt.fromJSON(c);return Ee(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:d,providerId:m}=c;if(!d||!m)return null;try{return Gt._create(m,d)}catch{return null}}}let oa=(()=>{class p extends Zr{constructor(){super("twitter.com")}static credential(d,m){return Pt._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:m})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:m,oauthTokenSecret:R}=d;if(!m||!R)return null;try{return p.credential(m,R)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function yr(p,c){return zs.apply(this,arguments)}function zs(){return(zs=(0,_.Z)(function*(p,c){return Et(p,"POST","/v1/accounts:signUp",Le(p,c))})).apply(this,arguments)}class Nr{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,d,m,R=!1){return(0,_.Z)(function*(){const U=yield In._fromIdTokenResponse(c,m,R),ie=Ni(m);return new Nr({user:U,providerId:ie,_tokenResponse:m,operationType:d})})()}static _forOperation(c,d,m){return(0,_.Z)(function*(){yield c._updateTokensIfNecessary(m,!0);const R=Ni(m);return new Nr({user:c,providerId:R,_tokenResponse:m,operationType:d})})()}}function Ni(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function gc(){return(gc=(0,_.Z)(function*(p){var c;const d=zn(p);if(yield d._initializationPromise,null!==(c=d.currentUser)&&void 0!==c&&c.isAnonymous)return new Nr({user:d.currentUser,providerId:null,operationType:"signIn"});const m=yield yr(d,{returnSecureToken:!0}),R=yield Nr._fromIdTokenResponse(d,"signIn",m,!0);return yield d._updateCurrentUser(R.user),R})).apply(this,arguments)}class Er extends z.ZR{constructor(c,d,m,R){var U;super(d.code,d.message),this.operationType=m,this.user=R,Object.setPrototypeOf(this,Er.prototype),this.customData={appName:c.name,tenantId:null!==(U=c.tenantId)&&void 0!==U?U:void 0,_serverResponse:d.customData._serverResponse,operationType:m}}static _fromErrorAndOperation(c,d,m,R){return new Er(c,d,m,R)}}function br(p,c,d,m){return("reauthenticate"===c?d._getReauthenticationResolver(p):d._getIdTokenResponse(p)).catch(U=>{throw"auth/multi-factor-auth-required"===U.code?Er._fromErrorAndOperation(p,U,c,m):U})}function ni(p){return new Set(p.map(({providerId:c})=>c).filter(c=>!!c))}function di(){return di=(0,_.Z)(function*(p,c){const d=(0,z.m9)(p);yield os(!0,d,c);const{providerUserInfo:m}=yield function ar(p,c){return St.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[c]}),R=ni(m||[]);return d.providerData=d.providerData.filter(U=>R.has(U.providerId)),R.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),di.apply(this,arguments)}function Tr(p,c){return go.apply(this,arguments)}function go(){return(go=(0,_.Z)(function*(p,c,d=!1){const m=yield En(p,c._linkToIdToken(p.auth,yield p.getIdToken()),d);return Nr._forOperation(p,"link",m)})).apply(this,arguments)}function os(p,c,d){return jr.apply(this,arguments)}function jr(){return(jr=(0,_.Z)(function*(p,c,d){yield on(c);const R=!1===p?"provider-already-linked":"no-such-provider";Ee(ni(c.providerData).has(d)===p,c.auth,R)})).apply(this,arguments)}function Vo(p,c){return as.apply(this,arguments)}function as(){return(as=(0,_.Z)(function*(p,c,d=!1){const{auth:m}=p,R="reauthenticate";try{const U=yield En(p,br(m,R,c,p),d);Ee(U.idToken,m,"internal-error");const ie=wt(U.idToken);Ee(ie,m,"internal-error");const{sub:_e}=ie;return Ee(p.uid===_e,m,"user-mismatch"),Nr._forOperation(p,R,U)}catch(U){throw"auth/user-not-found"===U?.code&&Oe(m,"user-mismatch"),U}})).apply(this,arguments)}function nr(p,c){return cs.apply(this,arguments)}function cs(){return(cs=(0,_.Z)(function*(p,c,d=!1){const m="signIn",R=yield br(p,m,c),U=yield Nr._fromIdTokenResponse(p,m,R);return d||(yield p._updateCurrentUser(U.user)),U})).apply(this,arguments)}function fi(p,c){return Or.apply(this,arguments)}function Or(){return(Or=(0,_.Z)(function*(p,c){return nr(zn(p),c)})).apply(this,arguments)}function Vr(p,c){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,_.Z)(function*(p,c){const d=(0,z.m9)(p);return yield os(!1,d,c.providerId),Tr(d,c)})).apply(this,arguments)}function zi(p,c){return mo.apply(this,arguments)}function mo(){return(mo=(0,_.Z)(function*(p,c){return Vo((0,z.m9)(p),c)})).apply(this,arguments)}function Gi(){return(Gi=(0,_.Z)(function*(p,c){return Et(p,"POST","/v1/accounts:signInWithCustomToken",Le(p,c))})).apply(this,arguments)}function qa(){return qa=(0,_.Z)(function*(p,c){const d=zn(p),m=yield function Gn(p,c){return Gi.apply(this,arguments)}(d,{token:c,returnSecureToken:!0}),R=yield Nr._fromIdTokenResponse(d,"signIn",m);return yield d._updateCurrentUser(R.user),R}),qa.apply(this,arguments)}class Ki{constructor(c,d){this.factorId=c,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(c,d){return"phoneInfo"in d?Ms._fromServerResponse(c,d):"totpInfo"in d?_o._fromServerResponse(c,d):Oe(c,"internal-error")}}class Ms extends Ki{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,d){return new Ms(d)}}class _o extends Ki{constructor(c){super("totp",c)}static _fromServerResponse(c,d){return new _o(d)}}function Hn(p,c,d){var m;Ee((null===(m=d.url)||void 0===m?void 0:m.length)>0,p,"invalid-continue-uri"),Ee(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),c.continueUrl=d.url,c.dynamicLinkDomain=d.dynamicLinkDomain,c.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(Ee(d.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),c.iOSBundleId=d.iOS.bundleId),d.android&&(Ee(d.android.packageName.length>0,p,"missing-android-pkg-name"),c.androidInstallApp=d.android.installApp,c.androidMinimumVersionCode=d.android.minimumVersion,c.androidPackageName=d.android.packageName)}function us(){return us=(0,_.Z)(function*(p,c,d){var m;const R=zn(p),U={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};if(null!==(m=R._getRecaptchaConfig())&&void 0!==m&&m.emailPasswordEnabled){const ie=yield Ur(R,U,"getOobCode",!0);d&&Hn(R,ie,d),yield rs(R,ie)}else d&&Hn(R,U,d),yield rs(R,U).catch(function(){var ie=(0,_.Z)(function*(_e){if("auth/missing-recaptcha-token"!==_e.code)return Promise.reject(_e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ye=yield Ur(R,U,"getOobCode",!0);d&&Hn(R,Ye,d),yield rs(R,Ye)}});return function(_e){return ie.apply(this,arguments)}}())}),us.apply(this,arguments)}function Oi(){return(Oi=(0,_.Z)(function*(p,c,d){yield Hi((0,z.m9)(p),{oobCode:c,newPassword:d})})).apply(this,arguments)}function ls(){return ls=(0,_.Z)(function*(p,c){yield function li(p,c){return js.apply(this,arguments)}((0,z.m9)(p),{oobCode:c})}),ls.apply(this,arguments)}function Ir(p,c){return ds.apply(this,arguments)}function ds(){return(ds=(0,_.Z)(function*(p,c){const d=(0,z.m9)(p),m=yield Hi(d,{oobCode:c}),R=m.requestType;switch(Ee(R,d,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(m.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(m.mfaInfo,d,"internal-error");default:Ee(m.email,d,"internal-error")}let U=null;return m.mfaInfo&&(U=Ki._fromServerResponse(zn(d),m.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.newEmail:m.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.email:m.newEmail)||null,multiFactorInfo:U},operation:R}})).apply(this,arguments)}function Rs(){return(Rs=(0,_.Z)(function*(p,c){const{data:d}=yield Ir((0,z.m9)(p),c);return d.email})).apply(this,arguments)}function vo(){return vo=(0,_.Z)(function*(p,c,d){var m;const R=zn(p),U={returnSecureToken:!0,email:c,password:d,clientType:"CLIENT_TYPE_WEB"};let ie;if(null!==(m=R._getRecaptchaConfig())&&void 0!==m&&m.emailPasswordEnabled){const rt=yield Ur(R,U,"signUpPassword");ie=yr(R,rt)}else ie=yr(R,U).catch(function(){var rt=(0,_.Z)(function*(mt){if("auth/missing-recaptcha-token"===mt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const gt=yield Ur(R,U,"signUpPassword");return yr(R,gt)}return Promise.reject(mt)});return function(mt){return rt.apply(this,arguments)}}());const _e=yield ie.catch(rt=>Promise.reject(rt)),Ye=yield Nr._fromIdTokenResponse(R,"signIn",_e);return yield R._updateCurrentUser(Ye.user),Ye}),vo.apply(this,arguments)}function Zi(){return Zi=(0,_.Z)(function*(p,c,d){var m;const R=zn(p),U={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};function ie(_e,Ye){Ee(Ye.handleCodeInApp,R,"argument-error"),Ye&&Hn(R,_e,Ye)}if(null!==(m=R._getRecaptchaConfig())&&void 0!==m&&m.emailPasswordEnabled){const _e=yield Ur(R,U,"getOobCode",!0);ie(_e,d),yield an(R,_e)}else ie(U,d),yield an(R,U).catch(function(){var _e=(0,_.Z)(function*(Ye){if("auth/missing-recaptcha-token"!==Ye.code)return Promise.reject(Ye);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const rt=yield Ur(R,U,"getOobCode",!0);ie(rt,d),yield an(R,rt)}});return function(Ye){return _e.apply(this,arguments)}}())}),Zi.apply(this,arguments)}function Eo(){return(Eo=(0,_.Z)(function*(p,c,d){const m=(0,z.m9)(p),R=Wi.credentialWithLink(c,d||Wn());return Ee(R._tenantId===(m.tenantId||null),m,"tenant-id-mismatch"),fi(m,R)})).apply(this,arguments)}function Ho(){return(Ho=(0,_.Z)(function*(p,c){return Ne(p,"POST","/v1/accounts:createAuthUri",Le(p,c))})).apply(this,arguments)}function Yi(){return Yi=(0,_.Z)(function*(p,c){const m={identifier:c,continueUri:An()?Wn():"http://localhost"},{signinMethods:R}=yield function Pa(p,c){return Ho.apply(this,arguments)}((0,z.m9)(p),m);return R||[]}),Yi.apply(this,arguments)}function Ks(){return Ks=(0,_.Z)(function*(p,c){const d=(0,z.m9)(p),R={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};c&&Hn(d.auth,R,c);const{email:U}=yield function Ma(p,c){return uo.apply(this,arguments)}(d.auth,R);U!==p.email&&(yield p.reload())}),Ks.apply(this,arguments)}function Zs(){return Zs=(0,_.Z)(function*(p,c,d){const m=(0,z.m9)(p),U={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:c};d&&Hn(m.auth,U,d);const{email:ie}=yield function Pr(p,c){return Ri.apply(this,arguments)}(m.auth,U);ie!==p.email&&(yield p.reload())}),Zs.apply(this,arguments)}function Co(){return(Co=(0,_.Z)(function*(p,c){return Ne(p,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function hs(){return hs=(0,_.Z)(function*(p,{displayName:c,photoURL:d}){if(void 0===c&&void 0===d)return;const m=(0,z.m9)(p),U={idToken:yield m.getIdToken(),displayName:c,photoUrl:d,returnSecureToken:!0},ie=yield En(m,function zc(p,c){return Co.apply(this,arguments)}(m.auth,U));m.displayName=ie.displayName||null,m.photoURL=ie.photoUrl||null;const _e=m.providerData.find(({providerId:Ye})=>"password"===Ye);_e&&(_e.displayName=m.displayName,_e.photoURL=m.photoURL),yield m._updateTokensIfNecessary(ie)}),hs.apply(this,arguments)}function Qa(p,c,d){return qs.apply(this,arguments)}function qs(){return(qs=(0,_.Z)(function*(p,c,d){const{auth:m}=p,U={idToken:yield p.getIdToken(),returnSecureToken:!0};c&&(U.email=c),d&&(U.password=d);const ie=yield En(p,Ts(m,U));yield p._updateTokensIfNecessary(ie,!0)})).apply(this,arguments)}class Wo{constructor(c,d,m={}){this.isNewUser=c,this.providerId=d,this.profile=m}}class ps extends Wo{constructor(c,d,m,R){super(c,d,m),this.username=R}}class Xa extends Wo{constructor(c,d){super(c,"facebook.com",d)}}class E extends ps{constructor(c,d){super(c,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class L extends Wo{constructor(c,d){super(c,"google.com",d)}}class A extends ps{constructor(c,d,m){super(c,"twitter.com",d,m)}}function N(p){const{user:c,_tokenResponse:d}=p;return c.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function _c(p){var c,d;if(!p)return null;const{providerId:m}=p,R=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},U=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!m&&p?.idToken){const ie=null===(d=null===(c=wt(p.idToken))||void 0===c?void 0:c.firebase)||void 0===d?void 0:d.sign_in_provider;if(ie)return new Wo(U,"anonymous"!==ie&&"custom"!==ie?ie:null)}if(!m)return null;switch(m){case"facebook.com":return new Xa(U,R);case"github.com":return new E(U,R);case"google.com":return new L(U,R);case"twitter.com":return new A(U,R,p.screenName||null);case"custom":case"anonymous":return new Wo(U,null);default:return new Wo(U,m,R)}}(d)}class _n{constructor(c,d,m){this.type=c,this.credential=d,this.auth=m}static _fromIdtoken(c,d){return new _n("enroll",c,d)}static _fromMfaPendingCredential(c){return new _n("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var d,m;if(c?.multiFactorSession){if(null!==(d=c.multiFactorSession)&&void 0!==d&&d.pendingCredential)return _n._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(m=c.multiFactorSession)&&void 0!==m&&m.idToken)return _n._fromIdtoken(c.multiFactorSession.idToken)}return null}}class qr{constructor(c,d,m){this.session=c,this.hints=d,this.signInResolver=m}static _fromError(c,d){const m=zn(c),R=d.customData._serverResponse,U=(R.mfaInfo||[]).map(_e=>Ki._fromServerResponse(m,_e));Ee(R.mfaPendingCredential,m,"internal-error");const ie=_n._fromMfaPendingCredential(R.mfaPendingCredential);return new qr(ie,U,function(){var _e=(0,_.Z)(function*(Ye){const rt=yield Ye._process(m,ie);delete R.mfaInfo,delete R.mfaPendingCredential;const mt=Object.assign(Object.assign({},R),{idToken:rt.idToken,refreshToken:rt.refreshToken});switch(d.operationType){case"signIn":const gt=yield Nr._fromIdTokenResponse(m,d.operationType,mt);return yield m._updateCurrentUser(gt.user),gt;case"reauthenticate":return Ee(d.user,m,"internal-error"),Nr._forOperation(d.user,d.operationType,mt);default:Oe(m,"internal-error")}});return function(Ye){return _e.apply(this,arguments)}}())}resolveSignIn(c){var d=this;return(0,_.Z)(function*(){return d.signInResolver(c)})()}}class zt{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(m=>Ki._fromServerResponse(c.auth,m)))})}static _fromUser(c){return new zt(c)}getSession(){var c=this;return(0,_.Z)(function*(){return _n._fromIdtoken(yield c.user.getIdToken(),c.user.auth)})()}enroll(c,d){var m=this;return(0,_.Z)(function*(){const R=c,U=yield m.getSession(),ie=yield En(m.user,R._process(m.user.auth,U,d));return yield m.user._updateTokensIfNecessary(ie),m.user.reload()})()}unenroll(c){var d=this;return(0,_.Z)(function*(){const m="string"==typeof c?c:c.uid,R=yield d.user.getIdToken();try{const U=yield En(d.user,function Ps(p,c){return Ne(p,"POST","/v2/accounts/mfaEnrollment:withdraw",Le(p,c))}(d.user.auth,{idToken:R,mfaEnrollmentId:m}));d.enrolledFactors=d.enrolledFactors.filter(({uid:ie})=>ie!==m),yield d.user._updateTokensIfNecessary(U),yield d.user.reload()}catch(U){throw U}})()}}const la=new WeakMap,rr="__sak";class Ja{constructor(c,d){this.storageRetriever=c,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(rr,"1"),this.storage.removeItem(rr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,d){return this.storage.setItem(c,JSON.stringify(d)),Promise.resolve()}_get(c){const d=this.storage.getItem(c);return Promise.resolve(d?JSON.parse(d):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const Sr=(()=>{class p extends Ja{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,m)=>this.onStorageEvent(d,m),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ec(){const p=(0,z.z$)();return W(p)||Wt(p)}()&&function Vi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Fr(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const m of Object.keys(this.listeners)){const R=this.storage.getItem(m),U=this.localCache[m];R!==U&&d(m,U,R)}}onStorageEvent(d,m=!1){if(!d.key)return void this.forAllChangedKeys((_e,Ye,rt)=>{this.notifyListeners(_e,rt)});const R=d.key;if(m?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const _e=this.storage.getItem(R);if(d.newValue!==_e)null!==d.newValue?this.storage.setItem(R,d.newValue):this.storage.removeItem(R);else if(this.localCache[R]===d.newValue&&!m)return}const U=()=>{const _e=this.storage.getItem(R);!m&&this.localCache[R]===_e||this.notifyListeners(R,_e)},ie=this.storage.getItem(R);!function ui(){return(0,z.w1)()&&10===document.documentMode}()||ie===d.newValue||d.newValue===d.oldValue?U():setTimeout(U,10)}notifyListeners(d,m){this.localCache[d]=m;const R=this.listeners[d];if(R)for(const U of Array.from(R))U(m&&JSON.parse(m))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,m,R)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:m,newValue:R}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,m){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(m)}_removeListener(d,m){this.listeners[d]&&(this.listeners[d].delete(m),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,m){var R=()=>super._set,U=this;return(0,_.Z)(function*(){yield R().call(U,d,m),U.localCache[d]=JSON.stringify(m)})()}_get(d){var m=()=>super._get,R=this;return(0,_.Z)(function*(){const U=yield m().call(R,d);return R.localCache[d]=JSON.stringify(U),U})()}_remove(d){var m=()=>super._remove,R=this;return(0,_.Z)(function*(){yield m().call(R,d),delete R.localCache[d]})()}}return p.type="LOCAL",p})(),Xr=(()=>{class p extends Ja{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,m){}_removeListener(d,m){}}return p.type="SESSION",p})();let vc=(()=>{class p{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const m=this.receivers.find(U=>U.isListeningto(d));if(m)return m;const R=new p(d);return this.receivers.push(R),R}isListeningto(d){return this.eventTarget===d}handleEvent(d){var m=this;return(0,_.Z)(function*(){const R=d,{eventId:U,eventType:ie,data:_e}=R.data,Ye=m.handlersMap[ie];if(!Ye?.size)return;R.ports[0].postMessage({status:"ack",eventId:U,eventType:ie});const rt=Array.from(Ye).map(function(){var gt=(0,_.Z)(function*(or){return or(R.origin,_e)});return function(or){return gt.apply(this,arguments)}}()),mt=yield function Go(p){return Promise.all(p.map(function(){var c=(0,_.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(m){return{fulfilled:!1,reason:m}}});return function(d){return c.apply(this,arguments)}}()))}(rt);R.ports[0].postMessage({status:"done",eventId:U,eventType:ie,response:mt})})()}_subscribe(d,m){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(m)}_unsubscribe(d,m){this.handlersMap[d]&&m&&this.handlersMap[d].delete(m),(!m||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function wo(p="",c=10){let d="";for(let m=0;m<c;m++)d+=Math.floor(10*Math.random());return p+d}class Ko{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,d,m=50){var R=this;return(0,_.Z)(function*(){const U=typeof MessageChannel<"u"?new MessageChannel:null;if(!U)throw new Error("connection_unavailable");let ie,_e;return new Promise((Ye,rt)=>{const mt=wo("",20);U.port1.start();const gt=setTimeout(()=>{rt(new Error("unsupported_event"))},m);_e={messageChannel:U,onMessage(or){const Ls=or;if(Ls.data.eventId===mt)switch(Ls.data.status){case"ack":clearTimeout(gt),ie=setTimeout(()=>{rt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ie),Ye(Ls.data.response);break;default:clearTimeout(gt),clearTimeout(ie),rt(new Error("invalid_response"))}}},R.handlers.add(_e),U.port1.addEventListener("message",_e.onMessage),R.target.postMessage({eventType:c,eventId:mt,data:d},[U.port2])}).finally(()=>{_e&&R.removeMessageHandler(_e)})})()}}function ir(){return window}function at(){return typeof ir().WorkerGlobalScope<"u"&&"function"==typeof ir().importScripts}function nn(){return(nn=(0,_.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const pi="firebaseLocalStorageDb",Fi="firebaseLocalStorage",Ec="fbase_key";class Sn{constructor(c){this.request=c}toPromise(){return new Promise((c,d)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function qt(p,c){return p.transaction([Fi],c?"readwrite":"readonly").objectStore(Fi)}function da(){const p=indexedDB.open(pi,1);return new Promise((c,d)=>{p.addEventListener("error",()=>{d(p.error)}),p.addEventListener("upgradeneeded",()=>{const m=p.result;try{m.createObjectStore(Fi,{keyPath:Ec})}catch(R){d(R)}}),p.addEventListener("success",(0,_.Z)(function*(){const m=p.result;m.objectStoreNames.contains(Fi)?c(m):(m.close(),yield function kr(){const p=indexedDB.deleteDatabase(pi);return new Sn(p).toPromise()}(),c(yield da()))}))})}function ze(p,c,d){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,_.Z)(function*(p,c,d){const m=qt(p,!0).put({[Ec]:c,value:d});return new Sn(m).toPromise()})).apply(this,arguments)}function fa(){return(fa=(0,_.Z)(function*(p,c){const d=qt(p,!1).get(c),m=yield new Sn(d).toPromise();return void 0===m?null:m.value})).apply(this,arguments)}function wr(p,c){const d=qt(p,!0).delete(c);return new Sn(d).toPromise()}const gi=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,_.Z)(function*(){return d.db||(d.db=yield da()),d.db})()}_withRetries(d){var m=this;return(0,_.Z)(function*(){let R=0;for(;;)try{const U=yield m._openDb();return yield d(U)}catch(U){if(R++>3)throw U;m.db&&(m.db.close(),m.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,_.Z)(function*(){return at()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,_.Z)(function*(){d.receiver=vc._getInstance(function Tn(){return at()?self:null}()),d.receiver._subscribe("keyChanged",function(){var m=(0,_.Z)(function*(R,U){return{keyProcessed:(yield d._poll()).includes(U.key)}});return function(R,U){return m.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var m=(0,_.Z)(function*(R,U){return["keyChanged"]});return function(R,U){return m.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,_.Z)(function*(){var m,R;if(d.activeServiceWorker=yield function un(){return nn.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new Ko(d.activeServiceWorker);const U=yield d.sender._send("ping",{},800);U&&null!==(m=U[0])&&void 0!==m&&m.fulfilled&&null!==(R=U[0])&&void 0!==R&&R.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var m=this;return(0,_.Z)(function*(){if(m.sender&&m.activeServiceWorker&&function Ns(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===m.activeServiceWorker)try{yield m.sender._send("keyChanged",{key:d},m.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,_.Z)(function*(){try{if(!indexedDB)return!1;const d=yield da();return yield ze(d,rr,"1"),yield wr(d,rr),!0}catch{}return!1})()}_withPendingWrite(d){var m=this;return(0,_.Z)(function*(){m.pendingWrites++;try{yield d()}finally{m.pendingWrites--}})()}_set(d,m){var R=this;return(0,_.Z)(function*(){return R._withPendingWrite((0,_.Z)(function*(){return yield R._withRetries(U=>ze(U,d,m)),R.localCache[d]=m,R.notifyServiceWorker(d)}))})()}_get(d){var m=this;return(0,_.Z)(function*(){const R=yield m._withRetries(U=>function tc(p,c){return fa.apply(this,arguments)}(U,d));return m.localCache[d]=R,R})()}_remove(d){var m=this;return(0,_.Z)(function*(){return m._withPendingWrite((0,_.Z)(function*(){return yield m._withRetries(R=>wr(R,d)),delete m.localCache[d],m.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,_.Z)(function*(){const m=yield d._withRetries(ie=>{const _e=qt(ie,!1).getAll();return new Sn(_e).toPromise()});if(!m)return[];if(0!==d.pendingWrites)return[];const R=[],U=new Set;for(const{fbase_key:ie,value:_e}of m)U.add(ie),JSON.stringify(d.localCache[ie])!==JSON.stringify(_e)&&(d.notifyListeners(ie,_e),R.push(ie));for(const ie of Object.keys(d.localCache))d.localCache[ie]&&!U.has(ie)&&(d.notifyListeners(ie,null),R.push(ie));return R})()}notifyListeners(d,m){this.localCache[d]=m;const R=this.listeners[d];if(R)for(const U of Array.from(R))U(m)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,_.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,m){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(m)}_removeListener(d,m){this.listeners[d]&&(this.listeners[d].delete(m),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})(),bi=1e12;class ms{constructor(c){this.auth=c,this.counter=bi,this._widgets=new Map}render(c,d){const m=this.counter;return this._widgets.set(m,new Qt(c,this.auth.name,d||{})),this.counter++,m}reset(c){var d;const m=c||bi;null===(d=this._widgets.get(m))||void 0===d||d.delete(),this._widgets.delete(m)}getResponse(c){var d;return(null===(d=this._widgets.get(c||bi))||void 0===d?void 0:d.getResponse())||""}execute(c){var d=this;return(0,_.Z)(function*(){var m;return null===(m=d._widgets.get(c||bi))||void 0===m||m.execute(),""})()}}class Qt{constructor(c,d,m){this.params=m,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const R="string"==typeof c?document.getElementById(c):c;Ee(R,"argument-error",{appName:d}),this.container=R,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function dr(p){const c=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<p;m++)c.push(d.charAt(Math.floor(62*Math.random())));return c.join("")}(50);const{callback:c,"expired-callback":d}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const bo=mr("rcb"),ha=new Ar(3e4,6e4);class xa{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=ir().grecaptcha)||void 0===c||!c.render)}load(c,d=""){return Ee(function Si(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(d),c,"argument-error"),this.shouldResolveImmediately(d)&&it(ir().grecaptcha)?Promise.resolve(ir().grecaptcha):new Promise((m,R)=>{const U=ir().setTimeout(()=>{R(me(c,"network-request-failed"))},ha.get());ir()[bo]=()=>{ir().clearTimeout(U),delete ir()[bo];const _e=ir().grecaptcha;if(!_e||!it(_e))return void R(me(c,"internal-error"));const Ye=_e.render;_e.render=(rt,mt)=>{const gt=Ye(rt,mt);return this.counter++,gt},this.hostLanguage=d,m(_e)},Dn(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:bo,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(U),R(me(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var d;return!(null===(d=ir().grecaptcha)||void 0===d||!d.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class qi{load(c){return(0,_.Z)(function*(){return new ms(c)})()}clearedOneInstance(){}}const $r="recaptcha",qc={theme:"light",type:"image"};class Dc{constructor(c,d=Object.assign({},qc),m){this.parameters=d,this.type=$r,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=zn(m),this.isInvisible="invisible"===this.parameters.size,Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const R="string"==typeof c?document.getElementById(c):c;Ee(R,this.auth,"argument-error"),this.container=R,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qi:new xa,this.validateStartingState()}verify(){var c=this;return(0,_.Z)(function*(){c.assertNotDestroyed();const d=yield c.render(),m=c.getAssertedRecaptcha();return m.getResponse(d)||new Promise(U=>{const ie=_e=>{_e&&(c.tokenChangeListeners.delete(ie),U(_e))};c.tokenChangeListeners.add(ie),c.isInvisible&&m.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return d=>{if(this.tokenChangeListeners.forEach(m=>m(d)),"function"==typeof c)c(d);else if("string"==typeof c){const m=ir()[c];"function"==typeof m&&m(d)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,_.Z)(function*(){if(yield c.init(),!c.widgetId){let d=c.container;if(!c.isInvisible){const m=document.createElement("div");d.appendChild(m),d=m}c.widgetId=c.getAssertedRecaptcha().render(d,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,_.Z)(function*(){Ee(An()&&!at(),c.auth,"internal-error"),yield function v(){let p=null;return new Promise(c=>{"complete"!==document.readyState?(p=()=>c(),window.addEventListener("load",p)):c()}).catch(c=>{throw p&&window.removeEventListener("load",p),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const d=yield function K(p){return ae.apply(this,arguments)}(c.auth);Ee(d,c.auth,"internal-error"),c.parameters.sitekey=d})()}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class C{constructor(c,d){this.verificationId=c,this.onConfirmation=d}confirm(c){const d=tr._fromVerification(this.verificationId,c);return this.onConfirmation(d)}}function b(){return(b=(0,_.Z)(function*(p,c,d){const m=zn(p),R=yield Ie(m,c,(0,z.m9)(d));return new C(R,U=>fi(m,U))})).apply(this,arguments)}function B(){return(B=(0,_.Z)(function*(p,c,d){const m=(0,z.m9)(p);yield os(!1,m,"phone");const R=yield Ie(m.auth,c,(0,z.m9)(d));return new C(R,U=>Vr(m,U))})).apply(this,arguments)}function Ce(){return(Ce=(0,_.Z)(function*(p,c,d){const m=(0,z.m9)(p),R=yield Ie(m.auth,c,(0,z.m9)(d));return new C(R,U=>zi(m,U))})).apply(this,arguments)}function Ie(p,c,d){return nt.apply(this,arguments)}function nt(){return nt=(0,_.Z)(function*(p,c,d){var m;const R=yield d.verify();try{let U;if(Ee("string"==typeof R,p,"argument-error"),Ee(d.type===$r,p,"argument-error"),U="string"==typeof c?{phoneNumber:c}:c,"session"in U){const ie=U.session;if("phoneNumber"in U)return Ee("enroll"===ie.type,p,"internal-error"),(yield function hi(p,c){return Ne(p,"POST","/v2/accounts/mfaEnrollment:start",Le(p,c))}(p,{idToken:ie.credential,phoneEnrollmentInfo:{phoneNumber:U.phoneNumber,recaptchaToken:R}})).phoneSessionInfo.sessionInfo;{Ee("signin"===ie.type,p,"internal-error");const _e=(null===(m=U.multiFactorHint)||void 0===m?void 0:m.uid)||U.multiFactorUid;return Ee(_e,p,"missing-multi-factor-info"),(yield function Na(p,c){return Ne(p,"POST","/v2/accounts/mfaSignIn:start",Le(p,c))}(p,{mfaPendingCredential:ie.credential,mfaEnrollmentId:_e,phoneSignInInfo:{recaptchaToken:R}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ie}=yield function Ln(p,c){return Kr.apply(this,arguments)}(p,{phoneNumber:U.phoneNumber,recaptchaToken:R});return ie}}finally{d._reset()}}),nt.apply(this,arguments)}function dt(){return(dt=(0,_.Z)(function*(p,c){yield Tr((0,z.m9)(p),c)})).apply(this,arguments)}let ln=(()=>{class p{constructor(d){this.providerId=p.PROVIDER_ID,this.auth=zn(d)}verifyPhoneNumber(d,m){return Ie(this.auth,d,(0,z.m9)(m))}static credential(d,m){return tr._fromVerification(d,m)}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:m,temporaryProof:R}=d;return m&&R?tr._fromTokenResponse(m,R):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function mi(p,c){return c?jn(c):(Ee(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class Qi extends Ii{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return Gr(c,this._buildIdpRequest())}_linkToIdToken(c,d){return Gr(c,this._buildIdpRequest(d))}_getReauthenticationResolver(c){return Gr(c,this._buildIdpRequest())}_buildIdpRequest(c){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(d.idToken=c),d}}function Qs(p){return nr(p.auth,new Qi(p),p.bypassAuthState)}function Os(p){const{auth:c,user:d}=p;return Ee(d,c,"internal-error"),Vo(d,new Qi(p),p.bypassAuthState)}function ii(p){return _s.apply(this,arguments)}function _s(){return(_s=(0,_.Z)(function*(p){const{auth:c,user:d}=p;return Ee(d,c,"internal-error"),Tr(d,new Qi(p),p.bypassAuthState)})).apply(this,arguments)}class Bt{constructor(c,d,m,R,U=!1){this.auth=c,this.resolver=m,this.user=R,this.bypassAuthState=U,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var c=this;return new Promise(function(){var d=(0,_.Z)(function*(m,R){c.pendingPromise={resolve:m,reject:R};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(U){c.reject(U)}});return function(m,R){return d.apply(this,arguments)}}())}onAuthEvent(c){var d=this;return(0,_.Z)(function*(){const{urlResponse:m,sessionId:R,postBody:U,tenantId:ie,error:_e,type:Ye}=c;if(_e)return void d.reject(_e);const rt={auth:d.auth,requestUri:m,sessionId:R,tenantId:ie||void 0,postBody:U||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(Ye)(rt))}catch(mt){d.reject(mt)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return Qs;case"linkViaPopup":case"linkViaRedirect":return ii;case"reauthViaPopup":case"reauthViaRedirect":return Os;default:Oe(this.auth,"internal-error")}}resolve(c){$t(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){$t(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sl=new Ar(2e3,1e4);function nc(){return(nc=(0,_.Z)(function*(p,c,d){const m=zn(p);Ke(p,c,vr);const R=mi(m,d);return new wc(m,"signInViaPopup",c,R).executeNotNull()})).apply(this,arguments)}function pa(){return(pa=(0,_.Z)(function*(p,c,d){const m=(0,z.m9)(p);Ke(m.auth,c,vr);const R=mi(m.auth,d);return new wc(m.auth,"reauthViaPopup",c,R,m).executeNotNull()})).apply(this,arguments)}function ka(){return(ka=(0,_.Z)(function*(p,c,d){const m=(0,z.m9)(p);Ke(m.auth,c,vr);const R=mi(m.auth,d);return new wc(m.auth,"linkViaPopup",c,R,m).executeNotNull()})).apply(this,arguments)}let wc=(()=>{class p extends Bt{constructor(d,m,R,U,ie){super(d,m,U,ie),this.provider=R,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var d=this;return(0,_.Z)(function*(){const m=yield d.execute();return Ee(m,d.auth,"internal-error"),m})()}onExecution(){var d=this;return(0,_.Z)(function*(){$t(1===d.filter.length,"Popup operations only handle one event");const m=wo();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],m),d.authWindow.associatedEvent=m,d.resolver._originValidation(d.auth).catch(R=>{d.reject(R)}),d.resolver._isIframeWebStorageSupported(d.auth,R=>{R||d.reject(me(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const d=()=>{var m,R;this.pollId=null!==(R=null===(m=this.authWindow)||void 0===m?void 0:m.window)&&void 0!==R&&R.closed?window.setTimeout(()=>{this.pollId=null,this.reject(me(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,sl.get())};d()}}return p.currentPopupAction=null,p})();const Xi="pendingRedirect",Ai=new Map;class ga extends Bt{constructor(c,d,m=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,m),this.eventId=null}execute(){var c=()=>super.execute,d=this;return(0,_.Z)(function*(){let m=Ai.get(d.auth._key());if(!m){try{const U=(yield function Pu(p,c){return To.apply(this,arguments)}(d.resolver,d.auth))?yield c().call(d):null;m=()=>Promise.resolve(U)}catch(R){m=()=>Promise.reject(R)}Ai.set(d.auth._key(),m)}return d.bypassAuthState||Ai.set(d.auth._key(),()=>Promise.resolve(null)),m()})()}onAuthEvent(c){var d=()=>super.onAuthEvent,m=this;return(0,_.Z)(function*(){if("signInViaRedirect"===c.type)return d().call(m,c);if("unknown"!==c.type){if(c.eventId){const R=yield m.auth._redirectUserForId(c.eventId);if(R)return m.user=R,d().call(m,c);m.resolve(null)}}else m.resolve(null)})()}onExecution(){return(0,_.Z)(function*(){})()}cleanUp(){}}function To(){return(To=(0,_.Z)(function*(p,c){const d=bc(c),m=Vl(p);if(!(yield m._isAvailable()))return!1;const R="true"===(yield m._get(d));return yield m._remove(d),R})).apply(this,arguments)}function Yo(p,c){return rc.apply(this,arguments)}function rc(){return(rc=(0,_.Z)(function*(p,c){return Vl(p)._set(bc(c),"true")})).apply(this,arguments)}function ol(p,c){Ai.set(p._key(),c)}function Vl(p){return jn(p._redirectPersistence)}function bc(p){return re(Xi,p.config.apiKey,p.name)}function ma(p,c,d){return function La(p,c,d){return Xs.apply(this,arguments)}(p,c,d)}function Xs(){return(Xs=(0,_.Z)(function*(p,c,d){const m=zn(p);Ke(p,c,vr),yield m._initializationPromise;const R=mi(m,d);return yield Yo(R,m),R._openRedirect(m,c,"signInViaRedirect")})).apply(this,arguments)}function Xc(p,c,d){return function _a(p,c,d){return So.apply(this,arguments)}(p,c,d)}function So(){return(So=(0,_.Z)(function*(p,c,d){const m=(0,z.m9)(p);Ke(m.auth,c,vr),yield m.auth._initializationPromise;const R=mi(m.auth,d);yield Yo(R,m.auth);const U=yield Ou(m);return R._openRedirect(m.auth,c,"reauthViaRedirect",U)})).apply(this,arguments)}function Jc(p,c,d){return function xs(p,c,d){return Nu.apply(this,arguments)}(p,c,d)}function Nu(){return(Nu=(0,_.Z)(function*(p,c,d){const m=(0,z.m9)(p);Ke(m.auth,c,vr),yield m.auth._initializationPromise;const R=mi(m.auth,d);yield os(!1,m,c.providerId),yield Yo(R,m.auth);const U=yield Ou(m);return R._openRedirect(m.auth,c,"linkViaRedirect",U)})).apply(this,arguments)}function Ao(){return(Ao=(0,_.Z)(function*(p,c){return yield zn(p)._initializationPromise,Mo(p,c,!1)})).apply(this,arguments)}function Mo(p,c){return va.apply(this,arguments)}function va(){return(va=(0,_.Z)(function*(p,c,d=!1){const m=zn(p),R=mi(m,c),ie=yield new ga(m,R,d).execute();return ie&&!d&&(delete ie.user._redirectEventId,yield m._persistUserIfCurrent(ie.user),yield m._setRedirectUser(null,c)),ie})).apply(this,arguments)}function Ou(p){return D.apply(this,arguments)}function D(){return(D=(0,_.Z)(function*(p){const c=wo(`${p.uid}:::`);return p._redirectEventId=c,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),c})).apply(this,arguments)}class x{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let d=!1;return this.consumers.forEach(m=>{this.isEventForConsumer(c,m)&&(d=!0,this.sendToConsumer(c,m),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function ge(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return le(p);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=c,d=!0)),d}sendToConsumer(c,d){var m;if(c.error&&!le(c)){const R=(null===(m=c.error.code)||void 0===m?void 0:m.split("auth/")[1])||"internal-error";d.onError(me(this.auth,R))}else d.onAuthEvent(c)}isEventForConsumer(c,d){const m=null===d.eventId||!!c.eventId&&c.eventId===d.eventId;return d.filter.includes(c.type)&&m}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Q(c))}saveEventToCache(c){this.cachedEventUids.add(Q(c)),this.lastProcessedEventTime=Date.now()}}function Q(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(c=>c).join("-")}function le({type:p,error:c}){return"unknown"===p&&"auth/no-auth-event"===c?.code}function Be(p){return ft.apply(this,arguments)}function ft(){return(ft=(0,_.Z)(function*(p,c={}){return Ne(p,"GET","/v1/projects",c)})).apply(this,arguments)}const ut=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,It=/^https?/;function Ot(){return(Ot=(0,_.Z)(function*(p){if(p.config.emulator)return;const{authorizedDomains:c}=yield Be(p);for(const d of c)try{if(Jr(d))return}catch{}Oe(p,"unauthorized-domain")})).apply(this,arguments)}function Jr(p){const c=Wn(),{protocol:d,hostname:m}=new URL(c);if(p.startsWith("chrome-extension://")){const ie=new URL(p);return""===ie.hostname&&""===m?"chrome-extension:"===d&&p.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===d&&ie.hostname===m}if(!It.test(d))return!1;if(ut.test(p))return m===p;const R=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(m)}const Fn=new Ar(3e4,6e4);function ic(){const p=ir().___jsl;if(p?.H)for(const c of Object.keys(p.H))if(p.H[c].r=p.H[c].r||[],p.H[c].L=p.H[c].L||[],p.H[c].r=[...p.H[c].L],p.CP)for(let d=0;d<p.CP.length;d++)p.CP[d]=null}let ys=null;const Js=new Ar(5e3,15e3),sc="__/auth/iframe",Tc="emulator/auth/iframe",xu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ya=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eo(p){const c=p.config;Ee(c.authDomain,p,"auth-domain-config-required");const d=c.emulator?be(c,Tc):`https://${p.config.authDomain}/${sc}`,m={apiKey:c.apiKey,appName:p.name,v:ue.SDK_VERSION},R=ya.get(p.config.apiHost);R&&(m.eid=R);const U=p._getFrameworks();return U.length&&(m.fw=U.join(",")),`${d}?${(0,z.xO)(m).slice(1)}`}function ku(){return ku=(0,_.Z)(function*(p){const c=yield function Es(p){return ys=ys||function si(p){return new Promise((c,d)=>{var m,R,U;function ie(){ic(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{ic(),d(me(p,"network-request-failed"))},timeout:Fn.get()})}if(null!==(R=null===(m=ir().gapi)||void 0===m?void 0:m.iframes)&&void 0!==R&&R.Iframe)c(gapi.iframes.getContext());else{if(null===(U=ir().gapi)||void 0===U||!U.load){const _e=mr("iframefcb");return ir()[_e]=()=>{gapi.load?ie():d(me(p,"network-request-failed"))},Dn(`https://apis.google.com/js/api.js?onload=${_e}`).catch(Ye=>d(Ye))}ie()}}).catch(c=>{throw ys=null,c})}(p),ys}(p),d=ir().gapi;return Ee(d,p,"internal-error"),c.open({where:document.body,url:eo(p),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xu,dontclear:!0},m=>new Promise(function(){var R=(0,_.Z)(function*(U,ie){yield m.restyle({setHideOnLeave:!1});const _e=me(p,"network-request-failed"),Ye=ir().setTimeout(()=>{ie(_e)},Js.get());function rt(){ir().clearTimeout(Ye),U(m)}m.ping(rt).then(rt,()=>{ie(_e)})});return function(U,ie){return R.apply(this,arguments)}}()))}),ku.apply(this,arguments)}const Zn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class cl{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const oc="__/auth/handler",Hl="emulator/auth/handler",Ro=encodeURIComponent("fac");function Fu(p,c,d,m,R,U){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,_.Z)(function*(p,c,d,m,R,U){Ee(p.config.authDomain,p,"auth-domain-config-required"),Ee(p.config.apiKey,p,"invalid-api-key");const ie={apiKey:p.config.apiKey,appName:p.name,authType:d,redirectUrl:m,v:ue.SDK_VERSION,eventId:R};if(c instanceof vr){c.setDefaultLanguage(p.languageCode),ie.providerId=c.providerId||"",(0,z.xb)(c.getCustomParameters())||(ie.customParameters=JSON.stringify(c.getCustomParameters()));for(const[mt,gt]of Object.entries(U||{}))ie[mt]=gt}if(c instanceof Zr){const mt=c.getScopes().filter(gt=>""!==gt);mt.length>0&&(ie.scopes=mt.join(","))}p.tenantId&&(ie.tid=p.tenantId);const _e=ie;for(const mt of Object.keys(_e))void 0===_e[mt]&&delete _e[mt];const Ye=yield p._getAppCheckToken(),rt=Ye?`#${Ro}=${encodeURIComponent(Ye)}`:"";return`${function oi({config:p}){return p.emulator?be(p,Hl):`https://${p.authDomain}/${oc}`}(p)}?${(0,z.xO)(_e).slice(1)}${rt}`})).apply(this,arguments)}const ul="webStorageSupport",$l=class eu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xr,this._completeRedirectFn=Mo,this._overrideRedirectResult=ol}_openPopup(c,d,m,R){var U=this;return(0,_.Z)(function*(){var ie;$t(null===(ie=U.eventManagers[c._key()])||void 0===ie?void 0:ie.manager,"_initialize() not called before _openPopup()");const _e=yield Fu(c,d,m,Wn(),R);return function Sc(p,c,d,m=500,R=600){const U=Math.max((window.screen.availHeight-R)/2,0).toString(),ie=Math.max((window.screen.availWidth-m)/2,0).toString();let _e="";const Ye=Object.assign(Object.assign({},Zn),{width:m.toString(),height:R.toString(),top:U,left:ie}),rt=(0,z.z$)().toLowerCase();d&&(_e=fe(rt)?"_blank":d),H(rt)&&(c=c||"http://localhost",Ye.scrollbars="yes");const mt=Object.entries(Ye).reduce((or,[Ls,hu])=>`${or}${Ls}=${hu},`,"");if(function yn(p=(0,z.z$)()){var c;return Wt(p)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(rt)&&"_self"!==_e)return function Xd(p,c){const d=document.createElement("a");d.href=p,d.target=c;const m=document.createEvent("MouseEvent");m.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(m)}(c||"",_e),new cl(null);const gt=window.open(c||"",_e,mt);Ee(gt,p,"popup-blocked");try{gt.focus()}catch{}return new cl(gt)}(c,_e,wo())})()}_openRedirect(c,d,m,R){var U=this;return(0,_.Z)(function*(){return yield U._originValidation(c),function Zc(p){ir().location.href=p}(yield Fu(c,d,m,Wn(),R)),new Promise(()=>{})})()}_initialize(c){const d=c._key();if(this.eventManagers[d]){const{manager:R,promise:U}=this.eventManagers[d];return R?Promise.resolve(R):($t(U,"If manager is not set, promise should be"),U)}const m=this.initAndGetManager(c);return this.eventManagers[d]={promise:m},m.catch(()=>{delete this.eventManagers[d]}),m}initAndGetManager(c){var d=this;return(0,_.Z)(function*(){const m=yield function Fa(p){return ku.apply(this,arguments)}(c),R=new x(c);return m.register("authEvent",U=>(Ee(U?.authEvent,c,"invalid-auth-event"),{status:R.onEvent(U.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[c._key()]={manager:R},d.iframes[c._key()]=m,R})()}_isIframeWebStorageSupported(c,d){this.iframes[c._key()].send(ul,{type:ul},R=>{var U;const ie=null===(U=R?.[0])||void 0===U?void 0:U[ul];void 0!==ie&&d(!!ie),Oe(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function Zt(p){return Ot.apply(this,arguments)}(c)),this.originValidationPromises[d]}get _shouldInitProactively(){return Fr()||W()||Wt()}};class to{constructor(c){this.factorId=c}_process(c,d,m){switch(d.type){case"enroll":return this._finalizeEnroll(c,d.credential,m);case"signin":return this._finalizeSignIn(c,d.credential);default:return vt("unexpected MultiFactorSessionType")}}}class Ua extends to{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new Ua(c)}_finalizeEnroll(c,d,m){return function xr(p,c){return Ne(p,"POST","/v2/accounts/mfaEnrollment:finalize",Le(p,c))}(c,{idToken:d,displayName:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,d){return function Oa(p,c){return Ne(p,"POST","/v2/accounts/mfaSignIn:finalize",Le(p,c))}(c,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Wl=(()=>{class p{constructor(){}static assertion(d){return Ua._fromCredential(d)}}return p.FACTOR_ID="phone",p})();var Gl="@firebase/auth";class ks{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var d=this;return(0,_.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const d=this.auth.onIdTokenChanged(m=>{c(m?.stsTokenManager.accessToken||null)});this.internalListeners.set(c,d),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const d=this.internalListeners.get(c);d&&(this.internalListeners.delete(c),d(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ja(){return window}(0,z.Pz)("authIdTokenMaxAge"),function Ea(p){(0,ue._registerComponent)(new pe.wA("auth",(c,{options:d})=>{const m=c.getProvider("app").getImmediate(),R=c.getProvider("heartbeat"),U=c.getProvider("app-check-internal"),{apiKey:ie,authDomain:_e}=m.options;Ee(ie&&!ie.includes(":"),"invalid-api-key",{appName:m.name});const Ye={apiKey:ie,authDomain:_e,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Y(p)},rt=new Bs(m,R,U,Ye);return function ia(p,c){const d=c?.persistence||[],m=(Array.isArray(d)?d:[d]).map(jn);c?.errorMap&&p._updateErrorMap(c.errorMap),p._initializeWithPersistence(m,c?.popupRedirectResolver)}(rt,d),rt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,d,m)=>{c.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new pe.wA("auth-internal",c=>{const d=zn(c.getProvider("auth").getImmediate());return new ks(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(Gl,"0.23.2",function dl(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(p)),(0,ue.registerVersion)(Gl,"0.23.2","esm2017")}("Browser");function nu(){return nu=(0,_.Z)(function*(p,c,d){var m;const{BuildInfo:R}=ja();$t(c.sessionId,"AuthEvent did not contain a session ID");const U=yield function hl(p){return Va.apply(this,arguments)}(c.sessionId),ie={};return Wt()?ie.ibi=R.packageName:qe()?ie.apn=R.packageName:Oe(p,"operation-not-supported-in-this-environment"),R.displayName&&(ie.appDisplayName=R.displayName),ie.sessionId=U,Fu(p,d,c.type,void 0,null!==(m=c.eventId)&&void 0!==m?m:void 0,ie)}),nu.apply(this,arguments)}function iu(){return(iu=(0,_.Z)(function*(p){const{BuildInfo:c}=ja(),d={};Wt()?d.iosBundleId=c.packageName:qe()?d.androidPackageName=c.packageName:Oe(p,"operation-not-supported-in-this-environment"),yield Be(p,d)})).apply(this,arguments)}function Mc(){return(Mc=(0,_.Z)(function*(p,c,d){const{cordova:m}=ja();let R=()=>{};try{yield new Promise((U,ie)=>{let _e=null;function Ye(){var gt;U();const or=null===(gt=m.plugins.browsertab)||void 0===gt?void 0:gt.close;"function"==typeof or&&or(),"function"==typeof d?.close&&d.close()}function rt(){_e||(_e=window.setTimeout(()=>{ie(me(p,"redirect-cancelled-by-user"))},2e3))}function mt(){"visible"===document?.visibilityState&&rt()}c.addPassiveListener(Ye),document.addEventListener("resume",rt,!1),qe()&&document.addEventListener("visibilitychange",mt,!1),R=()=>{c.removePassiveListener(Ye),document.removeEventListener("resume",rt,!1),document.removeEventListener("visibilitychange",mt,!1),_e&&window.clearTimeout(_e)}})}finally{R()}})).apply(this,arguments)}function Va(){return(Va=(0,_.Z)(function*(p){const c=function Rc(p){if($t(/[0-9a-zA-Z]+/.test(p),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(p);const c=new ArrayBuffer(p.length),d=new Uint8Array(c);for(let m=0;m<p.length;m++)d[m]=p.charCodeAt(m);return d}(p),d=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(d)).map(R=>R.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class sf extends x{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(c)),super.onEvent(c)}initialized(){var c=this;return(0,_.Z)(function*(){yield c.initPromise})()}}function Pc(p){return gl.apply(this,arguments)}function gl(){return(gl=(0,_.Z)(function*(p){const c=yield ml()._get(Xl(p));return c&&(yield ml()._remove(Xl(p))),c})).apply(this,arguments)}function Ql(){const p=[];for(let d=0;d<20;d++){const m=Math.floor(62*Math.random());p.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(m))}return p.join("")}function ml(){return jn(Sr)}function Xl(p){return re("authEvent",p.config.apiKey,p.name)}function ju(p){if(!p?.includes("?"))return{};const[c,...d]=p.split("?");return(0,z.zd)(d.join("?"))}const cf=class _l{constructor(){this._redirectPersistence=Xr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Mo,this._overrideRedirectResult=ol}_initialize(c){var d=this;return(0,_.Z)(function*(){const m=c._key();let R=d.eventManagers.get(m);return R||(R=new sf(c),d.eventManagers.set(m,R),d.attachCallbackListeners(c,R)),R})()}_openPopup(c){Oe(c,"operation-not-supported-in-this-environment")}_openRedirect(c,d,m,R){var U=this;return(0,_.Z)(function*(){!function rf(p){var c,d,m,R,U,ie,_e,Ye,rt,mt;const gt=ja();Ee("function"==typeof(null===(c=gt?.universalLinks)||void 0===c?void 0:c.subscribe),p,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ee(typeof(null===(d=gt?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ee("function"==typeof(null===(U=null===(R=null===(m=gt?.cordova)||void 0===m?void 0:m.plugins)||void 0===R?void 0:R.browsertab)||void 0===U?void 0:U.openUrl),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ee("function"==typeof(null===(Ye=null===(_e=null===(ie=gt?.cordova)||void 0===ie?void 0:ie.plugins)||void 0===_e?void 0:_e.browsertab)||void 0===Ye?void 0:Ye.isAvailable),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ee("function"==typeof(null===(mt=null===(rt=gt?.cordova)||void 0===rt?void 0:rt.InAppBrowser)||void 0===mt?void 0:mt.open),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const ie=yield U._initialize(c);yield ie.initialized(),ie.resetRedirect(),function Qc(){Ai.clear()}(),yield U._originValidation(c);const _e=function ql(p,c,d=null){return{type:c,eventId:d,urlResponse:null,sessionId:Ql(),postBody:null,tenantId:p.tenantId,error:me(p,"no-auth-event")}}(c,m,R);yield function Ha(p,c){return ml()._set(Xl(p),c)}(c,_e);const Ye=yield function tf(p,c,d){return nu.apply(this,arguments)}(c,_e,d),rt=yield function Bu(p){const{cordova:c}=ja();return new Promise(d=>{c.plugins.browsertab.isAvailable(m=>{let R=null;m?c.plugins.browsertab.openUrl(p):R=c.InAppBrowser.open(p,function Ut(p=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}()?"_blank":"_system","location=yes"),d(R)})})}(Ye);return function nf(p,c,d){return Mc.apply(this,arguments)}(c,ie,rt)})()}_isIframeWebStorageSupported(c,d){throw new Error("Method not implemented.")}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function ru(p){return iu.apply(this,arguments)}(c)),this.originValidationPromises[d]}attachCallbackListeners(c,d){const{universalLinks:m,handleOpenURL:R,BuildInfo:U}=ja(),ie=setTimeout((0,_.Z)(function*(){yield Pc(c),d.onEvent(Vu())}),500),_e=function(){var mt=(0,_.Z)(function*(gt){clearTimeout(ie);const or=yield Pc(c);let Ls=null;or&&gt?.url&&(Ls=function fh(p,c){var d,m;const R=function Jl(p){const c=ju(p),d=c.link?decodeURIComponent(c.link):void 0,m=ju(d).link,R=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return ju(R).link||R||m||d||p}(c);if(R.includes("/__/auth/callback")){const U=ju(R),ie=U.firebaseError?function af(p){try{return JSON.parse(p)}catch{return null}}(decodeURIComponent(U.firebaseError)):null,_e=null===(m=null===(d=ie?.code)||void 0===d?void 0:d.split("auth/"))||void 0===m?void 0:m[1],Ye=_e?me(_e):null;return Ye?{type:p.type,eventId:p.eventId,tenantId:p.tenantId,error:Ye,urlResponse:null,sessionId:null,postBody:null}:{type:p.type,eventId:p.eventId,tenantId:p.tenantId,sessionId:p.sessionId,urlResponse:R,postBody:null}}return null}(or,gt.url)),d.onEvent(Ls||Vu())});return function(or){return mt.apply(this,arguments)}}();typeof m<"u"&&"function"==typeof m.subscribe&&m.subscribe(null,_e);const Ye=R,rt=`${U.packageName.toLowerCase()}://`;ja().handleOpenURL=function(){var mt=(0,_.Z)(function*(gt){if(gt.toLowerCase().startsWith(rt)&&_e({url:gt}),"function"==typeof Ye)try{Ye(gt)}catch(or){console.error(or)}});return function(gt){return mt.apply(this,arguments)}}()}};function Vu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:me("no-auth-event")}}function ou(){var p;return(null===(p=self?.location)||void 0===p?void 0:p.protocol)||null}function ed(p=(0,z.z$)()){return!("file:"!==ou()&&"ionic:"!==ou()&&"capacitor:"!==ou()||!p.toLowerCase().match(/iphone|ipad|ipod|android/))}function td(){try{const p=self.localStorage,c=wo();if(p)return p.setItem(c,"1"),p.removeItem(c),!function ac(p=(0,z.z$)()){return function El(){return(0,z.w1)()&&11===document?.documentMode}()||function lf(p=(0,z.z$)()){return/Edge\/\d+/.test(p)}(p)}()||(0,z.hl)()}catch{return Il()&&(0,z.hl)()}return!1}function Il(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ia(){return(function au(){return"http:"===ou()||"https:"===ou()}()||(0,z.ru)()||ed())&&!function ph(){return(0,z.b$)()||(0,z.UG)()}()&&td()&&!Il()}function cu(){return ed()&&typeof document<"u"}function Nc(){return(Nc=(0,_.Z)(function*(){return!!cu()&&new Promise(p=>{const c=setTimeout(()=>{p(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),p(!0)})})})).apply(this,arguments)}const Is={LOCAL:"local",NONE:"none",SESSION:"session"},uc=Ee,Ca="persistence";function Po(p){return qo.apply(this,arguments)}function qo(){return(qo=(0,_.Z)(function*(p){yield p._initializationPromise;const c=uu(),d=re(Ca,p.config.apiKey,p.name);c&&c.setItem(d,p._getPersistence())})).apply(this,arguments)}function uu(){var p;try{return(null===(p=function nd(){return typeof window<"u"?window:null}())||void 0===p?void 0:p.sessionStorage)||null}catch{return null}}const df=Ee;class No{constructor(){this.browserResolver=jn($l),this.cordovaResolver=jn(cf),this.underlyingResolver=null,this._redirectPersistence=Xr,this._completeRedirectFn=Mo,this._overrideRedirectResult=ol}_initialize(c){var d=this;return(0,_.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,d,m,R){var U=this;return(0,_.Z)(function*(){return yield U.selectUnderlyingResolver(),U.assertedUnderlyingResolver._openPopup(c,d,m,R)})()}_openRedirect(c,d,m,R){var U=this;return(0,_.Z)(function*(){return yield U.selectUnderlyingResolver(),U.assertedUnderlyingResolver._openRedirect(c,d,m,R)})()}_isIframeWebStorageSupported(c,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,d)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return cu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return df(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,_.Z)(function*(){if(c.underlyingResolver)return;const d=yield function cc(){return Nc.apply(this,arguments)}();c.underlyingResolver=d?c.cordovaResolver:c.browserResolver})()}}function Cl(p){return p.unwrap()}function lu(p){return sd(p)}function sd(p){const{_tokenResponse:c}=p instanceof z.ZR?p.customData:p;if(!c)return null;if(!(p instanceof z.ZR)&&"temporaryProof"in c&&"phoneNumber"in c)return ln.credentialFromResult(p);const d=c.providerId;if(!d||d===ve.PASSWORD)return null;let m;switch(d){case ve.GOOGLE:m=Yr;break;case ve.FACEBOOK:m=is;break;case ve.GITHUB:m=Ws;break;case ve.TWITTER:m=oa;break;default:const{oauthIdToken:R,oauthAccessToken:U,oauthTokenSecret:ie,pendingToken:_e,nonce:Ye}=c;return U||ie||R||_e?_e?d.startsWith("saml.")?Gt._create(d,_e):Pt._fromParams({providerId:d,signInMethod:d,pendingToken:_e,idToken:R,accessToken:U}):new wi(d).credential({idToken:R,accessToken:U,rawNonce:Ye}):null}return p instanceof z.ZR?m.credentialFromError(p):m.credentialFromResult(p)}function ai(p,c){return c.catch(d=>{throw d instanceof z.ZR&&function $u(p,c){var d;const m=null===(d=c.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===c?.code)c.resolver=new od(p,function Li(p,c){var d;const m=(0,z.m9)(p),R=c;return Ee(c.customData.operationType,m,"argument-error"),Ee(null===(d=R.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,m,"argument-error"),qr._fromError(m,R)}(p,c));else if(m){const R=sd(c),U=c;R&&(U.credential=R,U.tenantId=m.tenantId||void 0,U.email=m.email||void 0,U.phoneNumber=m.phoneNumber||void 0)}}(p,d),d}).then(d=>{const R=d.user;return{operationType:d.operationType,credential:lu(d),additionalUserInfo:N(d),user:sr.getOrCreate(R)}})}function du(p,c){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,_.Z)(function*(p,c){const d=yield c;return{verificationId:d.verificationId,confirm:m=>ai(p,d.confirm(m))}})).apply(this,arguments)}class od{constructor(c,d){this.resolver=d,this.auth=function id(p){return p.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return ai(Cl(this.auth),this.resolver.resolveSignIn(c))}}class sr{constructor(c){this._delegate=c,this.multiFactor=function Do(p){const c=(0,z.m9)(p);return la.has(c)||la.set(c,zt._fromUser(c)),la.get(c)}(c)}static getOrCreate(c){return sr.USER_MAP.has(c)||sr.USER_MAP.set(c,new sr(c)),sr.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var d=this;return(0,_.Z)(function*(){return ai(d.auth,Vr(d._delegate,c))})()}linkWithPhoneNumber(c,d){var m=this;return(0,_.Z)(function*(){return du(m.auth,function M(p,c,d){return B.apply(this,arguments)}(m._delegate,c,d))})()}linkWithPopup(c){var d=this;return(0,_.Z)(function*(){return ai(d.auth,function Ru(p,c,d){return ka.apply(this,arguments)}(d._delegate,c,No))})()}linkWithRedirect(c){var d=this;return(0,_.Z)(function*(){return yield Po(zn(d.auth)),Jc(d._delegate,c,No)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var d=this;return(0,_.Z)(function*(){return ai(d.auth,zi(d._delegate,c))})()}reauthenticateWithPhoneNumber(c,d){return du(this.auth,function J(p,c,d){return Ce.apply(this,arguments)}(this._delegate,c,d))}reauthenticateWithPopup(c){return ai(this.auth,function Kn(p,c,d){return pa.apply(this,arguments)}(this._delegate,c,No))}reauthenticateWithRedirect(c){var d=this;return(0,_.Z)(function*(){return yield Po(zn(d.auth)),Xc(d._delegate,c,No)})()}sendEmailVerification(c){return function ki(p,c){return Ks.apply(this,arguments)}(this._delegate,c)}unlink(c){var d=this;return(0,_.Z)(function*(){return yield function ur(p,c){return di.apply(this,arguments)}(d._delegate,c),d})()}updateEmail(c){return function $o(p,c){return Qa((0,z.m9)(p),c,null)}(this._delegate,c)}updatePassword(c){return function Ys(p,c){return Qa((0,z.m9)(p),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function jt(p,c){return dt.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function mc(p,c){return hs.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,d){return function ua(p,c,d){return Zs.apply(this,arguments)}(this._delegate,c,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}sr.USER_MAP=new WeakMap;const Qo=Ee;let fu=(()=>{class p{constructor(d,m){if(this.app=d,m.isInitialized())return this._delegate=m.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:R}=d.options;Qo(R,"invalid-api-key",{appName:d.name}),Qo(R,"invalid-api-key",{appName:d.name});const U=typeof window<"u"?No:void 0;this._delegate=m.initialize({options:{persistence:_i(R,d.name),popupRedirectResolver:U}}),this._delegate._updateErrorMap(Xe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?sr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,m){!function zr(p,c,d){const m=zn(p);Ee(m._canInitEmulator,m,"emulator-config-failed"),Ee(/^https?:\/\//.test(c),m,"invalid-emulator-scheme");const R=!!d?.disableWarnings,U=ws(c),{host:ie,port:_e}=function co(p){const c=ws(p),d=/(\/\/)?([^?#/]+)/.exec(p.substr(c.length));if(!d)return{host:"",port:null};const m=d[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(m);if(R){const U=R[1];return{host:U,port:bs(m.substr(U.length+1))}}{const[U,ie]=m.split(":");return{host:U,port:bs(ie)}}}(c);m.config.emulator={url:`${U}//${ie}${null===_e?"":`:${_e}`}/`},m.settings.appVerificationDisabledForTesting=!0,m.emulatorConfig=Object.freeze({host:ie,port:_e,protocol:U.replace(":",""),options:Object.freeze({disableWarnings:R})}),R||function Mi(){function p(){const c=document.createElement("p"),d=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}(this._delegate,d,m)}applyActionCode(d){return function Ra(p,c){return ls.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return Ir(this._delegate,d)}confirmPasswordReset(d,m){return function ri(p,c,d){return Oi.apply(this,arguments)}(this._delegate,d,m)}createUserWithEmailAndPassword(d,m){var R=this;return(0,_.Z)(function*(){return ai(R._delegate,function Gs(p,c,d){return vo.apply(this,arguments)}(R._delegate,d,m))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function Io(p,c){return Yi.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function yo(p,c){const d=Vn.parseLink(c);return"EMAIL_SIGNIN"===d?.operation}(0,d)}getRedirectResult(){var d=this;return(0,_.Z)(function*(){Qo(Ia(),d._delegate,"operation-not-supported-in-this-environment");const m=yield function vs(p,c){return Ao.apply(this,arguments)}(d._delegate,No);return m?ai(d._delegate,Promise.resolve(m)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function vl(p,c){zn(p)._logFramework(c)}(this._delegate,d)}onAuthStateChanged(d,m,R){const{next:U,error:ie,complete:_e}=Oc(d,m,R);return this._delegate.onAuthStateChanged(U,ie,_e)}onIdTokenChanged(d,m,R){const{next:U,error:ie,complete:_e}=Oc(d,m,R);return this._delegate.onIdTokenChanged(U,ie,_e)}sendSignInLinkToEmail(d,m){return function xi(p,c,d){return Zi.apply(this,arguments)}(this._delegate,d,m)}sendPasswordResetEmail(d,m){return function aa(p,c,d){return us.apply(this,arguments)}(this._delegate,d,m||void 0)}setPersistence(d){var m=this;return(0,_.Z)(function*(){let R;switch(function rd(p,c){uc(Object.values(Is).includes(c),p,"invalid-persistence-type"),(0,z.b$)()?uc(c!==Is.SESSION,p,"unsupported-persistence-type"):(0,z.UG)()?uc(c===Is.NONE,p,"unsupported-persistence-type"):Il()?uc(c===Is.NONE||c===Is.LOCAL&&(0,z.hl)(),p,"unsupported-persistence-type"):uc(c===Is.NONE||td(),p,"unsupported-persistence-type")}(m._delegate,d),d){case Is.SESSION:R=Xr;break;case Is.LOCAL:R=(yield jn(gi)._isAvailable())?gi:Sr;break;case Is.NONE:R=er;break;default:return Oe("argument-error",{appName:m._delegate.name})}return m._delegate.setPersistence(R)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return ai(this._delegate,function Rn(p){return gc.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return ai(this._delegate,fi(this._delegate,d))}signInWithCustomToken(d){return ai(this._delegate,function As(p,c){return qa.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,m){return ai(this._delegate,function ca(p,c,d){return fi((0,z.m9)(p),Wi.credential(c,d))}(this._delegate,d,m))}signInWithEmailLink(d,m){return ai(this._delegate,function fs(p,c,d){return Eo.apply(this,arguments)}(this._delegate,d,m))}signInWithPhoneNumber(d,m){return du(this._delegate,function g(p,c,d){return b.apply(this,arguments)}(this._delegate,d,m))}signInWithPopup(d){var m=this;return(0,_.Z)(function*(){return Qo(Ia(),m._delegate,"operation-not-supported-in-this-environment"),ai(m._delegate,function Zo(p,c,d){return nc.apply(this,arguments)}(m._delegate,d,No))})()}signInWithRedirect(d){var m=this;return(0,_.Z)(function*(){return Qo(Ia(),m._delegate,"operation-not-supported-in-this-environment"),yield Po(m._delegate),ma(m._delegate,d,No)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function Cr(p,c){return Rs.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return p.Persistence=Is,p})();function Oc(p,c,d){let m=p;"function"!=typeof p&&({next:m,error:c,complete:d}=p);const R=m;return{next:ie=>R(ie&&sr.getOrCreate(ie)),error:c,complete:d}}function _i(p,c){const d=function Hu(p,c){const d=uu();if(!d)return[];const m=re(Ca,p,c);switch(d.getItem(m)){case Is.NONE:return[er];case Is.LOCAL:return[gi,Xr];case Is.SESSION:return[Xr];default:return[]}}(p,c);if(typeof self<"u"&&!d.includes(gi)&&d.push(gi),typeof window<"u")for(const m of[Sr,Xr])d.includes(m)||d.push(m);return d.includes(er)||d.push(er),d}class lc{constructor(){this.providerId="phone",this._delegate=new ln(Cl(Z.Z.auth()))}static credential(c,d){return ln.credential(c,d)}verifyPhoneNumber(c,d){return this._delegate.verifyPhoneNumber(c,d)}unwrap(){return this._delegate}}lc.PHONE_SIGN_IN_METHOD=ln.PHONE_SIGN_IN_METHOD,lc.PROVIDER_ID=ln.PROVIDER_ID;const xc=Ee;class ad{constructor(c,d,m=Z.Z.app()){var R;xc(null===(R=m.options)||void 0===R?void 0:R.apiKey,"invalid-api-key",{appName:m.name}),this._delegate=new Dc(c,d,m.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function cd(p){p.INTERNAL.registerComponent(new pe.wA("auth-compat",c=>{const d=c.getProvider("app-compat").getImmediate(),m=c.getProvider("auth");return new fu(d,m)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Wi,FacebookAuthProvider:is,GithubAuthProvider:Ws,GoogleAuthProvider:Yr,OAuthProvider:wi,SAMLAuthProvider:Ss,PhoneAuthProvider:lc,PhoneMultiFactorGenerator:Wl,RecaptchaVerifier:ad,TwitterAuthProvider:oa,Auth:fu,AuthCredential:Ii,Error:z.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),p.registerVersion("@firebase/auth-compat","0.4.2")}(Z.Z)},6593:(ht,Te,O)=>{O.d(Te,{Dx:()=>Un,b2:()=>sn,q6:()=>Lt});var _=O(5879),Z=O(6814);class z extends Z.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ue extends z{static makeCurrent(){(0,Z.HT)(new ue)}onAndCancel($,H,W){return $.addEventListener(H,W),()=>{$.removeEventListener(H,W)}}dispatchEvent($,H){$.dispatchEvent(H)}remove($){$.parentNode&&$.parentNode.removeChild($)}createElement($,H){return(H=H||this.getDefaultDocument()).createElement($)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode($){return $.nodeType===Node.ELEMENT_NODE}isShadowRoot($){return $ instanceof DocumentFragment}getGlobalEventTarget($,H){return"window"===H?window:"document"===H?$:"body"===H?$.body:null}getBaseHref($){const H=function ce(){return oe=oe||document.querySelector("base"),oe?oe.getAttribute("href"):null}();return null==H?null:function Re(j){pe=pe||document.createElement("a"),pe.setAttribute("href",j);const $=pe.pathname;return"/"===$.charAt(0)?$:`/${$}`}(H)}resetBaseElement(){oe=null}getUserAgent(){return window.navigator.userAgent}getCookie($){return(0,Z.Mx)(document.cookie,$)}}let pe,oe=null,X=(()=>{class j{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(W){return new(W||j)};static#t=this.\u0275prov=_.Yz7({token:j,factory:j.\u0275fac})}return j})();const ne=new _.OlP("EventManagerPlugins");let se=(()=>{class j{constructor(H,W){this._zone=W,this._eventNameToPlugin=new Map,H.forEach(fe=>{fe.manager=this}),this._plugins=H.slice().reverse()}addEventListener(H,W,fe){return this._findPluginFor(W).addEventListener(H,W,fe)}getZone(){return this._zone}_findPluginFor(H){let W=this._eventNameToPlugin.get(H);if(W)return W;if(W=this._plugins.find(We=>We.supports(H)),!W)throw new _.vHH(5101,!1);return this._eventNameToPlugin.set(H,W),W}static#e=this.\u0275fac=function(W){return new(W||j)(_.LFG(ne),_.LFG(_.R0b))};static#t=this.\u0275prov=_.Yz7({token:j,factory:j.\u0275fac})}return j})();class $e{constructor($){this._doc=$}}const Pe="ng-app-id";let Xe=(()=>{class j{constructor(H,W,fe,We={}){this.doc=H,this.appId=W,this.nonce=fe,this.platformId=We,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,Z.PM)(We),this.resetHostNodes()}addStyles(H){for(const W of H)1===this.changeUsageCount(W,1)&&this.onStyleAdded(W)}removeStyles(H){for(const W of H)this.changeUsageCount(W,-1)<=0&&this.onStyleRemoved(W)}ngOnDestroy(){const H=this.styleNodesInDOM;H&&(H.forEach(W=>W.remove()),H.clear());for(const W of this.getAllStyles())this.onStyleRemoved(W);this.resetHostNodes()}addHost(H){this.hostNodes.add(H);for(const W of this.getAllStyles())this.addStyleToHost(H,W)}removeHost(H){this.hostNodes.delete(H)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(H){for(const W of this.hostNodes)this.addStyleToHost(W,H)}onStyleRemoved(H){const W=this.styleRef;W.get(H)?.elements?.forEach(fe=>fe.remove()),W.delete(H)}collectServerRenderedStyles(){const H=this.doc.head?.querySelectorAll(`style[${Pe}="${this.appId}"]`);if(H?.length){const W=new Map;return H.forEach(fe=>{null!=fe.textContent&&W.set(fe.textContent,fe)}),W}return null}changeUsageCount(H,W){const fe=this.styleRef;if(fe.has(H)){const We=fe.get(H);return We.usage+=W,We.usage}return fe.set(H,{usage:W,elements:[]}),W}getStyleElement(H,W){const fe=this.styleNodesInDOM,We=fe?.get(W);if(We?.parentNode===H)return fe.delete(W),We.removeAttribute(Pe),We;{const qe=this.doc.createElement("style");return this.nonce&&qe.setAttribute("nonce",this.nonce),qe.textContent=W,this.platformIsServer&&qe.setAttribute(Pe,this.appId),qe}}addStyleToHost(H,W){const fe=this.getStyleElement(H,W);H.appendChild(fe);const We=this.styleRef,qe=We.get(W)?.elements;qe?qe.push(fe):We.set(W,{elements:[fe],usage:1})}resetHostNodes(){const H=this.hostNodes;H.clear(),H.add(this.doc.head)}static#e=this.\u0275fac=function(W){return new(W||j)(_.LFG(Z.K0),_.LFG(_.AFp),_.LFG(_.Ojb,8),_.LFG(_.Lbi))};static#t=this.\u0275prov=_.Yz7({token:j,factory:j.\u0275fac})}return j})();const He={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},tt=/%COMP%/g,Oe=new _.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ke(j,$){return $.map(H=>H.replace(tt,j))}let Je=(()=>{class j{constructor(H,W,fe,We,qe,Ft,ct,Wt=null){this.eventManager=H,this.sharedStylesHost=W,this.appId=fe,this.removeStylesOnCompDestroy=We,this.doc=qe,this.platformId=Ft,this.ngZone=ct,this.nonce=Wt,this.rendererByCompId=new Map,this.platformIsServer=(0,Z.PM)(Ft),this.defaultRenderer=new Ee(H,qe,ct,this.platformIsServer)}createRenderer(H,W){if(!H||!W)return this.defaultRenderer;this.platformIsServer&&W.encapsulation===_.ifc.ShadowDom&&(W={...W,encapsulation:_.ifc.Emulated});const fe=this.getOrCreateRenderer(H,W);return fe instanceof At?fe.applyToHost(H):fe instanceof On&&fe.applyStyles(),fe}getOrCreateRenderer(H,W){const fe=this.rendererByCompId;let We=fe.get(W.id);if(!We){const qe=this.doc,Ft=this.ngZone,ct=this.eventManager,Wt=this.sharedStylesHost,Ut=this.removeStylesOnCompDestroy,yn=this.platformIsServer;switch(W.encapsulation){case _.ifc.Emulated:We=new At(ct,Wt,W,this.appId,Ut,qe,Ft,yn);break;case _.ifc.ShadowDom:return new An(ct,Wt,H,W,qe,Ft,this.nonce,yn);default:We=new On(ct,Wt,W,Ut,qe,Ft,yn)}fe.set(W.id,We)}return We}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(W){return new(W||j)(_.LFG(se),_.LFG(Xe),_.LFG(_.AFp),_.LFG(Oe),_.LFG(Z.K0),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(_.Ojb))};static#t=this.\u0275prov=_.Yz7({token:j,factory:j.\u0275fac})}return j})();class Ee{constructor($,H,W,fe){this.eventManager=$,this.doc=H,this.ngZone=W,this.platformIsServer=fe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement($,H){return H?this.doc.createElementNS(He[H]||H,$):this.doc.createElement($)}createComment($){return this.doc.createComment($)}createText($){return this.doc.createTextNode($)}appendChild($,H){(Wn($)?$.content:$).appendChild(H)}insertBefore($,H,W){$&&(Wn($)?$.content:$).insertBefore(H,W)}removeChild($,H){$&&$.removeChild(H)}selectRootElement($,H){let W="string"==typeof $?this.doc.querySelector($):$;if(!W)throw new _.vHH(-5104,!1);return H||(W.textContent=""),W}parentNode($){return $.parentNode}nextSibling($){return $.nextSibling}setAttribute($,H,W,fe){if(fe){H=fe+":"+H;const We=He[fe];We?$.setAttributeNS(We,H,W):$.setAttribute(H,W)}else $.setAttribute(H,W)}removeAttribute($,H,W){if(W){const fe=He[W];fe?$.removeAttributeNS(fe,H):$.removeAttribute(`${W}:${H}`)}else $.removeAttribute(H)}addClass($,H){$.classList.add(H)}removeClass($,H){$.classList.remove(H)}setStyle($,H,W,fe){fe&(_.JOm.DashCase|_.JOm.Important)?$.style.setProperty(H,W,fe&_.JOm.Important?"important":""):$.style[H]=W}removeStyle($,H,W){W&_.JOm.DashCase?$.style.removeProperty(H):$.style[H]=""}setProperty($,H,W){$[H]=W}setValue($,H){$.nodeValue=H}listen($,H,W){if("string"==typeof $&&!($=(0,Z.q)().getGlobalEventTarget(this.doc,$)))throw new Error(`Unsupported event target ${$} for event ${H}`);return this.eventManager.addEventListener($,H,this.decoratePreventDefault(W))}decoratePreventDefault($){return H=>{if("__ngUnwrap__"===H)return $;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>$(H)):$(H))&&H.preventDefault()}}}function Wn(j){return"TEMPLATE"===j.tagName&&void 0!==j.content}class An extends Ee{constructor($,H,W,fe,We,qe,Ft,ct){super($,We,qe,ct),this.sharedStylesHost=H,this.hostEl=W,this.shadowRoot=W.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Wt=Ke(fe.id,fe.styles);for(const Ut of Wt){const yn=document.createElement("style");Ft&&yn.setAttribute("nonce",Ft),yn.textContent=Ut,this.shadowRoot.appendChild(yn)}}nodeOrShadowRoot($){return $===this.hostEl?this.shadowRoot:$}appendChild($,H){return super.appendChild(this.nodeOrShadowRoot($),H)}insertBefore($,H,W){return super.insertBefore(this.nodeOrShadowRoot($),H,W)}removeChild($,H){return super.removeChild(this.nodeOrShadowRoot($),H)}parentNode($){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot($)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class On extends Ee{constructor($,H,W,fe,We,qe,Ft,ct){super($,We,qe,Ft),this.sharedStylesHost=H,this.removeStylesOnCompDestroy=fe,this.styles=ct?Ke(ct,W.styles):W.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class At extends On{constructor($,H,W,fe,We,qe,Ft,ct){const Wt=fe+"-"+W.id;super($,H,W,We,qe,Ft,ct,Wt),this.contentAttr=function me(j){return"_ngcontent-%COMP%".replace(tt,j)}(Wt),this.hostAttr=function Ue(j){return"_nghost-%COMP%".replace(tt,j)}(Wt)}applyToHost($){this.applyStyles(),this.setAttribute($,this.hostAttr,"")}createElement($,H){const W=super.createElement($,H);return super.setAttribute(W,this.contentAttr,""),W}}let hr=(()=>{class j extends $e{constructor(H){super(H)}supports(H){return!0}addEventListener(H,W,fe){return H.addEventListener(W,fe,!1),()=>this.removeEventListener(H,W,fe)}removeEventListener(H,W,fe){return H.removeEventListener(W,fe)}static#e=this.\u0275fac=function(W){return new(W||j)(_.LFG(Z.K0))};static#t=this.\u0275prov=_.Yz7({token:j,factory:j.\u0275fac})}return j})();const Ar=["alt","control","meta","shift"],be={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},we={alt:j=>j.altKey,control:j=>j.ctrlKey,meta:j=>j.metaKey,shift:j=>j.shiftKey};let Ae=(()=>{class j extends $e{constructor(H){super(H)}supports(H){return null!=j.parseEventName(H)}addEventListener(H,W,fe){const We=j.parseEventName(W),qe=j.eventCallback(We.fullKey,fe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,Z.q)().onAndCancel(H,We.domEventName,qe))}static parseEventName(H){const W=H.toLowerCase().split("."),fe=W.shift();if(0===W.length||"keydown"!==fe&&"keyup"!==fe)return null;const We=j._normalizeKey(W.pop());let qe="",Ft=W.indexOf("code");if(Ft>-1&&(W.splice(Ft,1),qe="code."),Ar.forEach(Wt=>{const Ut=W.indexOf(Wt);Ut>-1&&(W.splice(Ut,1),qe+=Wt+".")}),qe+=We,0!=W.length||0===We.length)return null;const ct={};return ct.domEventName=fe,ct.fullKey=qe,ct}static matchEventFullKeyCode(H,W){let fe=be[H.key]||H.key,We="";return W.indexOf("code.")>-1&&(fe=H.code,We="code."),!(null==fe||!fe)&&(fe=fe.toLowerCase()," "===fe?fe="space":"."===fe&&(fe="dot"),Ar.forEach(qe=>{qe!==fe&&(0,we[qe])(H)&&(We+=qe+".")}),We+=fe,We===W)}static eventCallback(H,W,fe){return We=>{j.matchEventFullKeyCode(We,H)&&fe.runGuarded(()=>W(We))}}static _normalizeKey(H){return"esc"===H?"escape":H}static#e=this.\u0275fac=function(W){return new(W||j)(_.LFG(Z.K0))};static#t=this.\u0275prov=_.Yz7({token:j,factory:j.\u0275fac})}return j})();const Lt=(0,_.eFA)(_._c5,"browser",[{provide:_.Lbi,useValue:Z.bD},{provide:_.g9A,useValue:function V(){ue.makeCurrent()},multi:!0},{provide:Z.K0,useFactory:function Et(){return(0,_.RDi)(document),document},deps:[]}]),xt=new _.OlP(""),gn=[{provide:_.rWj,useClass:class ve{addToWindow($){_.dqk.getAngularTestability=(W,fe=!0)=>{const We=$.findTestabilityInTree(W,fe);if(null==We)throw new _.vHH(5103,!1);return We},_.dqk.getAllAngularTestabilities=()=>$.getAllTestabilities(),_.dqk.getAllAngularRootElements=()=>$.getAllRootElements(),_.dqk.frameworkStabilizers||(_.dqk.frameworkStabilizers=[]),_.dqk.frameworkStabilizers.push(W=>{const fe=_.dqk.getAllAngularTestabilities();let We=fe.length,qe=!1;const Ft=function(ct){qe=qe||ct,We--,0==We&&W(qe)};fe.forEach(ct=>{ct.whenStable(Ft)})})}findTestabilityInTree($,H,W){return null==H?null:$.getTestability(H)??(W?(0,Z.q)().isShadowRoot(H)?this.findTestabilityInTree($,H.host,!0):this.findTestabilityInTree($,H.parentElement,!0):null)}},deps:[]},{provide:_.lri,useClass:_.dDg,deps:[_.R0b,_.eoX,_.rWj]},{provide:_.dDg,useClass:_.dDg,deps:[_.R0b,_.eoX,_.rWj]}],Mn=[{provide:_.zSh,useValue:"root"},{provide:_.qLn,useFactory:function pn(){return new _.qLn},deps:[]},{provide:ne,useClass:hr,multi:!0,deps:[Z.K0,_.R0b,_.Lbi]},{provide:ne,useClass:Ae,multi:!0,deps:[Z.K0]},Je,Xe,se,{provide:_.FYo,useExisting:Je},{provide:Z.JF,useClass:X,deps:[]},[]];let sn=(()=>{class j{constructor(H){}static withServerTransition(H){return{ngModule:j,providers:[{provide:_.AFp,useValue:H.appId}]}}static#e=this.\u0275fac=function(W){return new(W||j)(_.LFG(xt,12))};static#t=this.\u0275mod=_.oAB({type:j});static#n=this.\u0275inj=_.cJS({providers:[...Mn,...gn],imports:[Z.ez,_.hGG]})}return j})(),Un=(()=>{class j{constructor(H){this._doc=H}getTitle(){return this._doc.title}setTitle(H){this._doc.title=H||""}static#e=this.\u0275fac=function(W){return new(W||j)(_.LFG(Z.K0))};static#t=this.\u0275prov=_.Yz7({token:j,factory:function(W){let fe=null;return fe=W?new W:function pr(){return new Un((0,_.LFG)(Z.K0))}(),fe},providedIn:"root"})}return j})();typeof window<"u"&&window},9295:(ht,Te,O)=>{O.d(Te,{F0:()=>Sr,rH:()=>Go,Bz:()=>Hr,lC:()=>Pi});var _=O(5879),Z=O(5592),z=O(4674),oe=O(2459),ce=O(2096),pe=O(5619),Re=O(7453),ve=O(2737),X=O(7400),ne=O(4564),se=O(2714),$e=O(8251),Pe=O(7103);function Xe(...v){const C=(0,ne.yG)(v),g=(0,ne.jO)(v),{args:b,keys:M}=(0,Re.D)(v);if(0===b.length)return(0,oe.D)([],C);const B=new Z.y(function He(v,C,g=ve.y){return b=>{tt(C,()=>{const{length:M}=v,B=new Array(M);let J=M,Ce=M;for(let Ie=0;Ie<M;Ie++)tt(C,()=>{const nt=(0,oe.D)(v[Ie],C);let jt=!1;nt.subscribe((0,$e.x)(b,dt=>{B[Ie]=dt,jt||(jt=!0,Ce--),Ce||b.next(g(B.slice()))},()=>{--J||b.complete()}))},b)},b)}}(b,C,M?J=>(0,se.n)(M,J):ve.y));return g?B.pipe((0,X.Z)(g)):B}function tt(v,C,g){v?(0,Pe.f)(g,v,C):C()}var Ze=O(6973),Ct=O(7537);function he(...v){return function pt(){return(0,Ct.J)(1)}()((0,oe.D)(v,(0,ne.yG)(v)))}var Oe=O(4829);function me(v){return new Z.y(C=>{(0,Oe.Xf)(v()).subscribe(C)})}var Ue=O(8407);function Ke(v,C){const g=(0,z.m)(v)?v:()=>v,b=M=>M.error(g());return new Z.y(C?M=>C.schedule(b,0,M):b)}var Je=O(6232),Ee=O(7394),vt=O(9360);function $t(){return(0,vt.e)((v,C)=>{let g=null;v._refCount++;const b=(0,$e.x)(C,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount)return void(g=null);const M=v._connection,B=g;g=null,M&&(!B||M===B)&&M.unsubscribe(),C.unsubscribe()});v.subscribe(b),b.closed||(g=v.connect())})}class Wn extends Z.y{constructor(C,g){super(),this.source=C,this.subjectFactory=g,this._subject=null,this._refCount=0,this._connection=null,(0,vt.A)(C)&&(this.lift=C.lift)}_subscribe(C){return this.getSubject().subscribe(C)}getSubject(){const C=this._subject;return(!C||C.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:C}=this;this._subject=this._connection=null,C?.unsubscribe()}connect(){let C=this._connection;if(!C){C=this._connection=new Ee.w0;const g=this.getSubject();C.add(this.source.subscribe((0,$e.x)(g,void 0,()=>{this._teardown(),g.complete()},b=>{this._teardown(),g.error(b)},()=>this._teardown()))),C.closed&&(this._connection=null,C=Ee.w0.EMPTY)}return C}refCount(){return $t()(this)}}var An=O(8645),On=O(6814),At=O(7398),hr=O(4664),Ar=O(8180),we=O(2181),Ae=O(1631),xe=O(1374);function Le(v,C){return(0,z.m)(C)?(0,Ae.z)(v,C,1):(0,Ae.z)(v,1)}var Ne=O(9397);function st(v){return(0,vt.e)((C,g)=>{let B,b=null,M=!1;b=C.subscribe((0,$e.x)(g,void 0,void 0,J=>{B=(0,Oe.Xf)(v(J,st(v)(C))),b?(b.unsubscribe(),b=null,B.subscribe(g)):M=!0})),M&&(b.unsubscribe(),b=null,B.subscribe(g))})}var V=O(6699),pn=O(3572);function Et(v){return v<=0?()=>Je.E:(0,vt.e)((C,g)=>{let b=[];C.subscribe((0,$e.x)(g,M=>{b.push(M),v<b.length&&b.shift()},()=>{for(const M of b)g.next(M);g.complete()},void 0,()=>{b=null}))})}var tn=O(3026);function gn(v){return(0,vt.e)((C,g)=>{try{C.subscribe(g)}finally{g.add(v)}})}var Mn=O(2420),ar=O(6593);const St="primary",Lr=Symbol("RouteTitle");class pr{constructor(C){this.params=C||{}}has(C){return Object.prototype.hasOwnProperty.call(this.params,C)}get(C){if(this.has(C)){const g=this.params[C];return Array.isArray(g)?g[0]:g}return null}getAll(C){if(this.has(C)){const g=this.params[C];return Array.isArray(g)?g:[g]}return[]}get keys(){return Object.keys(this.params)}}function Un(v){return new pr(v)}function ei(v,C,g){const b=g.path.split("/");if(b.length>v.length||"full"===g.pathMatch&&(C.hasChildren()||b.length<v.length))return null;const M={};for(let B=0;B<b.length;B++){const J=b[B],Ce=v[B];if(J.startsWith(":"))M[J.substring(1)]=Ce;else if(J!==Ce.path)return null}return{consumed:v.slice(0,b.length),posParams:M}}function lt(v,C){const g=v?Object.keys(v):void 0,b=C?Object.keys(C):void 0;if(!g||!b||g.length!=b.length)return!1;let M;for(let B=0;B<g.length;B++)if(M=g[B],!Tt(v[M],C[M]))return!1;return!0}function Tt(v,C){if(Array.isArray(v)&&Array.isArray(C)){if(v.length!==C.length)return!1;const g=[...v].sort(),b=[...C].sort();return g.every((M,B)=>b[B]===M)}return v===C}function wt(v){return v.length>0?v[v.length-1]:null}function Ht(v){return function ue(v){return!!v&&(v instanceof Z.y||(0,z.m)(v.lift)&&(0,z.m)(v.subscribe))}(v)?v:(0,_.QGY)(v)?(0,oe.D)(Promise.resolve(v)):(0,ce.of)(v)}const En={exact:function ji(v,C,g){if(!qn(v.segments,C.segments)||!Rr(v.segments,C.segments,g)||v.numberOfChildren!==C.numberOfChildren)return!1;for(const b in C.children)if(!v.children[b]||!ji(v.children[b],C.children[b],g))return!1;return!0},subset:cr},Qn={exact:function xn(v,C){return lt(v,C)},subset:function on(v,C){return Object.keys(C).length<=Object.keys(v).length&&Object.keys(C).every(g=>Tt(v[g],C[g]))},ignored:()=>!0};function Xt(v,C,g){return En[g.paths](v.root,C.root,g.matrixParams)&&Qn[g.queryParams](v.queryParams,C.queryParams)&&!("exact"===g.fragment&&v.fragment!==C.fragment)}function cr(v,C,g){return Rt(v,C,C.segments,g)}function Rt(v,C,g,b){if(v.segments.length>g.length){const M=v.segments.slice(0,g.length);return!(!qn(M,g)||C.hasChildren()||!Rr(M,g,b))}if(v.segments.length===g.length){if(!qn(v.segments,g)||!Rr(v.segments,g,b))return!1;for(const M in C.children)if(!v.children[M]||!cr(v.children[M],C.children[M],b))return!1;return!0}{const M=g.slice(0,v.segments.length),B=g.slice(v.segments.length);return!!(qn(v.segments,M)&&Rr(v.segments,M,b)&&v.children[St])&&Rt(v.children[St],C,B,b)}}function Rr(v,C,g){return C.every((b,M)=>Qn[g](v[M].parameters,b.parameters))}class Xn{constructor(C=new Jt([],{}),g={},b=null){this.root=C,this.queryParams=g,this.fragment=b}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Un(this.queryParams)),this._queryParamMap}toString(){return jn.serialize(this)}}class Jt{constructor(C,g){this.segments=C,this.children=g,this.parent=null,Object.values(g).forEach(b=>b.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jn(this)}}class Yn{constructor(C,g){this.path=C,this.parameters=g}get parameterMap(){return this._parameterMap||(this._parameterMap=Un(this.parameters)),this._parameterMap}toString(){return We(this)}}function qn(v,C){return v.length===C.length&&v.every((g,b)=>g.path===C[b].path)}let In=(()=>{class v{static#e=this.\u0275fac=function(b){return new(b||v)};static#t=this.\u0275prov=_.Yz7({token:v,factory:function(){return new gr},providedIn:"root"})}return v})();class gr{parse(C){const g=new K(C);return new Xn(g.parseRootSegment(),g.parseQueryParams(),g.parseFragment())}serialize(C){const g=`/${er(C.root,!0)}`,b=function Ft(v){const C=Object.keys(v).map(g=>{const b=v[g];return Array.isArray(b)?b.map(M=>`${j(g)}=${j(M)}`).join("&"):`${j(g)}=${j(b)}`}).filter(g=>!!g);return C.length?`?${C.join("&")}`:""}(C.queryParams);return`${g}${b}${"string"==typeof C.fragment?`#${function $(v){return encodeURI(v)}(C.fragment)}`:""}`}}const jn=new gr;function Jn(v){return v.segments.map(C=>We(C)).join("/")}function er(v,C){if(!v.hasChildren())return Jn(v);if(C){const g=v.children[St]?er(v.children[St],!1):"",b=[];return Object.entries(v.children).forEach(([M,B])=>{M!==St&&b.push(`${M}:${er(B,!1)}`)}),b.length>0?`${g}(${b.join("//")})`:g}{const g=function Bn(v,C){let g=[];return Object.entries(v.children).forEach(([b,M])=>{b===St&&(g=g.concat(C(M,b)))}),Object.entries(v.children).forEach(([b,M])=>{b!==St&&(g=g.concat(C(M,b)))}),g}(v,(b,M)=>M===St?[er(v.children[St],!1)]:[`${M}:${er(b,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[St]?`${Jn(v)}/${g[0]}`:`${Jn(v)}/(${g.join("//")})`}}function re(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function j(v){return re(v).replace(/%3B/gi,";")}function H(v){return re(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function W(v){return decodeURIComponent(v)}function fe(v){return W(v.replace(/\+/g,"%20"))}function We(v){return`${H(v.path)}${function qe(v){return Object.keys(v).map(C=>`;${H(C)}=${H(v[C])}`).join("")}(v.parameters)}`}const ct=/^[^\/()?;#]+/;function Wt(v){const C=v.match(ct);return C?C[0]:""}const Ut=/^[^\/()?;=#]+/,ui=/^[^=?&#]+/,Vi=/^[^&#]+/;class K{constructor(C){this.url=C,this.remaining=C}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jt([],{}):new Jt([],this.parseChildren())}parseQueryParams(){const C={};if(this.consumeOptional("?"))do{this.parseQueryParam(C)}while(this.consumeOptional("&"));return C}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const C=[];for(this.peekStartsWith("(")||C.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),C.push(this.parseSegment());let g={};this.peekStartsWith("/(")&&(this.capture("/"),g=this.parseParens(!0));let b={};return this.peekStartsWith("(")&&(b=this.parseParens(!1)),(C.length>0||Object.keys(g).length>0)&&(b[St]=new Jt(C,g)),b}parseSegment(){const C=Wt(this.remaining);if(""===C&&this.peekStartsWith(";"))throw new _.vHH(4009,!1);return this.capture(C),new Yn(W(C),this.parseMatrixParams())}parseMatrixParams(){const C={};for(;this.consumeOptional(";");)this.parseParam(C);return C}parseParam(C){const g=function yn(v){const C=v.match(Ut);return C?C[0]:""}(this.remaining);if(!g)return;this.capture(g);let b="";if(this.consumeOptional("=")){const M=Wt(this.remaining);M&&(b=M,this.capture(b))}C[W(g)]=W(b)}parseQueryParam(C){const g=function Fr(v){const C=v.match(ui);return C?C[0]:""}(this.remaining);if(!g)return;this.capture(g);let b="";if(this.consumeOptional("=")){const J=function Y(v){const C=v.match(Vi);return C?C[0]:""}(this.remaining);J&&(b=J,this.capture(b))}const M=fe(g),B=fe(b);if(C.hasOwnProperty(M)){let J=C[M];Array.isArray(J)||(J=[J],C[M]=J),J.push(B)}else C[M]=B}parseParens(C){const g={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const b=Wt(this.remaining),M=this.remaining[b.length];if("/"!==M&&")"!==M&&";"!==M)throw new _.vHH(4010,!1);let B;b.indexOf(":")>-1?(B=b.slice(0,b.indexOf(":")),this.capture(B),this.capture(":")):C&&(B=St);const J=this.parseChildren();g[B]=1===Object.keys(J).length?J[St]:new Jt([],J),this.consumeOptional("//")}return g}peekStartsWith(C){return this.remaining.startsWith(C)}consumeOptional(C){return!!this.peekStartsWith(C)&&(this.remaining=this.remaining.substring(C.length),!0)}capture(C){if(!this.consumeOptional(C))throw new _.vHH(4011,!1)}}function ae(v){return v.segments.length>0?new Jt([],{[St]:v}):v}function ke(v){const C={};for(const b of Object.keys(v.children)){const B=ke(v.children[b]);if(b===St&&0===B.segments.length&&B.hasChildren())for(const[J,Ce]of Object.entries(B.children))C[J]=Ce;else(B.segments.length>0||B.hasChildren())&&(C[b]=B)}return function Fe(v){if(1===v.numberOfChildren&&v.children[St]){const C=v.children[St];return new Jt(v.segments.concat(C.segments),C.children)}return v}(new Jt(v.segments,C))}function it(v){return v instanceof Xn}function Yt(v){let C;const M=ae(function g(B){const J={};for(const Ie of B.children){const nt=g(Ie);J[Ie.outlet]=nt}const Ce=new Jt(B.url,J);return B===v&&(C=Ce),Ce}(v.root));return C??M}function en(v,C,g,b){let M=v;for(;M.parent;)M=M.parent;if(0===C.length)return ts(M,M,M,g,b);const B=function ra(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new Us(!0,0,v);let C=0,g=!1;const b=v.reduce((M,B,J)=>{if("object"==typeof B&&null!=B){if(B.outlets){const Ce={};return Object.entries(B.outlets).forEach(([Ie,nt])=>{Ce[Ie]="string"==typeof nt?nt.split("/"):nt}),[...M,{outlets:Ce}]}if(B.segmentPath)return[...M,B.segmentPath]}return"string"!=typeof B?[...M,B]:0===J?(B.split("/").forEach((Ce,Ie)=>{0==Ie&&"."===Ce||(0==Ie&&""===Ce?g=!0:".."===Ce?C++:""!=Ce&&M.push(Ce))}),M):[...M,B]},[]);return new Us(g,C,b)}(C);if(B.toRoot())return ts(M,M,new Jt([],{}),g,b);const J=function Ds(v,C,g){if(v.isAbsolute)return new Ur(C,!0,0);if(!g)return new Ur(C,!1,NaN);if(null===g.parent)return new Ur(g,!0,0);const b=Dn(v.commands[0])?0:1;return function Fo(v,C,g){let b=v,M=C,B=g;for(;B>M;){if(B-=M,b=b.parent,!b)throw new _.vHH(4005,!1);M=b.segments.length}return new Ur(b,!1,M-B)}(g,g.segments.length-1+b,v.numberOfDoubleDots)}(B,M,v),Ce=J.processChildren?Ei(J.segmentGroup,J.index,B.commands):zn(J.segmentGroup,J.index,B.commands);return ts(M,J.segmentGroup,Ce,g,b)}function Dn(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function mr(v){return"object"==typeof v&&null!=v&&v.outlets}function ts(v,C,g,b,M){let J,B={};b&&Object.entries(b).forEach(([Ie,nt])=>{B[Ie]=Array.isArray(nt)?nt.map(jt=>`${jt}`):`${nt}`}),J=v===C?g:Lo(v,C,g);const Ce=ae(ke(J));return new Xn(Ce,B,M)}function Lo(v,C,g){const b={};return Object.entries(v.children).forEach(([M,B])=>{b[M]=B===C?g:Lo(B,C,g)}),new Jt(v.segments,b)}class Us{constructor(C,g,b){if(this.isAbsolute=C,this.numberOfDoubleDots=g,this.commands=b,C&&b.length>0&&Dn(b[0]))throw new _.vHH(4003,!1);const M=b.find(mr);if(M&&M!==wt(b))throw new _.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ur{constructor(C,g,b){this.segmentGroup=C,this.processChildren=g,this.index=b}}function zn(v,C,g){if(v||(v=new Jt([],{})),0===v.segments.length&&v.hasChildren())return Ei(v,C,g);const b=function Sa(v,C,g){let b=0,M=C;const B={match:!1,pathIndex:0,commandIndex:0};for(;M<v.segments.length;){if(b>=g.length)return B;const J=v.segments[M],Ce=g[b];if(mr(Ce))break;const Ie=`${Ce}`,nt=b<g.length-1?g[b+1]:null;if(M>0&&void 0===Ie)break;if(Ie&&nt&&"object"==typeof nt&&void 0===nt.outlets){if(!co(Ie,nt,J))return B;b+=2}else{if(!co(Ie,{},J))return B;b++}M++}return{match:!0,pathIndex:M,commandIndex:b}}(v,C,g),M=g.slice(b.commandIndex);if(b.match&&b.pathIndex<v.segments.length){const B=new Jt(v.segments.slice(0,b.pathIndex),{});return B.children[St]=new Jt(v.segments.slice(b.pathIndex),v.children),Ei(B,0,M)}return b.match&&0===M.length?new Jt(v.segments,{}):b.match&&!v.hasChildren()?ia(v,C,g):b.match?Ei(v,0,M):ia(v,C,g)}function Ei(v,C,g){if(0===g.length)return new Jt(v.segments,{});{const b=function Bs(v){return mr(v[0])?v[0].outlets:{[St]:v}}(g),M={};if(Object.keys(b).some(B=>B!==St)&&v.children[St]&&1===v.numberOfChildren&&0===v.children[St].segments.length){const B=Ei(v.children[St],C,g);return new Jt(v.segments,B.children)}return Object.entries(b).forEach(([B,J])=>{"string"==typeof J&&(J=[J]),null!==J&&(M[B]=zn(v.children[B],C,J))}),Object.entries(v.children).forEach(([B,J])=>{void 0===b[B]&&(M[B]=J)}),new Jt(v.segments,M)}}function ia(v,C,g){const b=v.segments.slice(0,C);let M=0;for(;M<g.length;){const B=g[M];if(mr(B)){const Ie=zr(B.outlets);return new Jt(b,Ie)}if(0===M&&Dn(g[0])){b.push(new Yn(v.segments[C].path,ws(g[0]))),M++;continue}const J=mr(B)?B.outlets[St]:`${B}`,Ce=M<g.length-1?g[M+1]:null;J&&Ce&&Dn(Ce)?(b.push(new Yn(J,ws(Ce))),M+=2):(b.push(new Yn(J,{})),M++)}return new Jt(b,{})}function zr(v){const C={};return Object.entries(v).forEach(([g,b])=>{"string"==typeof b&&(b=[b]),null!==b&&(C[g]=ia(new Jt([],{}),0,b))}),C}function ws(v){const C={};return Object.entries(v).forEach(([g,b])=>C[g]=`${b}`),C}function co(v,C,g){return v==g.path&&lt(C,g.parameters)}const bs="imperative";class Mi{constructor(C,g){this.id=C,this.url=g}}class Ii extends Mi{constructor(C,g,b="imperative",M=null){super(C,g),this.type=0,this.navigationTrigger=b,this.restoredState=M}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hi extends Mi{constructor(C,g,b){super(C,g),this.urlAfterRedirects=b,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ns extends Mi{constructor(C,g,b,M){super(C,g),this.reason=b,this.code=M,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ts extends Mi{constructor(C,g,b,M){super(C,g),this.reason=b,this.code=M,this.type=16}}class Uo extends Mi{constructor(C,g,b,M){super(C,g),this.error=b,this.target=M,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class li extends Mi{constructor(C,g,b,M){super(C,g),this.urlAfterRedirects=b,this.state=M,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class js extends Mi{constructor(C,g,b,M){super(C,g),this.urlAfterRedirects=b,this.state=M,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Br extends Mi{constructor(C,g,b,M,B){super(C,g),this.urlAfterRedirects=b,this.state=M,this.shouldActivate=B,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Aa extends Mi{constructor(C,g,b,M){super(C,g),this.urlAfterRedirects=b,this.state=M,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bo extends Mi{constructor(C,g,b,M){super(C,g),this.urlAfterRedirects=b,this.state=M,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vs{constructor(C){this.route=C,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ma{constructor(C){this.route=C,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class uo{constructor(C){this.snapshot=C,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rs{constructor(C){this.snapshot=C,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lo{constructor(C){this.snapshot=C,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class an{constructor(C){this.snapshot=C,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kn{constructor(C,g,b){this.routerEvent=C,this.position=g,this.anchor=b,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Pr{}class Ri{constructor(C){this.url=C}}class sa{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new fo,this.attachRef=null}}let fo=(()=>{class v{constructor(){this.contexts=new Map}onChildOutletCreated(g,b){const M=this.getOrCreateContext(g);M.outlet=b,this.contexts.set(g,M)}onChildOutletDestroyed(g){const b=this.getContext(g);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const g=this.contexts;return this.contexts=new Map,g}onOutletReAttached(g){this.contexts=g}getOrCreateContext(g){let b=this.getContext(g);return b||(b=new sa,this.contexts.set(g,b)),b}getContext(g){return this.contexts.get(g)||null}static#e=this.\u0275fac=function(b){return new(b||v)};static#t=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();class ho{constructor(C){this._root=C}get root(){return this._root.value}parent(C){const g=this.pathFromRoot(C);return g.length>1?g[g.length-2]:null}children(C){const g=po(C,this._root);return g?g.children.map(b=>b.value):[]}firstChild(C){const g=po(C,this._root);return g&&g.children.length>0?g.children[0].value:null}siblings(C){const g=Gr(C,this._root);return g.length<2?[]:g[g.length-2].children.map(M=>M.value).filter(M=>M!==C)}pathFromRoot(C){return Gr(C,this._root).map(g=>g.value)}}function po(v,C){if(v===C.value)return C;for(const g of C.children){const b=po(v,g);if(b)return b}return null}function Gr(v,C){if(v===C.value)return[C];for(const g of C.children){const b=Gr(v,g);if(b.length)return b.unshift(C),b}return[]}class mn{constructor(C,g){this.value=C,this.children=g}toString(){return`TreeNode(${this.value})`}}function ot(v){const C={};return v&&v.children.forEach(g=>C[g.value.outlet]=g),C}class Pt extends ho{constructor(C,g){super(C),this.snapshot=g,$i(this,C)}toString(){return this.snapshot.toString()}}function Ln(v,C){const g=function Kr(v,C){const J=new wn([],{},{},"",{},St,C,null,{});return new Di("",new mn(J,[]))}(0,C),b=new pe.X([new Yn("",{})]),M=new pe.X({}),B=new pe.X({}),J=new pe.X({}),Ce=new pe.X(""),Ie=new Ci(b,M,J,Ce,B,St,C,g.root);return Ie.snapshot=g.root,new Pt(new mn(Ie,[]),g)}class Ci{constructor(C,g,b,M,B,J,Ce,Ie){this.urlSubject=C,this.paramsSubject=g,this.queryParamsSubject=b,this.fragmentSubject=M,this.dataSubject=B,this.outlet=J,this.component=Ce,this._futureSnapshot=Ie,this.title=this.dataSubject?.pipe((0,At.U)(nt=>nt[Lr]))??(0,ce.of)(void 0),this.url=C,this.params=g,this.queryParams=b,this.fragment=M,this.data=B}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,At.U)(C=>Un(C)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,At.U)(C=>Un(C)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _r(v,C="emptyOnly"){const g=v.pathFromRoot;let b=0;if("always"!==C)for(b=g.length-1;b>=1;){const M=g[b],B=g[b-1];if(M.routeConfig&&""===M.routeConfig.path)b--;else{if(B.component)break;b--}}return function Hs(v){return v.reduce((C,g)=>({params:{...C.params,...g.params},data:{...C.data,...g.data},resolve:{...g.data,...C.resolve,...g.routeConfig?.data,...g._resolvedData}}),{params:{},data:{},resolve:{}})}(g.slice(b))}class wn{get title(){return this.data?.[Lr]}constructor(C,g,b,M,B,J,Ce,Ie,nt){this.url=C,this.params=g,this.queryParams=b,this.fragment=M,this.data=B,this.outlet=J,this.component=Ce,this.routeConfig=Ie,this._resolve=nt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Un(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Un(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(b=>b.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Di extends ho{constructor(C,g){super(g),this.url=C,$i(this,g)}toString(){return Nt(this._root)}}function $i(v,C){C.value._routerState=v,C.children.forEach(g=>$i(v,g))}function Nt(v){const C=v.children.length>0?` { ${v.children.map(Nt).join(", ")} } `:"";return`${v.value}${C}`}function tr(v){if(v.snapshot){const C=v.snapshot,g=v._futureSnapshot;v.snapshot=g,lt(C.queryParams,g.queryParams)||v.queryParamsSubject.next(g.queryParams),C.fragment!==g.fragment&&v.fragmentSubject.next(g.fragment),lt(C.params,g.params)||v.paramsSubject.next(g.params),function Mr(v,C){if(v.length!==C.length)return!1;for(let g=0;g<v.length;++g)if(!lt(v[g],C[g]))return!1;return!0}(C.url,g.url)||v.urlSubject.next(g.url),lt(C.data,g.data)||v.dataSubject.next(g.data)}else v.snapshot=v._futureSnapshot,v.dataSubject.next(v._futureSnapshot.data)}function jo(v,C){const g=lt(v.params,C.params)&&function ci(v,C){return qn(v,C)&&v.every((g,b)=>lt(g.parameters,C[b].parameters))}(v.url,C.url);return g&&!(!v.parent!=!C.parent)&&(!v.parent||jo(v.parent,C.parent))}let Pi=(()=>{class v{constructor(){this.activated=null,this._activatedRoute=null,this.name=St,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.attachEvents=new _.vpe,this.detachEvents=new _.vpe,this.parentContexts=(0,_.f3M)(fo),this.location=(0,_.f3M)(_.s_b),this.changeDetector=(0,_.f3M)(_.sBO),this.environmentInjector=(0,_.f3M)(_.lqb),this.inputBinder=(0,_.f3M)($s,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(g){if(g.name){const{firstChange:b,previousValue:M}=g.name;if(b)return;this.isTrackedInParentContexts(M)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(M)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(g){return this.parentContexts.getContext(g)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const g=this.parentContexts.getContext(this.name);g?.route&&(g.attachRef?this.attach(g.attachRef,g.route):this.activateWith(g.route,g.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _.vHH(4012,!1);this.location.detach();const g=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(g.instance),g}attach(g,b){this.activated=g,this._activatedRoute=b,this.location.insert(g.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(g.instance)}deactivate(){if(this.activated){const g=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(g)}}activateWith(g,b){if(this.isActivated)throw new _.vHH(4013,!1);this._activatedRoute=g;const M=this.location,J=g.snapshot.component,Ce=this.parentContexts.getOrCreateContext(this.name).children,Ie=new Vn(g,Ce,M.injector);this.activated=M.createComponent(J,{index:M.length,injector:Ie,environmentInjector:b??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(b){return new(b||v)};static#t=this.\u0275dir=_.lG2({type:v,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_.TTD]})}return v})();class Vn{constructor(C,g,b){this.route=C,this.childContexts=g,this.parent=b}get(C,g){return C===Ci?this.route:C===fo?this.childContexts:this.parent.get(C,g)}}const $s=new _.OlP("");let Wi=(()=>{class v{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(g){this.unsubscribeFromRouteData(g),this.subscribeToRouteData(g)}unsubscribeFromRouteData(g){this.outletDataSubscriptions.get(g)?.unsubscribe(),this.outletDataSubscriptions.delete(g)}subscribeToRouteData(g){const{activatedRoute:b}=g,M=Xe([b.queryParams,b.params,b.data]).pipe((0,hr.w)(([B,J,Ce],Ie)=>(Ce={...B,...J,...Ce},0===Ie?(0,ce.of)(Ce):Promise.resolve(Ce)))).subscribe(B=>{if(!g.isActivated||!g.activatedComponentRef||g.activatedRoute!==b||null===b.component)return void this.unsubscribeFromRouteData(g);const J=(0,_.qFp)(b.component);if(J)for(const{templateName:Ce}of J.inputs)g.activatedComponentRef.setInput(Ce,B[Ce]);else this.unsubscribeFromRouteData(g)});this.outletDataSubscriptions.set(g,M)}static#e=this.\u0275fac=function(b){return new(b||v)};static#t=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac})}return v})();function Zr(v,C,g){if(g&&v.shouldReuseRoute(C.value,g.value.snapshot)){const b=g.value;b._futureSnapshot=C.value;const M=function wi(v,C,g){return C.children.map(b=>{for(const M of g.children)if(v.shouldReuseRoute(b.value,M.value.snapshot))return Zr(v,b,M);return Zr(v,b)})}(v,C,g);return new mn(b,M)}{if(v.shouldAttach(C.value)){const B=v.retrieve(C.value);if(null!==B){const J=B.route;return J.value._futureSnapshot=C.value,J.children=C.children.map(Ce=>Zr(v,Ce)),J}}const b=function is(v){return new Ci(new pe.X(v.url),new pe.X(v.params),new pe.X(v.queryParams),new pe.X(v.fragment),new pe.X(v.data),v.outlet,v.component,v)}(C.value),M=C.children.map(B=>Zr(v,B));return new mn(b,M)}}const Yr="ngNavigationCancelingError";function Ws(v,C){const{redirectTo:g,navigationBehaviorOptions:b}=it(C)?{redirectTo:C,navigationBehaviorOptions:void 0}:C,M=ss(!1,0,C);return M.url=g,M.navigationBehaviorOptions=b,M}function ss(v,C,g){const b=new Error("NavigationCancelingError: "+(v||""));return b[Yr]=!0,b.cancellationCode=C,g&&(b.url=g),b}function Ya(v){return v&&v[Yr]}let Ss=(()=>{class v{static#e=this.\u0275fac=function(b){return new(b||v)};static#t=this.\u0275cmp=_.Xpm({type:v,selectors:[["ng-component"]],standalone:!0,features:[_.jDz],decls:1,vars:0,template:function(b,M){1&b&&_._UZ(0,"router-outlet")},dependencies:[Pi],encapsulation:2})}return v})();function ni(v){const C=v.children&&v.children.map(ni),g=C?{...v,children:C}:{...v};return!g.component&&!g.loadComponent&&(C||g.loadChildren)&&g.outlet&&g.outlet!==St&&(g.component=Ss),g}function ur(v){return v.outlet||St}function Tr(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let C=v.parent;C;C=C.parent){const g=C.routeConfig;if(g?._loadedInjector)return g._loadedInjector;if(g?._injector)return g._injector}return null}class jr{constructor(C,g,b,M,B){this.routeReuseStrategy=C,this.futureState=g,this.currState=b,this.forwardEvent=M,this.inputBindingEnabled=B}activate(C){const g=this.futureState._root,b=this.currState?this.currState._root:null;this.deactivateChildRoutes(g,b,C),tr(this.futureState.root),this.activateChildRoutes(g,b,C)}deactivateChildRoutes(C,g,b){const M=ot(g);C.children.forEach(B=>{const J=B.value.outlet;this.deactivateRoutes(B,M[J],b),delete M[J]}),Object.values(M).forEach(B=>{this.deactivateRouteAndItsChildren(B,b)})}deactivateRoutes(C,g,b){const M=C.value,B=g?g.value:null;if(M===B)if(M.component){const J=b.getContext(M.outlet);J&&this.deactivateChildRoutes(C,g,J.children)}else this.deactivateChildRoutes(C,g,b);else B&&this.deactivateRouteAndItsChildren(g,b)}deactivateRouteAndItsChildren(C,g){C.value.component&&this.routeReuseStrategy.shouldDetach(C.value.snapshot)?this.detachAndStoreRouteSubtree(C,g):this.deactivateRouteAndOutlet(C,g)}detachAndStoreRouteSubtree(C,g){const b=g.getContext(C.value.outlet),M=b&&C.value.component?b.children:g,B=ot(C);for(const J of Object.keys(B))this.deactivateRouteAndItsChildren(B[J],M);if(b&&b.outlet){const J=b.outlet.detach(),Ce=b.children.onOutletDeactivated();this.routeReuseStrategy.store(C.value.snapshot,{componentRef:J,route:C,contexts:Ce})}}deactivateRouteAndOutlet(C,g){const b=g.getContext(C.value.outlet),M=b&&C.value.component?b.children:g,B=ot(C);for(const J of Object.keys(B))this.deactivateRouteAndItsChildren(B[J],M);b&&(b.outlet&&(b.outlet.deactivate(),b.children.onOutletDeactivated()),b.attachRef=null,b.route=null)}activateChildRoutes(C,g,b){const M=ot(g);C.children.forEach(B=>{this.activateRoutes(B,M[B.value.outlet],b),this.forwardEvent(new an(B.value.snapshot))}),C.children.length&&this.forwardEvent(new rs(C.value.snapshot))}activateRoutes(C,g,b){const M=C.value,B=g?g.value:null;if(tr(M),M===B)if(M.component){const J=b.getOrCreateContext(M.outlet);this.activateChildRoutes(C,g,J.children)}else this.activateChildRoutes(C,g,b);else if(M.component){const J=b.getOrCreateContext(M.outlet);if(this.routeReuseStrategy.shouldAttach(M.snapshot)){const Ce=this.routeReuseStrategy.retrieve(M.snapshot);this.routeReuseStrategy.store(M.snapshot,null),J.children.onOutletReAttached(Ce.contexts),J.attachRef=Ce.componentRef,J.route=Ce.route.value,J.outlet&&J.outlet.attach(Ce.componentRef,Ce.route.value),tr(Ce.route.value),this.activateChildRoutes(C,null,J.children)}else{const Ce=Tr(M.snapshot);J.attachRef=null,J.route=M,J.injector=Ce,J.outlet&&J.outlet.activateWith(M,J.injector),this.activateChildRoutes(C,null,J.children)}}else this.activateChildRoutes(C,null,b)}}class Vo{constructor(C){this.path=C,this.route=this.path[this.path.length-1]}}class as{constructor(C,g){this.component=C,this.route=g}}function nr(v,C,g){const b=v._root;return Or(b,C?C._root:null,g,[b.value])}function fi(v,C){const g=Symbol(),b=C.get(v,g);return b===g?"function"!=typeof v||(0,_.Z0I)(v)?C.get(v):v:b}function Or(v,C,g,b,M={canDeactivateChecks:[],canActivateChecks:[]}){const B=ot(C);return v.children.forEach(J=>{(function Vr(v,C,g,b,M={canDeactivateChecks:[],canActivateChecks:[]}){const B=v.value,J=C?C.value:null,Ce=g?g.getContext(v.value.outlet):null;if(J&&B.routeConfig===J.routeConfig){const Ie=function Pn(v,C,g){if("function"==typeof g)return g(v,C);switch(g){case"pathParamsChange":return!qn(v.url,C.url);case"pathParamsOrQueryParamsChange":return!qn(v.url,C.url)||!lt(v.queryParams,C.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jo(v,C)||!lt(v.queryParams,C.queryParams);default:return!jo(v,C)}}(J,B,B.routeConfig.runGuardsAndResolvers);Ie?M.canActivateChecks.push(new Vo(b)):(B.data=J.data,B._resolvedData=J._resolvedData),Or(v,C,B.component?Ce?Ce.children:null:g,b,M),Ie&&Ce&&Ce.outlet&&Ce.outlet.isActivated&&M.canDeactivateChecks.push(new as(Ce.outlet.component,J))}else J&&zi(C,Ce,M),M.canActivateChecks.push(new Vo(b)),Or(v,null,B.component?Ce?Ce.children:null:g,b,M)})(J,B[J.value.outlet],g,b.concat([J.value]),M),delete B[J.value.outlet]}),Object.entries(B).forEach(([J,Ce])=>zi(Ce,g.getContext(J),M)),M}function zi(v,C,g){const b=ot(v),M=v.value;Object.entries(b).forEach(([B,J])=>{zi(J,M.component?C?C.children.getContext(B):null:C,g)}),g.canDeactivateChecks.push(new as(M.component&&C&&C.outlet&&C.outlet.isActivated?C.outlet.component:null,M))}function mo(v){return"function"==typeof v}function aa(v){return v instanceof Ze.K||"EmptyError"===v?.name}const us=Symbol("INITIAL_VALUE");function ri(){return(0,hr.w)(v=>Xe(v.map(C=>C.pipe((0,Ar.q)(1),function be(...v){const C=(0,ne.yG)(v);return(0,vt.e)((g,b)=>{(C?he(v,g,C):he(v,g)).subscribe(b)})}(us)))).pipe((0,At.U)(C=>{for(const g of C)if(!0!==g){if(g===us)return us;if(!1===g||g instanceof Xn)return g}return!0}),(0,we.h)(C=>C!==us),(0,Ar.q)(1)))}function ca(v){return(0,Ue.z)((0,Ne.b)(C=>{if(it(C))throw Ws(0,C)}),(0,At.U)(C=>!0===C))}class Zi{constructor(C){this.segmentGroup=C||null}}class yo{constructor(C){this.urlTree=C}}function fs(v){return Ke(new Zi(v))}function Eo(v){return Ke(new yo(v))}class Io{constructor(C,g){this.urlSerializer=C,this.urlTree=g}noMatchError(C){return new _.vHH(4002,!1)}lineralizeSegments(C,g){let b=[],M=g.root;for(;;){if(b=b.concat(M.segments),0===M.numberOfChildren)return(0,ce.of)(b);if(M.numberOfChildren>1||!M.children[St])return Ke(new _.vHH(4e3,!1));M=M.children[St]}}applyRedirectCommands(C,g,b){return this.applyRedirectCreateUrlTree(g,this.urlSerializer.parse(g),C,b)}applyRedirectCreateUrlTree(C,g,b,M){const B=this.createSegmentGroup(C,g.root,b,M);return new Xn(B,this.createQueryParams(g.queryParams,this.urlTree.queryParams),g.fragment)}createQueryParams(C,g){const b={};return Object.entries(C).forEach(([M,B])=>{if("string"==typeof B&&B.startsWith(":")){const Ce=B.substring(1);b[M]=g[Ce]}else b[M]=B}),b}createSegmentGroup(C,g,b,M){const B=this.createSegments(C,g.segments,b,M);let J={};return Object.entries(g.children).forEach(([Ce,Ie])=>{J[Ce]=this.createSegmentGroup(C,Ie,b,M)}),new Jt(B,J)}createSegments(C,g,b,M){return g.map(B=>B.path.startsWith(":")?this.findPosParam(C,B,M):this.findOrReturn(B,b))}findPosParam(C,g,b){const M=b[g.path.substring(1)];if(!M)throw new _.vHH(4001,!1);return M}findOrReturn(C,g){let b=0;for(const M of g){if(M.path===C.path)return g.splice(b),M;b++}return C}}const Yi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ki(v,C,g,b,M){const B=Ks(v,C,g);return B.matched?(b=function oa(v,C){return v.providers&&!v._injector&&(v._injector=(0,_.MMx)(v.providers,C,`Route: ${v.path}`)),v._injector??C}(C,b),function xi(v,C,g,b){const M=C.canMatch;if(!M||0===M.length)return(0,ce.of)(!0);const B=M.map(J=>{const Ce=fi(J,v);return Ht(function Ms(v){return v&&mo(v.canMatch)}(Ce)?Ce.canMatch(C,g):v.runInContext(()=>Ce(C,g)))});return(0,ce.of)(B).pipe(ri(),ca())}(b,C,g).pipe((0,At.U)(J=>!0===J?B:{...Yi}))):(0,ce.of)(B)}function Ks(v,C,g){if(""===C.path)return"full"===C.pathMatch&&(v.hasChildren()||g.length>0)?{...Yi}:{matched:!0,consumedSegments:[],remainingSegments:g,parameters:{},positionalParamSegments:{}};const M=(C.matcher||ei)(g,v,C);if(!M)return{...Yi};const B={};Object.entries(M.posParams??{}).forEach(([Ce,Ie])=>{B[Ce]=Ie.path});const J=M.consumed.length>0?{...B,...M.consumed[M.consumed.length-1].parameters}:B;return{matched:!0,consumedSegments:M.consumed,remainingSegments:g.slice(M.consumed.length),parameters:J,positionalParamSegments:M.posParams??{}}}function ua(v,C,g,b){return g.length>0&&function Co(v,C,g){return g.some(b=>hs(v,C,b)&&ur(b)!==St)}(v,g,b)?{segmentGroup:new Jt(C,zc(b,new Jt(g,v.children))),slicedSegments:[]}:0===g.length&&function mc(v,C,g){return g.some(b=>hs(v,C,b))}(v,g,b)?{segmentGroup:new Jt(v.segments,Zs(v,0,g,b,v.children)),slicedSegments:g}:{segmentGroup:new Jt(v.segments,v.children),slicedSegments:g}}function Zs(v,C,g,b,M){const B={};for(const J of b)if(hs(v,g,J)&&!M[ur(J)]){const Ce=new Jt([],{});B[ur(J)]=Ce}return{...M,...B}}function zc(v,C){const g={};g[St]=C;for(const b of v)if(""===b.path&&ur(b)!==St){const M=new Jt([],{});g[ur(b)]=M}return g}function hs(v,C,g){return(!(v.hasChildren()||C.length>0)||"full"!==g.pathMatch)&&""===g.path}class qs{constructor(C,g,b,M,B,J,Ce){this.injector=C,this.configLoader=g,this.rootComponentType=b,this.config=M,this.urlTree=B,this.paramsInheritanceStrategy=J,this.urlSerializer=Ce,this.allowRedirects=!0,this.applyRedirects=new Io(this.urlSerializer,this.urlTree)}noMatchError(C){return new _.vHH(4002,!1)}recognize(){const C=ua(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,C,St).pipe(st(g=>{if(g instanceof yo)return this.allowRedirects=!1,this.urlTree=g.urlTree,this.match(g.urlTree);throw g instanceof Zi?this.noMatchError(g):g}),(0,At.U)(g=>{const b=new wn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},St,this.rootComponentType,null,{}),M=new mn(b,g),B=new Di("",M),J=function bt(v,C,g=null,b=null){return en(Yt(v),C,g,b)}(b,[],this.urlTree.queryParams,this.urlTree.fragment);return J.queryParams=this.urlTree.queryParams,B.url=this.urlSerializer.serialize(J),this.inheritParamsAndData(B._root),{state:B,tree:J}}))}match(C){return this.processSegmentGroup(this.injector,this.config,C.root,St).pipe(st(b=>{throw b instanceof Zi?this.noMatchError(b):b}))}inheritParamsAndData(C){const g=C.value,b=_r(g,this.paramsInheritanceStrategy);g.params=Object.freeze(b.params),g.data=Object.freeze(b.data),C.children.forEach(M=>this.inheritParamsAndData(M))}processSegmentGroup(C,g,b,M){return 0===b.segments.length&&b.hasChildren()?this.processChildren(C,g,b):this.processSegment(C,g,b,b.segments,M,!0)}processChildren(C,g,b){const M=[];for(const B of Object.keys(b.children))"primary"===B?M.unshift(B):M.push(B);return(0,oe.D)(M).pipe(Le(B=>{const J=b.children[B],Ce=function di(v,C){const g=v.filter(b=>ur(b)===C);return g.push(...v.filter(b=>ur(b)!==C)),g}(g,B);return this.processSegmentGroup(C,Ce,J,B)}),(0,V.R)((B,J)=>(B.push(...J),B)),(0,pn.d)(null),function Lt(v,C){const g=arguments.length>=2;return b=>b.pipe(v?(0,we.h)((M,B)=>v(M,B,b)):ve.y,Et(1),g?(0,pn.d)(C):(0,tn.T)(()=>new Ze.K))}(),(0,Ae.z)(B=>{if(null===B)return fs(b);const J=ps(B);return function _c(v){v.sort((C,g)=>C.value.outlet===St?-1:g.value.outlet===St?1:C.value.outlet.localeCompare(g.value.outlet))}(J),(0,ce.of)(J)}))}processSegment(C,g,b,M,B,J){return(0,oe.D)(g).pipe(Le(Ce=>this.processSegmentAgainstRoute(Ce._injector??C,g,Ce,b,M,B,J).pipe(st(Ie=>{if(Ie instanceof Zi)return(0,ce.of)(null);throw Ie}))),(0,xe.P)(Ce=>!!Ce),st(Ce=>{if(aa(Ce))return function Ys(v,C,g){return 0===C.length&&!v.children[g]}(b,M,B)?(0,ce.of)([]):fs(b);throw Ce}))}processSegmentAgainstRoute(C,g,b,M,B,J,Ce){return function $o(v,C,g,b){return!!(ur(v)===b||b!==St&&hs(C,g,v))&&("**"===v.path||Ks(C,v,g).matched)}(b,M,B,J)?void 0===b.redirectTo?this.matchSegmentAgainstRoute(C,M,b,B,J,Ce):Ce&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(C,M,g,b,B,J):fs(M):fs(M)}expandSegmentAgainstRouteUsingRedirect(C,g,b,M,B,J){return"**"===M.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(C,b,M,J):this.expandRegularSegmentAgainstRouteUsingRedirect(C,g,b,M,B,J)}expandWildCardWithParamsAgainstRouteUsingRedirect(C,g,b,M){const B=this.applyRedirects.applyRedirectCommands([],b.redirectTo,{});return b.redirectTo.startsWith("/")?Eo(B):this.applyRedirects.lineralizeSegments(b,B).pipe((0,Ae.z)(J=>{const Ce=new Jt(J,{});return this.processSegment(C,g,Ce,J,M,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(C,g,b,M,B,J){const{matched:Ce,consumedSegments:Ie,remainingSegments:nt,positionalParamSegments:jt}=Ks(g,M,B);if(!Ce)return fs(g);const dt=this.applyRedirects.applyRedirectCommands(Ie,M.redirectTo,jt);return M.redirectTo.startsWith("/")?Eo(dt):this.applyRedirects.lineralizeSegments(M,dt).pipe((0,Ae.z)(ln=>this.processSegment(C,b,g,ln.concat(nt),J,!1)))}matchSegmentAgainstRoute(C,g,b,M,B,J){let Ce;if("**"===b.path){const Ie=M.length>0?wt(M).parameters:{},nt=new wn(M,Ie,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,E(b),ur(b),b.component??b._loadedComponent??null,b,L(b));Ce=(0,ce.of)({snapshot:nt,consumedSegments:[],remainingSegments:[]}),g.children={}}else Ce=ki(g,b,M,C).pipe((0,At.U)(({matched:Ie,consumedSegments:nt,remainingSegments:jt,parameters:dt})=>Ie?{snapshot:new wn(nt,dt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,E(b),ur(b),b.component??b._loadedComponent??null,b,L(b)),consumedSegments:nt,remainingSegments:jt}:null));return Ce.pipe((0,hr.w)(Ie=>null===Ie?fs(g):this.getChildConfig(C=b._injector??C,b,M).pipe((0,hr.w)(({routes:nt})=>{const jt=b._loadedInjector??C,{snapshot:dt,consumedSegments:ln,remainingSegments:mi}=Ie,{segmentGroup:Qi,slicedSegments:Qs}=ua(g,ln,mi,nt);if(0===Qs.length&&Qi.hasChildren())return this.processChildren(jt,nt,Qi).pipe((0,At.U)(ii=>null===ii?null:[new mn(dt,ii)]));if(0===nt.length&&0===Qs.length)return(0,ce.of)([new mn(dt,[])]);const Os=ur(b)===B;return this.processSegment(jt,nt,Qi,Qs,Os?St:B,!0).pipe((0,At.U)(ii=>[new mn(dt,ii)]))}))))}getChildConfig(C,g,b){return g.children?(0,ce.of)({routes:g.children,injector:C}):g.loadChildren?void 0!==g._loadedRoutes?(0,ce.of)({routes:g._loadedRoutes,injector:g._loadedInjector}):function vo(v,C,g,b){const M=C.canLoad;if(void 0===M||0===M.length)return(0,ce.of)(!0);const B=M.map(J=>{const Ce=fi(J,v);return Ht(function Gi(v){return v&&mo(v.canLoad)}(Ce)?Ce.canLoad(C,g):v.runInContext(()=>Ce(C,g)))});return(0,ce.of)(B).pipe(ri(),ca())}(C,g,b).pipe((0,Ae.z)(M=>M?this.configLoader.loadChildren(C,g).pipe((0,Ne.b)(B=>{g._loadedRoutes=B.routes,g._loadedInjector=B.injector})):function Ho(v){return Ke(ss(!1,3))}())):(0,ce.of)({routes:[],injector:C})}}function Wo(v){const C=v.value.routeConfig;return C&&""===C.path}function ps(v){const C=[],g=new Set;for(const b of v){if(!Wo(b)){C.push(b);continue}const M=C.find(B=>b.value.routeConfig===B.value.routeConfig);void 0!==M?(M.children.push(...b.children),g.add(M)):C.push(b)}for(const b of g){const M=ps(b.children);C.push(new mn(b.value,M))}return C.filter(b=>!g.has(b))}function E(v){return v.data||{}}function L(v){return v.resolve||{}}function bn(v){return"string"==typeof v.title||null===v.title}function Cn(v){return(0,hr.w)(C=>{const g=v(C);return g?(0,oe.D)(g).pipe((0,At.U)(()=>C)):(0,ce.of)(C)})}const cn=new _.OlP("ROUTES");let Kt=(()=>{class v{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,_.f3M)(_.Sil)}loadComponent(g){if(this.componentLoaders.get(g))return this.componentLoaders.get(g);if(g._loadedComponent)return(0,ce.of)(g._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(g);const b=Ht(g.loadComponent()).pipe((0,At.U)(_n),(0,Ne.b)(B=>{this.onLoadEndListener&&this.onLoadEndListener(g),g._loadedComponent=B}),gn(()=>{this.componentLoaders.delete(g)})),M=new Wn(b,()=>new An.x).pipe($t());return this.componentLoaders.set(g,M),M}loadChildren(g,b){if(this.childrenLoaders.get(b))return this.childrenLoaders.get(b);if(b._loadedRoutes)return(0,ce.of)({routes:b._loadedRoutes,injector:b._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(b);const B=function lr(v,C,g,b){return Ht(v.loadChildren()).pipe((0,At.U)(_n),(0,Ae.z)(M=>M instanceof _.YKP||Array.isArray(M)?(0,ce.of)(M):(0,oe.D)(C.compileModuleAsync(M))),(0,At.U)(M=>{b&&b(v);let B,J,Ce=!1;return Array.isArray(M)?(J=M,!0):(B=M.create(g).injector,J=B.get(cn,[],{optional:!0,self:!0}).flat()),{routes:J.map(ni),injector:B}}))}(b,this.compiler,g,this.onLoadEndListener).pipe(gn(()=>{this.childrenLoaders.delete(b)})),J=new Wn(B,()=>new An.x).pipe($t());return this.childrenLoaders.set(b,J),J}static#e=this.\u0275fac=function(b){return new(b||v)};static#t=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function _n(v){return function dn(v){return v&&"object"==typeof v&&"default"in v}(v)?v.default:v}let qr=(()=>{class v{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new An.x,this.transitionAbortSubject=new An.x,this.configLoader=(0,_.f3M)(Kt),this.environmentInjector=(0,_.f3M)(_.lqb),this.urlSerializer=(0,_.f3M)(In),this.rootContexts=(0,_.f3M)(fo),this.inputBindingEnabled=null!==(0,_.f3M)($s,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ce.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=M=>this.events.next(new Ma(M)),this.configLoader.onLoadStartListener=M=>this.events.next(new Vs(M))}complete(){this.transitions?.complete()}handleNavigationRequest(g){const b=++this.navigationId;this.transitions?.next({...this.transitions.value,...g,id:b})}setupNavigations(g,b,M){return this.transitions=new pe.X({id:0,currentUrlTree:b,currentRawUrl:b,currentBrowserUrl:b,extractedUrl:g.urlHandlingStrategy.extract(b),urlAfterRedirects:g.urlHandlingStrategy.extract(b),rawUrl:b,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:bs,restoredState:null,currentSnapshot:M.snapshot,targetSnapshot:null,currentRouterState:M,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,we.h)(B=>0!==B.id),(0,At.U)(B=>({...B,extractedUrl:g.urlHandlingStrategy.extract(B.rawUrl)})),(0,hr.w)(B=>{this.currentTransition=B;let J=!1,Ce=!1;return(0,ce.of)(B).pipe((0,Ne.b)(Ie=>{this.currentNavigation={id:Ie.id,initialUrl:Ie.rawUrl,extractedUrl:Ie.extractedUrl,trigger:Ie.source,extras:Ie.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,hr.w)(Ie=>{const nt=Ie.currentBrowserUrl.toString(),jt=!g.navigated||Ie.extractedUrl.toString()!==nt||nt!==Ie.currentUrlTree.toString();if(!jt&&"reload"!==(Ie.extras.onSameUrlNavigation??g.onSameUrlNavigation)){const ln="";return this.events.next(new Ts(Ie.id,this.urlSerializer.serialize(Ie.rawUrl),ln,0)),Ie.resolve(null),Je.E}if(g.urlHandlingStrategy.shouldProcessUrl(Ie.rawUrl))return(0,ce.of)(Ie).pipe((0,hr.w)(ln=>{const mi=this.transitions?.getValue();return this.events.next(new Ii(ln.id,this.urlSerializer.serialize(ln.extractedUrl),ln.source,ln.restoredState)),mi!==this.transitions?.getValue()?Je.E:Promise.resolve(ln)}),function A(v,C,g,b,M,B){return(0,Ae.z)(J=>function Qa(v,C,g,b,M,B,J="emptyOnly"){return new qs(v,C,g,b,M,J,B).recognize()}(v,C,g,b,J.extractedUrl,M,B).pipe((0,At.U)(({state:Ce,tree:Ie})=>({...J,targetSnapshot:Ce,urlAfterRedirects:Ie}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,g.config,this.urlSerializer,g.paramsInheritanceStrategy),(0,Ne.b)(ln=>{B.targetSnapshot=ln.targetSnapshot,B.urlAfterRedirects=ln.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ln.urlAfterRedirects};const mi=new li(ln.id,this.urlSerializer.serialize(ln.extractedUrl),this.urlSerializer.serialize(ln.urlAfterRedirects),ln.targetSnapshot);this.events.next(mi)}));if(jt&&g.urlHandlingStrategy.shouldProcessUrl(Ie.currentRawUrl)){const{id:ln,extractedUrl:mi,source:Qi,restoredState:Qs,extras:Os}=Ie,ii=new Ii(ln,this.urlSerializer.serialize(mi),Qi,Qs);this.events.next(ii);const _s=Ln(0,this.rootComponentType).snapshot;return this.currentTransition=B={...Ie,targetSnapshot:_s,urlAfterRedirects:mi,extras:{...Os,skipLocationChange:!1,replaceUrl:!1}},(0,ce.of)(B)}{const ln="";return this.events.next(new Ts(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),ln,1)),Ie.resolve(null),Je.E}}),(0,Ne.b)(Ie=>{const nt=new js(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),this.urlSerializer.serialize(Ie.urlAfterRedirects),Ie.targetSnapshot);this.events.next(nt)}),(0,At.U)(Ie=>(this.currentTransition=B={...Ie,guards:nr(Ie.targetSnapshot,Ie.currentSnapshot,this.rootContexts)},B)),function Oi(v,C){return(0,Ae.z)(g=>{const{targetSnapshot:b,currentSnapshot:M,guards:{canActivateChecks:B,canDeactivateChecks:J}}=g;return 0===J.length&&0===B.length?(0,ce.of)({...g,guardsResult:!0}):function Ra(v,C,g,b){return(0,oe.D)(v).pipe((0,Ae.z)(M=>function Gs(v,C,g,b,M){const B=C&&C.routeConfig?C.routeConfig.canDeactivate:null;if(!B||0===B.length)return(0,ce.of)(!0);const J=B.map(Ce=>{const Ie=Tr(C)??M,nt=fi(Ce,Ie);return Ht(function Ki(v){return v&&mo(v.canDeactivate)}(nt)?nt.canDeactivate(v,C,g,b):Ie.runInContext(()=>nt(v,C,g,b))).pipe((0,xe.P)())});return(0,ce.of)(J).pipe(ri())}(M.component,M.route,g,C,b)),(0,xe.P)(M=>!0!==M,!0))}(J,b,M,v).pipe((0,Ae.z)(Ce=>Ce&&function Gn(v){return"boolean"==typeof v}(Ce)?function ls(v,C,g,b){return(0,oe.D)(C).pipe(Le(M=>he(function ds(v,C){return null!==v&&C&&C(new uo(v)),(0,ce.of)(!0)}(M.route.parent,b),function Ir(v,C){return null!==v&&C&&C(new lo(v)),(0,ce.of)(!0)}(M.route,b),function Rs(v,C,g){const b=C[C.length-1],B=C.slice(0,C.length-1).reverse().map(J=>function cs(v){const C=v.routeConfig?v.routeConfig.canActivateChild:null;return C&&0!==C.length?{node:v,guards:C}:null}(J)).filter(J=>null!==J).map(J=>me(()=>{const Ce=J.guards.map(Ie=>{const nt=Tr(J.node)??g,jt=fi(Ie,nt);return Ht(function qa(v){return v&&mo(v.canActivateChild)}(jt)?jt.canActivateChild(b,v):nt.runInContext(()=>jt(b,v))).pipe((0,xe.P)())});return(0,ce.of)(Ce).pipe(ri())}));return(0,ce.of)(B).pipe(ri())}(v,M.path,g),function Cr(v,C,g){const b=C.routeConfig?C.routeConfig.canActivate:null;if(!b||0===b.length)return(0,ce.of)(!0);const M=b.map(B=>me(()=>{const J=Tr(C)??g,Ce=fi(B,J);return Ht(function As(v){return v&&mo(v.canActivate)}(Ce)?Ce.canActivate(C,v):J.runInContext(()=>Ce(C,v))).pipe((0,xe.P)())}));return(0,ce.of)(M).pipe(ri())}(v,M.route,g))),(0,xe.P)(M=>!0!==M,!0))}(b,B,v,C):(0,ce.of)(Ce)),(0,At.U)(Ce=>({...g,guardsResult:Ce})))})}(this.environmentInjector,Ie=>this.events.next(Ie)),(0,Ne.b)(Ie=>{if(B.guardsResult=Ie.guardsResult,it(Ie.guardsResult))throw Ws(0,Ie.guardsResult);const nt=new Br(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),this.urlSerializer.serialize(Ie.urlAfterRedirects),Ie.targetSnapshot,!!Ie.guardsResult);this.events.next(nt)}),(0,we.h)(Ie=>!!Ie.guardsResult||(this.cancelNavigationTransition(Ie,"",3),!1)),Cn(Ie=>{if(Ie.guards.canActivateChecks.length)return(0,ce.of)(Ie).pipe((0,Ne.b)(nt=>{const jt=new Aa(nt.id,this.urlSerializer.serialize(nt.extractedUrl),this.urlSerializer.serialize(nt.urlAfterRedirects),nt.targetSnapshot);this.events.next(jt)}),(0,hr.w)(nt=>{let jt=!1;return(0,ce.of)(nt).pipe(function N(v,C){return(0,Ae.z)(g=>{const{targetSnapshot:b,guards:{canActivateChecks:M}}=g;if(!M.length)return(0,ce.of)(g);let B=0;return(0,oe.D)(M).pipe(Le(J=>function ee(v,C,g,b){const M=v.routeConfig,B=v._resolve;return void 0!==M?.title&&!bn(M)&&(B[Lr]=M.title),function De(v,C,g,b){const M=function Ve(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}(v);if(0===M.length)return(0,ce.of)({});const B={};return(0,oe.D)(M).pipe((0,Ae.z)(J=>function Dt(v,C,g,b){const M=Tr(C)??b,B=fi(v,M);return Ht(B.resolve?B.resolve(C,g):M.runInContext(()=>B(C,g)))}(v[J],C,g,b).pipe((0,xe.P)(),(0,Ne.b)(Ce=>{B[J]=Ce}))),Et(1),function xt(v){return(0,At.U)(()=>v)}(B),st(J=>aa(J)?Je.E:Ke(J)))}(B,v,C,b).pipe((0,At.U)(J=>(v._resolvedData=J,v.data=_r(v,g).resolve,M&&bn(M)&&(v.data[Lr]=M.title),null)))}(J.route,b,v,C)),(0,Ne.b)(()=>B++),Et(1),(0,Ae.z)(J=>B===M.length?(0,ce.of)(g):Je.E))})}(g.paramsInheritanceStrategy,this.environmentInjector),(0,Ne.b)({next:()=>jt=!0,complete:()=>{jt||this.cancelNavigationTransition(nt,"",2)}}))}),(0,Ne.b)(nt=>{const jt=new Bo(nt.id,this.urlSerializer.serialize(nt.extractedUrl),this.urlSerializer.serialize(nt.urlAfterRedirects),nt.targetSnapshot);this.events.next(jt)}))}),Cn(Ie=>{const nt=jt=>{const dt=[];jt.routeConfig?.loadComponent&&!jt.routeConfig._loadedComponent&&dt.push(this.configLoader.loadComponent(jt.routeConfig).pipe((0,Ne.b)(ln=>{jt.component=ln}),(0,At.U)(()=>{})));for(const ln of jt.children)dt.push(...nt(ln));return dt};return Xe(nt(Ie.targetSnapshot.root)).pipe((0,pn.d)(),(0,Ar.q)(1))}),Cn(()=>this.afterPreactivation()),(0,At.U)(Ie=>{const nt=function vr(v,C,g){const b=Zr(v,C._root,g?g._root:void 0);return new Pt(b,C)}(g.routeReuseStrategy,Ie.targetSnapshot,Ie.currentRouterState);return this.currentTransition=B={...Ie,targetRouterState:nt},B}),(0,Ne.b)(()=>{this.events.next(new Pr)}),((v,C,g,b)=>(0,At.U)(M=>(new jr(C,M.targetRouterState,M.currentRouterState,g,b).activate(v),M)))(this.rootContexts,g.routeReuseStrategy,Ie=>this.events.next(Ie),this.inputBindingEnabled),(0,Ar.q)(1),(0,Ne.b)({next:Ie=>{J=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Hi(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),this.urlSerializer.serialize(Ie.urlAfterRedirects))),g.titleStrategy?.updateTitle(Ie.targetRouterState.snapshot),Ie.resolve(!0)},complete:()=>{J=!0}}),function sn(v){return(0,vt.e)((C,g)=>{(0,Oe.Xf)(v).subscribe((0,$e.x)(g,()=>g.complete(),Mn.Z)),!g.closed&&C.subscribe(g)})}(this.transitionAbortSubject.pipe((0,Ne.b)(Ie=>{throw Ie}))),gn(()=>{J||Ce||this.cancelNavigationTransition(B,"",1),this.currentNavigation?.id===B.id&&(this.currentNavigation=null)}),st(Ie=>{if(Ce=!0,Ya(Ie))this.events.next(new ns(B.id,this.urlSerializer.serialize(B.extractedUrl),Ie.message,Ie.cancellationCode)),function Gt(v){return Ya(v)&&it(v.url)}(Ie)?this.events.next(new Ri(Ie.url)):B.resolve(!1);else{this.events.next(new Uo(B.id,this.urlSerializer.serialize(B.extractedUrl),Ie,B.targetSnapshot??void 0));try{B.resolve(g.errorHandler(Ie))}catch(nt){B.reject(nt)}}return Je.E}))}))}cancelNavigationTransition(g,b,M){const B=new ns(g.id,this.urlSerializer.serialize(g.extractedUrl),b,M);this.events.next(B),g.resolve(!1)}static#e=this.\u0275fac=function(b){return new(b||v)};static#t=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function Li(v){return v!==bs}let hi=(()=>{class v{buildTitle(g){let b,M=g.root;for(;void 0!==M;)b=this.getResolvedTitleForRoute(M)??b,M=M.children.find(B=>B.outlet===St);return b}getResolvedTitleForRoute(g){return g.data[Lr]}static#e=this.\u0275fac=function(b){return new(b||v)};static#t=this.\u0275prov=_.Yz7({token:v,factory:function(){return(0,_.f3M)(xr)},providedIn:"root"})}return v})(),xr=(()=>{class v extends hi{constructor(g){super(),this.title=g}updateTitle(g){const b=this.buildTitle(g);void 0!==b&&this.title.setTitle(b)}static#e=this.\u0275fac=function(b){return new(b||v)(_.LFG(ar.Dx))};static#t=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})(),Dr=(()=>{class v{static#e=this.\u0275fac=function(b){return new(b||v)};static#t=this.\u0275prov=_.Yz7({token:v,factory:function(){return(0,_.f3M)(Ps)},providedIn:"root"})}return v})();class Nn{shouldDetach(C){return!1}store(C,g){}shouldAttach(C){return!1}retrieve(C){return null}shouldReuseRoute(C,g){return C.routeConfig===g.routeConfig}}let Ps=(()=>{class v extends Nn{static#e=this.\u0275fac=function(){let g;return function(M){return(g||(g=_.n5z(v)))(M||v)}}();static#t=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();const zt=new _.OlP("",{providedIn:"root",factory:()=>({})});let la=(()=>{class v{static#e=this.\u0275fac=function(b){return new(b||v)};static#t=this.\u0275prov=_.Yz7({token:v,factory:function(){return(0,_.f3M)(Do)},providedIn:"root"})}return v})(),Do=(()=>{class v{shouldProcessUrl(g){return!0}extract(g){return g}merge(g,b){return g}static#e=this.\u0275fac=function(b){return new(b||v)};static#t=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();var rr=function(v){return v[v.COMPLETE=0]="COMPLETE",v[v.FAILED=1]="FAILED",v[v.REDIRECTING=2]="REDIRECTING",v}(rr||{});function Ja(v,C){v.events.pipe((0,we.h)(g=>g instanceof Hi||g instanceof ns||g instanceof Uo||g instanceof Ts),(0,At.U)(g=>g instanceof Hi||g instanceof Ts?rr.COMPLETE:g instanceof ns&&(0===g.code||1===g.code)?rr.REDIRECTING:rr.FAILED),(0,we.h)(g=>g!==rr.REDIRECTING),(0,Ar.q)(1)).subscribe(()=>{C()})}function ec(v){throw v}function zo(v,C,g){return C.parse("/")}const Qr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Gc={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Sr=(()=>{class v{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,_.f3M)(_.c2e),this.isNgZoneEnabled=!1,this._events=new An.x,this.options=(0,_.f3M)(zt,{optional:!0})||{},this.pendingTasks=(0,_.f3M)(_.HDt),this.errorHandler=this.options.errorHandler||ec,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||zo,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,_.f3M)(la),this.routeReuseStrategy=(0,_.f3M)(Dr),this.titleStrategy=(0,_.f3M)(hi),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,_.f3M)(cn,{optional:!0})?.flat()??[],this.navigationTransitions=(0,_.f3M)(qr),this.urlSerializer=(0,_.f3M)(In),this.location=(0,_.f3M)(On.Ye),this.componentInputBindingEnabled=!!(0,_.f3M)($s,{optional:!0}),this.eventsSubscription=new Ee.w0,this.isNgZoneEnabled=(0,_.f3M)(_.R0b)instanceof _.R0b&&_.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Xn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ln(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(g=>{this.lastSuccessfulId=g.id,this.currentPageId=this.browserPageId},g=>{this.console.warn(`Unhandled Navigation Error: ${g}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const g=this.navigationTransitions.events.subscribe(b=>{try{const{currentTransition:M}=this.navigationTransitions;if(null===M)return void(Xr(b)&&this._events.next(b));if(b instanceof Ii)Li(M.source)&&(this.browserUrlTree=M.extractedUrl);else if(b instanceof Ts)this.rawUrlTree=M.rawUrl;else if(b instanceof li){if("eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(B,M)}this.browserUrlTree=M.urlAfterRedirects}}else if(b instanceof Pr)this.currentUrlTree=M.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl),this.routerState=M.targetRouterState,"deferred"===this.urlUpdateStrategy&&(M.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,M),this.browserUrlTree=M.urlAfterRedirects);else if(b instanceof ns)0!==b.code&&1!==b.code&&(this.navigated=!0),(3===b.code||2===b.code)&&this.restoreHistory(M);else if(b instanceof Ri){const B=this.urlHandlingStrategy.merge(b.url,M.currentRawUrl),J={skipLocationChange:M.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Li(M.source)};this.scheduleNavigation(B,bs,null,J,{resolve:M.resolve,reject:M.reject,promise:M.promise})}b instanceof Uo&&this.restoreHistory(M,!0),b instanceof Hi&&(this.navigated=!0),Xr(b)&&this._events.next(b)}catch(M){this.navigationTransitions.transitionAbortSubject.next(M)}});this.eventsSubscription.add(g)}resetRootComponentType(g){this.routerState.root.component=g,this.navigationTransitions.rootComponentType=g}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const g=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),bs,g)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(g=>{const b="popstate"===g.type?"popstate":"hashchange";"popstate"===b&&setTimeout(()=>{this.navigateToSyncWithBrowser(g.url,b,g.state)},0)}))}navigateToSyncWithBrowser(g,b,M){const B={replaceUrl:!0},J=M?.navigationId?M:null;if(M){const Ie={...M};delete Ie.navigationId,delete Ie.\u0275routerPageId,0!==Object.keys(Ie).length&&(B.state=Ie)}const Ce=this.parseUrl(g);this.scheduleNavigation(Ce,b,J,B)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(g){this.config=g.map(ni),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(g,b={}){const{relativeTo:M,queryParams:B,fragment:J,queryParamsHandling:Ce,preserveFragment:Ie}=b,nt=Ie?this.currentUrlTree.fragment:J;let dt,jt=null;switch(Ce){case"merge":jt={...this.currentUrlTree.queryParams,...B};break;case"preserve":jt=this.currentUrlTree.queryParams;break;default:jt=B||null}null!==jt&&(jt=this.removeEmptyProps(jt));try{dt=Yt(M?M.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof g[0]||!g[0].startsWith("/"))&&(g=[]),dt=this.currentUrlTree.root}return en(dt,g,jt,nt??null)}navigateByUrl(g,b={skipLocationChange:!1}){const M=it(g)?g:this.parseUrl(g),B=this.urlHandlingStrategy.merge(M,this.rawUrlTree);return this.scheduleNavigation(B,bs,null,b)}navigate(g,b={skipLocationChange:!1}){return function Kc(v){for(let C=0;C<v.length;C++)if(null==v[C])throw new _.vHH(4008,!1)}(g),this.navigateByUrl(this.createUrlTree(g,b),b)}serializeUrl(g){return this.urlSerializer.serialize(g)}parseUrl(g){let b;try{b=this.urlSerializer.parse(g)}catch(M){b=this.malformedUriErrorHandler(M,this.urlSerializer,g)}return b}isActive(g,b){let M;if(M=!0===b?{...Qr}:!1===b?{...Gc}:b,it(g))return Xt(this.currentUrlTree,g,M);const B=this.parseUrl(g);return Xt(this.currentUrlTree,B,M)}removeEmptyProps(g){return Object.keys(g).reduce((b,M)=>{const B=g[M];return null!=B&&(b[M]=B),b},{})}scheduleNavigation(g,b,M,B,J){if(this.disposed)return Promise.resolve(!1);let Ce,Ie,nt;J?(Ce=J.resolve,Ie=J.reject,nt=J.promise):nt=new Promise((dt,ln)=>{Ce=dt,Ie=ln});const jt=this.pendingTasks.add();return Ja(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(jt))}),this.navigationTransitions.handleNavigationRequest({source:b,restoredState:M,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:g,extras:B,resolve:Ce,reject:Ie,promise:nt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),nt.catch(dt=>Promise.reject(dt))}setBrowserUrl(g,b){const M=this.urlSerializer.serialize(g);if(this.location.isCurrentPathEqualTo(M)||b.extras.replaceUrl){const J={...b.extras.state,...this.generateNgRouterState(b.id,this.browserPageId)};this.location.replaceState(M,"",J)}else{const B={...b.extras.state,...this.generateNgRouterState(b.id,this.browserPageId+1)};this.location.go(M,"",B)}}restoreHistory(g,b=!1){if("computed"===this.canceledNavigationResolution){const B=this.currentPageId-this.browserPageId;0!==B?this.location.historyGo(B):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===B&&(this.resetState(g),this.browserUrlTree=g.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(b&&this.resetState(g),this.resetUrlToCurrentUrlTree())}resetState(g){this.routerState=g.currentRouterState,this.currentUrlTree=g.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,g.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(g,b){return"computed"===this.canceledNavigationResolution?{navigationId:g,\u0275routerPageId:b}:{navigationId:g}}static#e=this.\u0275fac=function(b){return new(b||v)};static#t=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function Xr(v){return!(v instanceof Pr||v instanceof Ri)}let Go=(()=>{class v{constructor(g,b,M,B,J,Ce){this.router=g,this.route=b,this.tabIndexAttribute=M,this.renderer=B,this.el=J,this.locationStrategy=Ce,this.href=null,this.commands=null,this.onChanges=new An.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Ie=J.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ie||"area"===Ie,this.isAnchorElement?this.subscription=g.events.subscribe(nt=>{nt instanceof Hi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(g){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",g)}ngOnChanges(g){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(g){null!=g?(this.commands=Array.isArray(g)?g:[g],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(g,b,M,B,J){return!!(null===this.urlTree||this.isAnchorElement&&(0!==g||b||M||B||J||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const g=null===this.href?null:(0,_.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",g)}applyAttributeValue(g,b){const M=this.renderer,B=this.el.nativeElement;null!==b?M.setAttribute(B,g,b):M.removeAttribute(B,g)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(b){return new(b||v)(_.Y36(Sr),_.Y36(Ci),_.$8M("tabindex"),_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(On.S$))};static#t=this.\u0275dir=_.lG2({type:v,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(b,M){1&b&&_.NdJ("click",function(J){return M.onClick(J.button,J.ctrlKey,J.shiftKey,J.altKey,J.metaKey)}),2&b&&_.uIk("target",M.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",_.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",_.VuI],replaceUrl:["replaceUrl","replaceUrl",_.VuI],routerLink:"routerLink"},standalone:!0,features:[_.Xq5,_.TTD]})}return v})();class Ko{}let at=(()=>{class v{constructor(g,b,M,B,J){this.router=g,this.injector=M,this.preloadingStrategy=B,this.loader=J}setUpPreloading(){this.subscription=this.router.events.pipe((0,we.h)(g=>g instanceof Hi),Le(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(g,b){const M=[];for(const B of b){B.providers&&!B._injector&&(B._injector=(0,_.MMx)(B.providers,g,`Route: ${B.path}`));const J=B._injector??g,Ce=B._loadedInjector??J;(B.loadChildren&&!B._loadedRoutes&&void 0===B.canLoad||B.loadComponent&&!B._loadedComponent)&&M.push(this.preloadConfig(J,B)),(B.children||B._loadedRoutes)&&M.push(this.processRoutes(Ce,B.children??B._loadedRoutes))}return(0,oe.D)(M).pipe((0,Ct.J)())}preloadConfig(g,b){return this.preloadingStrategy.preload(b,()=>{let M;M=b.loadChildren&&void 0===b.canLoad?this.loader.loadChildren(g,b):(0,ce.of)(null);const B=M.pipe((0,Ae.z)(J=>null===J?(0,ce.of)(void 0):(b._loadedRoutes=J.routes,b._loadedInjector=J.injector,this.processRoutes(J.injector??g,J.routes))));if(b.loadComponent&&!b._loadedComponent){const J=this.loader.loadComponent(b);return(0,oe.D)([B,J]).pipe((0,Ct.J)())}return B})}static#e=this.\u0275fac=function(b){return new(b||v)(_.LFG(Sr),_.LFG(_.Sil),_.LFG(_.lqb),_.LFG(Ko),_.LFG(Kt))};static#t=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();const un=new _.OlP("");let nn=(()=>{class v{constructor(g,b,M,B,J={}){this.urlSerializer=g,this.transitions=b,this.viewportScroller=M,this.zone=B,this.options=J,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},J.scrollPositionRestoration=J.scrollPositionRestoration||"disabled",J.anchorScrolling=J.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(g=>{g instanceof Ii?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=g.navigationTrigger,this.restoredId=g.restoredState?g.restoredState.navigationId:0):g instanceof Hi?(this.lastId=g.id,this.scheduleScrollEvent(g,this.urlSerializer.parse(g.urlAfterRedirects).fragment)):g instanceof Ts&&0===g.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(g,this.urlSerializer.parse(g.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(g=>{g instanceof kn&&(g.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(g.position):g.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(g.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(g,b){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new kn(g,"popstate"===this.lastSource?this.store[this.restoredId]:null,b))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(b){_.$Z()};static#t=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac})}return v})();function pi(v,C){return{\u0275kind:v,\u0275providers:C}}function qt(){const v=(0,_.f3M)(_.zs3);return C=>{const g=v.get(_.z2F);if(C!==g.components[0])return;const b=v.get(Sr),M=v.get(kr);1===v.get(da)&&b.initialNavigation(),v.get(fa,null,_.XFs.Optional)?.setUpPreloading(),v.get(un,null,_.XFs.Optional)?.init(),b.resetRootComponentType(g.componentTypes[0]),M.closed||(M.next(),M.complete(),M.unsubscribe())}}const kr=new _.OlP("",{factory:()=>new An.x}),da=new _.OlP("",{providedIn:"root",factory:()=>1}),fa=new _.OlP("");function wr(v){return pi(0,[{provide:fa,useExisting:at},{provide:Ko,useExisting:v}])}const Oa=new _.OlP("ROUTER_FORROOT_GUARD"),Yc=[On.Ye,{provide:In,useClass:gr},Sr,fo,{provide:Ci,useFactory:function Tn(v){return v.routerState.root},deps:[Sr]},Kt,[]];function Cc(){return new _.PXZ("Router",Sr)}let Hr=(()=>{class v{constructor(g){}static forRoot(g,b){return{ngModule:v,providers:[Yc,[],{provide:cn,multi:!0,useValue:g},{provide:Oa,useFactory:dr,deps:[[Sr,new _.FiY,new _.tp0]]},{provide:zt,useValue:b||{}},b?.useHash?{provide:On.S$,useClass:On.Do}:{provide:On.S$,useClass:On.b0},{provide:un,useFactory:()=>{const v=(0,_.f3M)(On.EM),C=(0,_.f3M)(_.R0b),g=(0,_.f3M)(zt),b=(0,_.f3M)(qr),M=(0,_.f3M)(In);return g.scrollOffset&&v.setOffset(g.scrollOffset),new nn(M,b,v,C,g)}},b?.preloadingStrategy?wr(b.preloadingStrategy).\u0275providers:[],{provide:_.PXZ,multi:!0,useFactory:Cc},b?.initialNavigation?bo(b):[],b?.bindToComponentInputs?pi(8,[Wi,{provide:$s,useExisting:Wi}]).\u0275providers:[],[{provide:ha,useFactory:qt},{provide:_.tb,multi:!0,useExisting:ha}]]}}static forChild(g){return{ngModule:v,providers:[{provide:cn,multi:!0,useValue:g}]}}static#e=this.\u0275fac=function(b){return new(b||v)(_.LFG(Oa,8))};static#t=this.\u0275mod=_.oAB({type:v});static#n=this.\u0275inj=_.cJS({})}return v})();function dr(v){return"guarded"}function bo(v){return["disabled"===v.initialNavigation?pi(3,[{provide:_.ip1,multi:!0,useFactory:()=>{const C=(0,_.f3M)(Sr);return()=>{C.setUpLocationChangeListener()}}},{provide:da,useValue:2}]).\u0275providers:[],"enabledBlocking"===v.initialNavigation?pi(2,[{provide:da,useValue:0},{provide:_.ip1,multi:!0,deps:[_.zs3],useFactory:C=>{const g=C.get(On.V_,Promise.resolve());return()=>g.then(()=>new Promise(b=>{const M=C.get(Sr),B=C.get(kr);Ja(M,()=>{b(!0)}),C.get(qr).afterPreactivation=()=>(b(!0),B.closed?(0,ce.of)(void 0):B),M.initialNavigation()}))}}]).\u0275providers:[]]}const ha=new _.OlP("")},6122:(ht,Te,O)=>{O.d(Te,{Jn:()=>Xn,qX:()=>xn,Xd:()=>Xt,KN:()=>In});var _=O(5861),Z=O(4537),z=O(7879),ue=O(9058);const oe=(Y,K)=>K.some(ae=>Y instanceof ae);let ce,pe;const X=new WeakMap,ne=new WeakMap,se=new WeakMap,$e=new WeakMap,Pe=new WeakMap;let tt={get(Y,K,ae){if(Y instanceof IDBTransaction){if("done"===K)return ne.get(Y);if("objectStoreNames"===K)return Y.objectStoreNames||se.get(Y);if("store"===K)return ae.objectStoreNames[1]?void 0:ae.objectStore(ae.objectStoreNames[0])}return he(Y[K])},set:(Y,K,ae)=>(Y[K]=ae,!0),has:(Y,K)=>Y instanceof IDBTransaction&&("done"===K||"store"===K)||K in Y};function pt(Y){return"function"==typeof Y?function Ct(Y){return Y!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Y)?function(...K){return Y.apply(Oe(this),K),he(X.get(this))}:function(...K){return he(Y.apply(Oe(this),K))}:function(K,...ae){const ke=Y.call(Oe(this),K,...ae);return se.set(ke,K.sort?K.sort():[K]),he(ke)}}(Y):(Y instanceof IDBTransaction&&function He(Y){if(ne.has(Y))return;const K=new Promise((ae,ke)=>{const Fe=()=>{Y.removeEventListener("complete",it),Y.removeEventListener("error",bt),Y.removeEventListener("abort",bt)},it=()=>{ae(),Fe()},bt=()=>{ke(Y.error||new DOMException("AbortError","AbortError")),Fe()};Y.addEventListener("complete",it),Y.addEventListener("error",bt),Y.addEventListener("abort",bt)});ne.set(Y,K)}(Y),oe(Y,function Re(){return ce||(ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Y,tt):Y)}function he(Y){if(Y instanceof IDBRequest)return function Xe(Y){const K=new Promise((ae,ke)=>{const Fe=()=>{Y.removeEventListener("success",it),Y.removeEventListener("error",bt)},it=()=>{ae(he(Y.result)),Fe()},bt=()=>{ke(Y.error),Fe()};Y.addEventListener("success",it),Y.addEventListener("error",bt)});return K.then(ae=>{ae instanceof IDBCursor&&X.set(ae,Y)}).catch(()=>{}),Pe.set(K,Y),K}(Y);if($e.has(Y))return $e.get(Y);const K=pt(Y);return K!==Y&&($e.set(Y,K),Pe.set(K,Y)),K}const Oe=Y=>Pe.get(Y),Ke=["get","getKey","getAll","getAllKeys","count"],Je=["put","add","delete","clear"],Ee=new Map;function vt(Y,K){if(!(Y instanceof IDBDatabase)||K in Y||"string"!=typeof K)return;if(Ee.get(K))return Ee.get(K);const ae=K.replace(/FromIndex$/,""),ke=K!==ae,Fe=Je.includes(ae);if(!(ae in(ke?IDBIndex:IDBObjectStore).prototype)||!Fe&&!Ke.includes(ae))return;const it=function(){var bt=(0,_.Z)(function*(Yt,...en){const Dn=this.transaction(Yt,Fe?"readwrite":"readonly");let mr=Dn.store;return ke&&(mr=mr.index(en.shift())),(yield Promise.all([mr[ae](...en),Fe&&Dn.done]))[0]});return function(en){return bt.apply(this,arguments)}}();return Ee.set(K,it),it}!function Ze(Y){tt=Y(tt)}(Y=>({...Y,get:(K,ae,ke)=>vt(K,ae)||Y.get(K,ae,ke),has:(K,ae)=>!!vt(K,ae)||Y.has(K,ae)}));class $t{constructor(K){this.container=K}getPlatformInfoString(){return this.container.getProviders().map(ae=>{if(function Wn(Y){const K=Y.getComponent();return"VERSION"===K?.type}(ae)){const ke=ae.getImmediate();return`${ke.library}/${ke.version}`}return null}).filter(ae=>ae).join(" ")}}const An="@firebase/app",At=new z.Yd("@firebase/app"),Tt={[An]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},wt=new Map,Ht=new Map;function En(Y,K){try{Y.container.addComponent(K)}catch(ae){At.debug(`Component ${K.name} failed to register with FirebaseApp ${Y.name}`,ae)}}function Xt(Y){const K=Y.name;if(Ht.has(K))return At.debug(`There were multiple attempts to register component ${K}.`),!1;Ht.set(K,Y);for(const ae of wt.values())En(ae,Y);return!0}function xn(Y,K){const ae=Y.container.getProvider("heartbeat").getImmediate({optional:!0});return ae&&ae.triggerHeartbeat(),Y.container.getProvider(K)}const Rt=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."}),Xn="10.4.0";function In(Y,K,ae){var ke;let Fe=null!==(ke=Tt[Y])&&void 0!==ke?ke:Y;ae&&(Fe+=`-${ae}`);const it=Fe.match(/\s|\//),bt=K.match(/\s|\//);if(it||bt){const Yt=[`Unable to register library "${Fe}" with version "${K}":`];return it&&Yt.push(`library name "${Fe}" contains illegal characters (whitespace or "/")`),it&&bt&&Yt.push("and"),bt&&Yt.push(`version name "${K}" contains illegal characters (whitespace or "/")`),void At.warn(Yt.join(" "))}Xt(new Z.wA(`${Fe}-version`,()=>({library:Fe,version:K}),"VERSION"))}const Jn="firebase-heartbeat-database",er=1,re="firebase-heartbeat-store";let j=null;function $(){return j||(j=function me(Y,K,{blocked:ae,upgrade:ke,blocking:Fe,terminated:it}={}){const bt=indexedDB.open(Y,K),Yt=he(bt);return ke&&bt.addEventListener("upgradeneeded",en=>{ke(he(bt.result),en.oldVersion,en.newVersion,he(bt.transaction),en)}),ae&&bt.addEventListener("blocked",en=>ae(en.oldVersion,en.newVersion,en)),Yt.then(en=>{it&&en.addEventListener("close",()=>it()),Fe&&en.addEventListener("versionchange",Dn=>Fe(Dn.oldVersion,Dn.newVersion,Dn))}).catch(()=>{}),Yt}(Jn,er,{upgrade:(Y,K)=>{0===K&&Y.createObjectStore(re)}}).catch(Y=>{throw Rt.create("idb-open",{originalErrorMessage:Y.message})})),j}function W(){return(W=(0,_.Z)(function*(Y){try{return yield(yield $()).transaction(re).objectStore(re).get(qe(Y))}catch(K){if(K instanceof ue.ZR)At.warn(K.message);else{const ae=Rt.create("idb-get",{originalErrorMessage:K?.message});At.warn(ae.message)}}})).apply(this,arguments)}function fe(Y,K){return We.apply(this,arguments)}function We(){return(We=(0,_.Z)(function*(Y,K){try{const ke=(yield $()).transaction(re,"readwrite");yield ke.objectStore(re).put(K,qe(Y)),yield ke.done}catch(ae){if(ae instanceof ue.ZR)At.warn(ae.message);else{const ke=Rt.create("idb-set",{originalErrorMessage:ae?.message});At.warn(ke.message)}}})).apply(this,arguments)}function qe(Y){return`${Y.name}!${Y.options.appId}`}class Wt{constructor(K){this.container=K,this._heartbeatsCache=null;const ae=this.container.getProvider("app").getImmediate();this._storage=new ui(ae),this._heartbeatsCachePromise=this._storage.read().then(ke=>(this._heartbeatsCache=ke,ke))}triggerHeartbeat(){var K=this;return(0,_.Z)(function*(){const ke=K.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Fe=Ut();if(null===K._heartbeatsCache&&(K._heartbeatsCache=yield K._heartbeatsCachePromise),K._heartbeatsCache.lastSentHeartbeatDate!==Fe&&!K._heartbeatsCache.heartbeats.some(it=>it.date===Fe))return K._heartbeatsCache.heartbeats.push({date:Fe,agent:ke}),K._heartbeatsCache.heartbeats=K._heartbeatsCache.heartbeats.filter(it=>{const bt=new Date(it.date).valueOf();return Date.now()-bt<=2592e6}),K._storage.overwrite(K._heartbeatsCache)})()}getHeartbeatsHeader(){var K=this;return(0,_.Z)(function*(){if(null===K._heartbeatsCache&&(yield K._heartbeatsCachePromise),null===K._heartbeatsCache||0===K._heartbeatsCache.heartbeats.length)return"";const ae=Ut(),{heartbeatsToSend:ke,unsentEntries:Fe}=function yn(Y,K=1024){const ae=[];let ke=Y.slice();for(const Fe of Y){const it=ae.find(bt=>bt.agent===Fe.agent);if(it){if(it.dates.push(Fe.date),Fr(ae)>K){it.dates.pop();break}}else if(ae.push({agent:Fe.agent,dates:[Fe.date]}),Fr(ae)>K){ae.pop();break}ke=ke.slice(1)}return{heartbeatsToSend:ae,unsentEntries:ke}}(K._heartbeatsCache.heartbeats),it=(0,ue.L)(JSON.stringify({version:2,heartbeats:ke}));return K._heartbeatsCache.lastSentHeartbeatDate=ae,Fe.length>0?(K._heartbeatsCache.heartbeats=Fe,yield K._storage.overwrite(K._heartbeatsCache)):(K._heartbeatsCache.heartbeats=[],K._storage.overwrite(K._heartbeatsCache)),it})()}}function Ut(){return(new Date).toISOString().substring(0,10)}class ui{constructor(K){this.app=K,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,_.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var K=this;return(0,_.Z)(function*(){return(yield K._canUseIndexedDBPromise)&&(yield function H(Y){return W.apply(this,arguments)}(K.app))||{heartbeats:[]}})()}overwrite(K){var ae=this;return(0,_.Z)(function*(){var ke;if(yield ae._canUseIndexedDBPromise){const it=yield ae.read();return fe(ae.app,{lastSentHeartbeatDate:null!==(ke=K.lastSentHeartbeatDate)&&void 0!==ke?ke:it.lastSentHeartbeatDate,heartbeats:K.heartbeats})}})()}add(K){var ae=this;return(0,_.Z)(function*(){var ke;if(yield ae._canUseIndexedDBPromise){const it=yield ae.read();return fe(ae.app,{lastSentHeartbeatDate:null!==(ke=K.lastSentHeartbeatDate)&&void 0!==ke?ke:it.lastSentHeartbeatDate,heartbeats:[...it.heartbeats,...K.heartbeats]})}})()}}function Fr(Y){return(0,ue.L)(JSON.stringify({version:2,heartbeats:Y})).length}!function Vi(Y){Xt(new Z.wA("platform-logger",K=>new $t(K),"PRIVATE")),Xt(new Z.wA("heartbeat",K=>new Wt(K),"PRIVATE")),In(An,"0.9.19",Y),In(An,"0.9.19","esm2017"),In("fire-js","")}("")},4537:(ht,Te,O)=>{O.d(Te,{H0:()=>Re,wA:()=>z,zt:()=>oe});var _=O(5861),Z=O(9058);class z{constructor(X,ne,se){this.name=X,this.instanceFactory=ne,this.type=se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(X){return this.instantiationMode=X,this}setMultipleInstances(X){return this.multipleInstances=X,this}setServiceProps(X){return this.serviceProps=X,this}setInstanceCreatedCallback(X){return this.onInstanceCreated=X,this}}const ue="[DEFAULT]";class oe{constructor(X,ne){this.name=X,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(X){const ne=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(ne)){const se=new Z.BH;if(this.instancesDeferred.set(ne,se),this.isInitialized(ne)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:ne});$e&&se.resolve($e)}catch{}}return this.instancesDeferred.get(ne).promise}getImmediate(X){var ne;const se=this.normalizeInstanceIdentifier(X?.identifier),$e=null!==(ne=X?.optional)&&void 0!==ne&&ne;if(!this.isInitialized(se)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:se})}catch(Pe){if($e)return null;throw Pe}}getComponent(){return this.component}setComponent(X){if(X.name!==this.name)throw Error(`Mismatching Component ${X.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=X,this.shouldAutoInitialize()){if(function pe(ve){return"EAGER"===ve.instantiationMode}(X))try{this.getOrInitializeService({instanceIdentifier:ue})}catch{}for(const[ne,se]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(ne);try{const Pe=this.getOrInitializeService({instanceIdentifier:$e});se.resolve(Pe)}catch{}}}}clearInstance(X=ue){this.instancesDeferred.delete(X),this.instancesOptions.delete(X),this.instances.delete(X)}delete(){var X=this;return(0,_.Z)(function*(){const ne=Array.from(X.instances.values());yield Promise.all([...ne.filter(se=>"INTERNAL"in se).map(se=>se.INTERNAL.delete()),...ne.filter(se=>"_delete"in se).map(se=>se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(X=ue){return this.instances.has(X)}getOptions(X=ue){return this.instancesOptions.get(X)||{}}initialize(X={}){const{options:ne={}}=X,se=this.normalizeInstanceIdentifier(X.instanceIdentifier);if(this.isInitialized(se))throw Error(`${this.name}(${se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:se,options:ne});for(const[Pe,Xe]of this.instancesDeferred.entries())se===this.normalizeInstanceIdentifier(Pe)&&Xe.resolve($e);return $e}onInit(X,ne){var se;const $e=this.normalizeInstanceIdentifier(ne),Pe=null!==(se=this.onInitCallbacks.get($e))&&void 0!==se?se:new Set;Pe.add(X),this.onInitCallbacks.set($e,Pe);const Xe=this.instances.get($e);return Xe&&X(Xe,$e),()=>{Pe.delete(X)}}invokeOnInitCallbacks(X,ne){const se=this.onInitCallbacks.get(ne);if(se)for(const $e of se)try{$e(X,ne)}catch{}}getOrInitializeService({instanceIdentifier:X,options:ne={}}){let se=this.instances.get(X);if(!se&&this.component&&(se=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=X,ve===ue?void 0:ve),options:ne}),this.instances.set(X,se),this.instancesOptions.set(X,ne),this.invokeOnInitCallbacks(se,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,se)}catch{}var ve;return se||null}normalizeInstanceIdentifier(X=ue){return this.component?this.component.multipleInstances?X:ue:X}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Re{constructor(X){this.name=X,this.providers=new Map}addComponent(X){const ne=this.getProvider(X.name);if(ne.isComponentSet())throw new Error(`Component ${X.name} has already been registered with ${this.name}`);ne.setComponent(X)}addOrOverwriteComponent(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)}getProvider(X){if(this.providers.has(X))return this.providers.get(X);const ne=new oe(X,this);return this.providers.set(X,ne),ne}getProviders(){return Array.from(this.providers.values())}}},7879:(ht,Te,O)=>{O.d(Te,{Am:()=>ve,Ub:()=>Re,Yd:()=>pe,in:()=>Z});const _=[];var Z=function(X){return X[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",X}(Z||{});const z={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},ue=Z.INFO,oe={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},ce=(X,ne,...se)=>{if(ne<X.logLevel)return;const $e=(new Date).toISOString(),Pe=oe[ne];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[Pe](`[${$e}]  ${X.name}:`,...se)};class pe{constructor(ne){this.name=ne,this._logLevel=ue,this._logHandler=ce,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in Z))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?z[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...ne),this._logHandler(this,Z.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...ne),this._logHandler(this,Z.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...ne),this._logHandler(this,Z.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...ne),this._logHandler(this,Z.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...ne),this._logHandler(this,Z.ERROR,...ne)}}function Re(X){_.forEach(ne=>{ne.setLogLevel(X)})}function ve(X,ne){for(const se of _){let $e=null;ne&&ne.level&&($e=z[ne.level]),se.userLogHandler=null===X?null:(Pe,Xe,...He)=>{const tt=He.map(Ze=>{if(null==Ze)return null;if("string"==typeof Ze)return Ze;if("number"==typeof Ze||"boolean"==typeof Ze)return Ze.toString();if(Ze instanceof Error)return Ze.message;try{return JSON.stringify(Ze)}catch{return null}}).filter(Ze=>Ze).join(" ");Xe>=($e??Pe.logLevel)&&X({level:Z[Xe].toLowerCase(),message:tt,args:He,type:Pe.name})}}}},5861:(ht,Te,O)=>{function _(z,ue,oe,ce,pe,Re,ve){try{var X=z[Re](ve),ne=X.value}catch(se){return void oe(se)}X.done?ue(ne):Promise.resolve(ne).then(ce,pe)}function Z(z){return function(){var ue=this,oe=arguments;return new Promise(function(ce,pe){var Re=z.apply(ue,oe);function ve(ne){_(Re,ce,pe,ve,X,"next",ne)}function X(ne){_(Re,ce,pe,ve,X,"throw",ne)}ve(void 0)})}}O.d(Te,{Z:()=>Z})},7582:(ht,Te,O)=>{function ue(be,we){var Ae={};for(var xe in be)Object.prototype.hasOwnProperty.call(be,xe)&&we.indexOf(xe)<0&&(Ae[xe]=be[xe]);if(null!=be&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(xe=Object.getOwnPropertySymbols(be);Le<xe.length;Le++)we.indexOf(xe[Le])<0&&Object.prototype.propertyIsEnumerable.call(be,xe[Le])&&(Ae[xe[Le]]=be[xe[Le]])}return Ae}function se(be,we,Ae,xe){return new(Ae||(Ae=Promise))(function(Ne,st){function V(tn){try{Et(xe.next(tn))}catch(Lt){st(Lt)}}function pn(tn){try{Et(xe.throw(tn))}catch(Lt){st(Lt)}}function Et(tn){tn.done?Ne(tn.value):function Le(Ne){return Ne instanceof Ae?Ne:new Ae(function(st){st(Ne)})}(tn.value).then(V,pn)}Et((xe=xe.apply(be,we||[])).next())})}function he(be){return this instanceof he?(this.v=be,this):new he(be)}function Oe(be,we,Ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,xe=Ae.apply(be,we||[]),Ne=[];return Le={},st("next"),st("throw"),st("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function st(xt){xe[xt]&&(Le[xt]=function(gn){return new Promise(function(Mn,sn){Ne.push([xt,gn,Mn,sn])>1||V(xt,gn)})})}function V(xt,gn){try{!function pn(xt){xt.value instanceof he?Promise.resolve(xt.value.v).then(Et,tn):Lt(Ne[0][2],xt)}(xe[xt](gn))}catch(Mn){Lt(Ne[0][3],Mn)}}function Et(xt){V("next",xt)}function tn(xt){V("throw",xt)}function Lt(xt,gn){xt(gn),Ne.shift(),Ne.length&&V(Ne[0][0],Ne[0][1])}}function Ue(be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ae,we=be[Symbol.asyncIterator];return we?we.call(be):(be=function He(be){var we="function"==typeof Symbol&&Symbol.iterator,Ae=we&&be[we],xe=0;if(Ae)return Ae.call(be);if(be&&"number"==typeof be.length)return{next:function(){return be&&xe>=be.length&&(be=void 0),{value:be&&be[xe++],done:!be}}};throw new TypeError(we?"Object is not iterable.":"Symbol.iterator is not defined.")}(be),Ae={},xe("next"),xe("throw"),xe("return"),Ae[Symbol.asyncIterator]=function(){return this},Ae);function xe(Ne){Ae[Ne]=be[Ne]&&function(st){return new Promise(function(V,pn){!function Le(Ne,st,V,pn){Promise.resolve(pn).then(function(Et){Ne({value:Et,done:V})},st)}(V,pn,(st=be[Ne](st)).done,st.value)})}}}O.d(Te,{FC:()=>Oe,KL:()=>Ue,_T:()=>ue,mG:()=>se,qq:()=>he}),"function"==typeof SuppressedError&&SuppressedError}},ht=>{ht(ht.s=7485)}]);